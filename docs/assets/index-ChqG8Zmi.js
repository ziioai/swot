var Wo=Object.defineProperty;var Yo=(e,o,t)=>o in e?Wo(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var Y=(e,o,t)=>Yo(e,typeof o!="symbol"?o+"":o,t);import{Q as yo,r as P,c as H,R as j,S as Ko,U as r,V as ko,W as Xo,a as ne,X as xo,w as fe,Y as Ae,Z as Ye,_ as Zo,y as er,s as or,d as X,$ as rr,a0 as tr,a1 as ar,a2 as nr,a3 as ir}from"./vue-BfAo3U34.js";import{l as te,c as lr,n as ie,a as Ke,F as Xe}from"./tools1-CSK6V4E_.js";import{_ as q}from"./SpaCE2025-EGHunPcn.js";import{s as sr,a as cr,b as dr,d as ur,c as F,e as V,f as gr,g as fr,u as me,h as De,i as pr,j as Ue,k as mr,l as Co,m as pe,n as K,o as J,T as wo,p as Te,q as Ce,r as Ze,t as vr,v as br,w as oe,x as hr,y as re,P as yr,z as kr,D as xr,C as Cr}from"./primevue-BkG5CYY_.js";import{u as wr}from"./vueuse-CmiLtAoi.js";import{D as So}from"./tools2-Q6sTcaEI.js";import{M as $o}from"./markdown-utils-BMSQkwth.js";import{O as Sr}from"./openai-Dpgyc7nP.js";import{S as $r}from"./SpaCE2024-HkPd1yTV.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const Le="my-app-dark",To=yo("darkMode",()=>{const e=P(Le),o=P(!1),t=H(()=>`.${e.value}`),l=H(()=>document.documentElement.classList.contains(Le)),n=()=>{document.documentElement.classList.add(e.value),o.value=!0},a=()=>{document.documentElement.classList.remove(e.value),o.value=!1};return{className:e,isOn:o,darkModeClass:t,isDarkMode:l,turnOn:n,turnOff:a,toggle:()=>{document.documentElement.classList.toggle(e.value),o.value=!o.value},turn:()=>{o.value?n():a()}}},{persist:{serializer:{deserialize:te.parse,serialize:te.stringify},pick:["isOn"]}}),Tr={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},Br={state:()=>q.cloneDeep(Tr),getters:{},actions:{setLocale(e,o){var t;e=(e??"").toLowerCase(),(t=this.availableLocales)!=null&&t.includes(e)||(e=this.locale),o!=null&&(o.value=e),this.locale=e}},persist:{serializer:{deserialize:te.parse,serialize:te.stringify}}},Bo=yo("systemSettingsStore",Br),Dr=j({setup(){const e=To(),{turn:o}=e,t=Bo(),{setLocale:l}=t;return Ko(()=>{o(),l()}),()=>[r(ko),r(sr),r(cr),r(dr)]}}),Rr=j({setup(){return()=>r(Dr)}});var Ir=(...e)=>ur(...e),Pr={transitionDuration:"{transition.duration}"},Er={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},qr={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},Nr={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},zr={root:Pr,panel:Er,header:qr,content:Nr},Or={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Ar={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Fr={padding:"{list.padding}",gap:"{list.gap}"},Ur={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},_r={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Mr={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Vr={borderRadius:"{border.radius.sm}"},Lr={padding:"{list.option.padding}"},jr={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},Jr={root:Or,overlay:Ar,list:Fr,option:Ur,optionGroup:_r,dropdown:Mr,chip:Vr,emptyMessage:Lr,colorScheme:jr},Qr={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},Hr={size:"1rem"},Gr={borderColor:"{content.background}",offset:"-0.75rem"},Wr={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},Yr={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},Kr={root:Qr,icon:Hr,group:Gr,lg:Wr,xl:Yr},Xr={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},Zr={size:"0.5rem"},et={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},ot={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},rt={fontSize:"1rem",minWidth:"2rem",height:"2rem"},tt={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},at={root:Xr,dot:Zr,sm:et,lg:ot,xl:rt,colorScheme:tt},nt={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},it={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},lt={primitive:nt,semantic:it},st={borderRadius:"{content.border.radius}"},ct={root:st},dt={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},ut={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},gt={color:"{navigation.item.icon.color}"},ft={root:dt,item:ut,separator:gt},pt={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},mt={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},vt={root:pt,colorScheme:mt},bt={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},ht={padding:"1.25rem",gap:"0.5rem"},yt={gap:"0.5rem"},kt={fontSize:"1.25rem",fontWeight:"500"},xt={color:"{text.muted.color}"},Ct={root:bt,body:ht,caption:yt,title:kt,subtitle:xt},wt={transitionDuration:"{transition.duration}"},St={gap:"0.25rem"},$t={padding:"1rem",gap:"0.5rem"},Tt={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Bt={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},Dt={root:wt,content:St,indicatorList:$t,indicator:Tt,colorScheme:Bt},Rt={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},It={width:"2.5rem",color:"{form.field.icon.color}"},Pt={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Et={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},qt={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},Nt={color:"{form.field.icon.color}"},zt={root:Rt,dropdown:It,overlay:Pt,list:Et,option:qt,clearIcon:Nt},Ot={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},At={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Ft={root:Ot,icon:At},Ut={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},_t={width:"2rem",height:"2rem"},Mt={size:"1rem"},Vt={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},Lt={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},jt={root:Ut,image:_t,icon:Mt,removeIcon:Vt,colorScheme:Lt},Jt={transitionDuration:"{transition.duration}"},Qt={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ht={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},Gt={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},Wt={root:Jt,preview:Qt,panel:Ht,colorScheme:Gt},Yt={size:"2rem",color:"{overlay.modal.color}"},Kt={gap:"1rem"},Xt={icon:Yt,content:Kt},Zt={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},ea={padding:"{overlay.popover.padding}",gap:"1rem"},oa={size:"1.5rem",color:"{overlay.popover.color}"},ra={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},ta={root:Zt,content:ea,icon:oa,footer:ra},aa={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},na={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},ia={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},la={mobileIndent:"1rem"},sa={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},ca={borderColor:"{content.border.color}"},da={root:aa,list:na,item:ia,submenu:la,submenuIcon:sa,separator:ca},ua={transitionDuration:"{transition.duration}"},ga={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},fa={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},pa={fontWeight:"600"},ma={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},va={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ba={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ha={fontWeight:"600"},ya={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ka={color:"{primary.color}"},xa={width:"0.5rem"},Ca={width:"1px",color:"{primary.color}"},wa={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Sa={size:"2rem"},$a={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ta={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},Ba={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Da={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Ra={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Ia={root:ua,header:ga,headerCell:fa,columnTitle:pa,row:ma,bodyCell:va,footerCell:ba,columnFooter:ha,footer:ya,dropPoint:ka,columnResizer:xa,resizeIndicator:Ca,sortIcon:wa,loadingIcon:Sa,rowToggleButton:$a,filter:Ta,paginatorTop:Ba,paginatorBottom:Da,colorScheme:Ra},Pa={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},Ea={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},qa={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},Na={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},za={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Oa={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},Aa={root:Pa,header:Ea,content:qa,footer:Na,paginatorTop:za,paginatorBottom:Oa},Fa={transitionDuration:"{transition.duration}"},Ua={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},_a={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},Ma={gap:"0.5rem",fontWeight:"500"},Va={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},La={color:"{form.field.icon.color}"},ja={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Ja={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Qa={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},Ha={margin:"0.5rem 0 0 0"},Ga={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},Wa={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ya={margin:"0.5rem 0 0 0"},Ka={padding:"0.375rem",borderRadius:"{content.border.radius}"},Xa={margin:"0.5rem 0 0 0"},Za={padding:"0.375rem",borderRadius:"{content.border.radius}"},en={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},on={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},rn={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},tn={root:Fa,panel:Ua,header:_a,title:Ma,dropdown:Va,inputIcon:La,selectMonth:ja,selectYear:Ja,group:Qa,dayView:Ha,weekDay:Ga,date:Wa,monthView:Ya,month:Ka,yearView:Xa,year:Za,buttonbar:en,timePicker:on,colorScheme:rn},an={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},nn={padding:"{overlay.modal.padding}",gap:"0.5rem"},ln={fontSize:"1.25rem",fontWeight:"600"},sn={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},cn={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},dn={root:an,header:nn,title:ln,content:sn,footer:cn},un={borderColor:"{content.border.color}"},gn={background:"{content.background}",color:"{text.color}"},fn={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},pn={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},mn={root:un,content:gn,horizontal:fn,vertical:pn},vn={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},bn={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},hn={root:vn,item:bn},yn={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},kn={padding:"{overlay.modal.padding}"},xn={fontSize:"1.5rem",fontWeight:"600"},Cn={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},wn={padding:"{overlay.modal.padding}"},Sn={root:yn,header:kn,title:xn,content:Cn,footer:wn},$n={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},Tn={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},Bn={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},Dn={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Rn={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},In={toolbar:$n,toolbarItem:Tn,overlay:Bn,overlayOption:Dn,content:Rn},Pn={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},En={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},qn={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},Nn={padding:"0"},zn={root:Pn,legend:En,toggleIcon:qn,content:Nn},On={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},An={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},Fn={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},Un={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},_n={gap:"0.5rem"},Mn={height:"0.25rem"},Vn={gap:"0.5rem"},Ln={root:On,header:An,content:Fn,file:Un,fileList:_n,progressbar:Mn,basic:Vn},jn={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},Jn={active:{top:"-1.25rem"}},Qn={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},Hn={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},Gn={root:jn,over:Jn,in:Qn,on:Hn},Wn={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},Yn={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Kn={size:"1.5rem"},Xn={background:"{content.background}",padding:"1rem 0.25rem"},Zn={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ei={size:"1rem"},oi={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},ri={gap:"0.5rem",padding:"1rem"},ti={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ai={background:"rgba(0, 0, 0, 0.5)"},ni={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},ii={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},li={size:"1.5rem"},si={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},ci={root:Wn,navButton:Yn,navIcon:Kn,thumbnailsContent:Xn,thumbnailNavButton:Zn,thumbnailNavButtonIcon:ei,caption:oi,indicatorList:ri,indicatorButton:ti,insetIndicatorList:ai,insetIndicatorButton:ni,closeButton:ii,closeButtonIcon:li,colorScheme:si},di={color:"{form.field.icon.color}"},ui={icon:di},gi={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},fi={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},pi={root:gi,input:fi},mi={transitionDuration:"{transition.duration}"},vi={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},bi={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},hi={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},yi={root:mi,preview:vi,toolbar:bi,action:hi},ki={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},xi={handle:ki},Ci={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},wi={fontWeight:"500"},Si={size:"1rem"},$i={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},Ti={root:Ci,text:wi,icon:Si,colorScheme:$i},Bi={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},Di={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},Ri={root:Bi,display:Di},Ii={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Pi={borderRadius:"{border.radius.sm}"},Ei={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},qi={root:Ii,chip:Pi,colorScheme:Ei},Ni={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},zi={addon:Ni},Oi={transitionDuration:"{transition.duration}"},Ai={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},Fi={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},Ui={root:Oi,button:Ai,colorScheme:Fi},_i={gap:"0.5rem"},Mi={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},Vi={root:_i,input:Mi},Li={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},ji={root:Li},Ji={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Qi={background:"{primary.color}"},Hi={background:"{content.border.color}"},Gi={color:"{text.muted.color}"},Wi={root:Ji,value:Qi,range:Hi,text:Gi},Yi={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},Ki={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Xi={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Zi={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},el={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},ol={padding:"{list.option.padding}"},rl={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},tl={root:Yi,list:Ki,option:Xi,optionGroup:Zi,checkmark:el,emptyMessage:ol,colorScheme:rl},al={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},nl={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},il={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},ll={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},sl={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},cl={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},dl={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},ul={borderColor:"{content.border.color}"},gl={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},fl={root:al,baseItem:nl,item:il,overlay:ll,submenu:sl,submenuLabel:cl,submenuIcon:dl,separator:ul,mobileButton:gl},pl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},ml={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},vl={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},bl={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},hl={borderColor:"{content.border.color}"},yl={root:pl,list:ml,item:vl,submenuLabel:bl,separator:hl},kl={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},xl={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},Cl={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},wl={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},Sl={borderColor:"{content.border.color}"},$l={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Tl={root:kl,baseItem:xl,item:Cl,submenu:wl,separator:Sl,mobileButton:$l},Bl={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},Dl={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},Rl={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},Il={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},Pl={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},El={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},ql={root:{borderWidth:"1px"}},Nl={content:{padding:"0"}},zl={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},Ol={root:Bl,content:Dl,text:Rl,icon:Il,closeButton:Pl,closeIcon:El,outlined:ql,simple:Nl,colorScheme:zl},Al={borderRadius:"{content.border.radius}",gap:"1rem"},Fl={background:"{content.border.color}",size:"0.5rem"},Ul={gap:"0.5rem"},_l={size:"0.5rem"},Ml={size:"1rem"},Vl={verticalGap:"0.5rem",horizontalGap:"1rem"},Ll={root:Al,meters:Fl,label:Ul,labelMarker:_l,labelIcon:Ml,labelList:Vl},jl={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Jl={width:"2.5rem",color:"{form.field.icon.color}"},Ql={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Hl={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Gl={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},Wl={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Yl={color:"{form.field.icon.color}"},Kl={borderRadius:"{border.radius.sm}"},Xl={padding:"{list.option.padding}"},Zl={root:jl,dropdown:Jl,overlay:Ql,list:Hl,option:Gl,optionGroup:Wl,chip:Kl,clearIcon:Yl,emptyMessage:Xl},es={gap:"1.125rem"},os={gap:"0.5rem"},rs={root:es,controls:os},ts={gutter:"0.75rem",transitionDuration:"{transition.duration}"},as={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},ns={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},is={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},ls={root:ts,node:as,nodeToggleButton:ns,connector:is},ss={outline:{width:"2px",color:"{content.background}"}},cs={root:ss},ds={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},us={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},gs={color:"{text.muted.color}"},fs={maxWidth:"2.5rem"},ps={root:ds,navButton:us,currentPageReport:gs,jumpToPageInput:fs},ms={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},vs={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},bs={padding:"0.375rem 1.125rem"},hs={fontWeight:"600"},ys={padding:"0 1.125rem 1.125rem 1.125rem"},ks={padding:"0 1.125rem 1.125rem 1.125rem"},xs={root:ms,header:vs,toggleableHeader:bs,title:hs,content:ys,footer:ks},Cs={gap:"0.5rem",transitionDuration:"{transition.duration}"},ws={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},Ss={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},$s={indent:"1rem"},Ts={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},Bs={root:Cs,panel:ws,item:Ss,submenu:$s,submenuIcon:Ts},Ds={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},Rs={color:"{form.field.icon.color}"},Is={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},Ps={gap:"0.5rem"},Es={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},qs={meter:Ds,icon:Rs,overlay:Is,content:Ps,colorScheme:Es},Ns={gap:"1.125rem"},zs={gap:"0.5rem"},Os={root:Ns,controls:zs},As={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Fs={padding:"{overlay.popover.padding}"},Us={root:As,content:Fs},_s={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},Ms={background:"{primary.color}"},Vs={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},Ls={root:_s,value:Ms,label:Vs},js={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},Js={colorScheme:js},Qs={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Hs={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},Gs={root:Qs,icon:Hs},Ws={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ys={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},Ks={root:Ws,icon:Ys},Xs={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},Zs={colorScheme:Xs},ec={transitionDuration:"{transition.duration}"},oc={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},rc={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},tc={root:ec,bar:oc,colorScheme:rc},ac={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},nc={width:"2.5rem",color:"{form.field.icon.color}"},ic={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},lc={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},sc={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},cc={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dc={color:"{form.field.icon.color}"},uc={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},gc={padding:"{list.option.padding}"},fc={root:ac,dropdown:nc,overlay:ic,list:lc,option:sc,optionGroup:cc,clearIcon:dc,checkmark:uc,emptyMessage:gc},pc={borderRadius:"{form.field.border.radius}"},mc={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},vc={root:pc,colorScheme:mc},bc={borderRadius:"{content.border.radius}"},hc={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},yc={root:bc,colorScheme:hc},kc={transitionDuration:"{transition.duration}"},xc={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},Cc={background:"{primary.color}"},wc={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Sc={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},$c={root:kc,track:xc,range:Cc,handle:wc,colorScheme:Sc},Tc={gap:"0.5rem",transitionDuration:"{transition.duration}"},Bc={root:Tc},Dc={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},Rc={root:Dc},Ic={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},Pc={background:"{content.border.color}"},Ec={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},qc={root:Ic,gutter:Pc,handle:Ec},Nc={transitionDuration:"{transition.duration}"},zc={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},Oc={padding:"0.5rem",gap:"1rem"},Ac={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Fc={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Uc={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},_c={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},Mc={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},Vc={root:Nc,separator:zc,step:Oc,stepHeader:Ac,stepTitle:Fc,stepNumber:Uc,steppanels:_c,steppanel:Mc},Lc={transitionDuration:"{transition.duration}"},jc={background:"{content.border.color}"},Jc={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Qc={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Hc={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},Gc={root:Lc,separator:jc,itemLink:Jc,itemLabel:Qc,itemNumber:Hc},Wc={transitionDuration:"{transition.duration}"},Yc={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},Kc={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Xc={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},Zc={height:"1px",bottom:"-1px",background:"{primary.color}"},ed={root:Wc,tablist:Yc,item:Kc,itemIcon:Xc,activeBar:Zc},od={transitionDuration:"{transition.duration}"},rd={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},td={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ad={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},nd={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},id={height:"1px",bottom:"-1px",background:"{primary.color}"},ld={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},sd={root:od,tablist:rd,tab:td,tabpanel:ad,navButton:nd,activeBar:id,colorScheme:ld},cd={transitionDuration:"{transition.duration}"},dd={background:"{content.background}",borderColor:"{content.border.color}"},ud={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},gd={background:"{content.background}",color:"{content.color}"},fd={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},pd={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},md={root:cd,tabList:dd,tab:ud,tabPanel:gd,navButton:fd,colorScheme:pd},vd={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},bd={size:"0.75rem"},hd={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},yd={root:vd,icon:bd,colorScheme:hd},kd={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},xd={gap:"0.25rem"},Cd={margin:"2px 0"},wd={root:kd,prompt:xd,commandResponse:Cd},Sd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},$d={root:Sd},Td={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},Bd={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},Dd={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Rd={mobileIndent:"1rem"},Id={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},Pd={borderColor:"{content.border.color}"},Ed={root:Td,list:Bd,item:Dd,submenu:Rd,submenuIcon:Id,separator:Pd},qd={minHeight:"5rem"},Nd={eventContent:{padding:"1rem 0"}},zd={eventContent:{padding:"0 1rem"}},Od={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},Ad={color:"{content.border.color}",size:"2px"},Fd={event:qd,horizontal:Nd,vertical:zd,eventMarker:Od,eventConnector:Ad},Ud={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},_d={size:"1.125rem"},Md={padding:"{overlay.popover.padding}",gap:"0.5rem"},Vd={gap:"0.5rem"},Ld={fontWeight:"500",fontSize:"1rem"},jd={fontWeight:"500",fontSize:"0.875rem"},Jd={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},Qd={size:"1rem"},Hd={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},Gd={root:Ud,icon:_d,content:Md,text:Vd,summary:Ld,detail:jd,closeButton:Jd,closeIcon:Qd,colorScheme:Hd},Wd={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},Yd={disabledColor:"{form.field.disabled.color}"},Kd={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},Xd={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},Zd={root:Wd,icon:Yd,content:Kd,colorScheme:Xd},eu={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},ou={borderRadius:"50%",size:"1rem"},ru={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},tu={root:eu,handle:ou,colorScheme:ru},au={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},nu={root:au},iu={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},lu={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},su={root:iu,colorScheme:lu},cu={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},du={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},uu={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},gu={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},fu={size:"2rem"},pu={margin:"0 0 0.5rem 0"},mu={root:cu,node:du,nodeIcon:uu,nodeToggleButton:gu,loadingIcon:fu,filter:pu},vu={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},bu={width:"2.5rem",color:"{form.field.icon.color}"},hu={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},yu={padding:"{list.padding}"},ku={padding:"{list.option.padding}"},xu={borderRadius:"{border.radius.sm}"},Cu={color:"{form.field.icon.color}"},wu={root:vu,dropdown:bu,overlay:hu,tree:yu,emptyMessage:ku,chip:xu,clearIcon:Cu},Su={transitionDuration:"{transition.duration}"},$u={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},Tu={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},Bu={fontWeight:"600"},Du={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},Ru={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},Iu={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},Pu={fontWeight:"600"},Eu={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},qu={width:"0.5rem"},Nu={width:"1px",color:"{primary.color}"},zu={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Ou={size:"2rem"},Au={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Fu={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Uu={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},_u={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Mu={root:Su,header:$u,headerCell:Tu,columnTitle:Bu,row:Du,bodyCell:Ru,footerCell:Iu,columnFooter:Pu,footer:Eu,columnResizer:qu,resizeIndicator:Nu,sortIcon:zu,loadingIcon:Ou,nodeToggleButton:Au,paginatorTop:Fu,paginatorBottom:Uu,colorScheme:_u},Vu={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},Lu={loader:Vu},ju=Object.defineProperty,Ju=Object.defineProperties,Qu=Object.getOwnPropertyDescriptors,eo=Object.getOwnPropertySymbols,Hu=Object.prototype.hasOwnProperty,Gu=Object.prototype.propertyIsEnumerable,oo=(e,o,t)=>o in e?ju(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,ro,Wu=(ro=((e,o)=>{for(var t in o||(o={}))Hu.call(o,t)&&oo(e,t,o[t]);if(eo)for(var t of eo(o))Gu.call(o,t)&&oo(e,t,o[t]);return e})({},lt),Ju(ro,Qu({components:{accordion:zr,autocomplete:Jr,avatar:Kr,badge:at,blockui:ct,breadcrumb:ft,button:vt,card:Ct,carousel:Dt,cascadeselect:zt,checkbox:Ft,chip:jt,colorpicker:Wt,confirmdialog:Xt,confirmpopup:ta,contextmenu:da,datatable:Ia,dataview:Aa,datepicker:tn,dialog:dn,divider:mn,dock:hn,drawer:Sn,editor:In,fieldset:zn,fileupload:Ln,floatlabel:Gn,galleria:ci,iconfield:ui,iftalabel:pi,image:yi,imagecompare:xi,inlinemessage:Ti,inplace:Ri,inputchips:qi,inputgroup:zi,inputnumber:Ui,inputotp:Vi,inputtext:ji,knob:Wi,listbox:tl,megamenu:fl,menu:yl,menubar:Tl,message:Ol,metergroup:Ll,multiselect:Zl,orderlist:rs,organizationchart:ls,overlaybadge:cs,paginator:ps,panel:xs,panelmenu:Bs,password:qs,picklist:Os,popover:Us,progressbar:Ls,progressspinner:Js,radiobutton:Gs,rating:Ks,ripple:Zs,scrollpanel:tc,select:fc,selectbutton:vc,skeleton:yc,slider:$c,speeddial:Bc,splitbutton:Rc,splitter:qc,stepper:Vc,steps:Gc,tabmenu:ed,tabs:sd,tabview:md,tag:yd,terminal:wd,textarea:$d,tieredmenu:Ed,timeline:Fd,toast:Gd,togglebutton:Zd,toggleswitch:tu,toolbar:nu,tooltip:su,tree:mu,treeselect:wu,treetable:Mu,virtualscroller:Lu}})));const Yu=Ir(Wu,{semantic:{primary:{50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},colorScheme:{light:{primary:{color:"{zinc.950}",inverseColor:"#ffffff",hoverColor:"{zinc.900}",activeColor:"{zinc.800}"},highlight:{background:"{zinc.950}",focusBackground:"{zinc.700}",color:"#ffffff",focusColor:"#ffffff"}},dark:{primary:{color:"{zinc.50}",inverseColor:"{zinc.950}",hoverColor:"{zinc.100}",activeColor:"{zinc.200}"},highlight:{background:"rgba(250, 250, 250, .16)",focusBackground:"rgba(250, 250, 250, .24)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"}}}}}),Ku=j({name:"NotFoundView",setup(){const e=Xo();return()=>r("div",{class:"container"},[r("div",{class:["my-4rem"]}),r(F,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[r("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[r(V,{label:"go app",onClick:()=>{e.push({name:"app"})}}),r(V,{label:"go home",onClick:()=>{e.push({name:"home"})}}),r(V,{label:"go root",onClick:()=>{e.push({name:"root"})}})])]})])}});function Xu(e={}){const{threshold:o=50,topOffset:t=20,pixelsPerRem:l=16,immediate:n=!0,target:a=window,throttle:c=300}=e,i=P(!1),s=P(0),d=t*l,{y:f,isScrolling:g,arrivedState:u}=wr(a,{throttle:c,behavior:"smooth"}),p=P(null),x=()=>{p.value&&p.value(),p.value=fe(f,m=>{const v=m-s.value;v>o?i.value=!0:v<-o&&(i.value=!1),(m===0||m<d)&&(i.value=!1),s.value=m})},C=()=>{x()},S=()=>{p.value&&(p.value(),p.value=null)};return n&&(ne(C),xo(S)),{isCollapsed:i,scrollY:f,isScrolling:g,arrivedState:u,setup:C,cleanup:S,toggle:()=>{i.value=!i.value},collapse:()=>{i.value=!0},expand:()=>{i.value=!1}}}const Zu="SWOT",e0="https://github.com/ziioai/swot",o0="https://github.com/ziioai/swot",r0=[{label:"SWOT",name:"app-train",icon:"pi pi-book"}],t0=[{label:"Reka",url:"https://reka-ui.com/docs/components/editable",target:"_blank"},{label:"shadcn/vue",url:"https://shadcn-vue.com/docs/installation/manual.html",target:"_blank"},{label:"Vite CN",url:"https://cn.vite.dev/guide/",target:"_blank"},{label:"Vite EN",url:"https://vite.dev/guide/",target:"_blank"},{label:"VitePress",url:"https://vitepress.dev/zh/guide/getting-started",target:"_blank"},{label:"Volta",url:"https://docs.volta.sh/guide/",target:"_blank"},{label:"tailwindcss",url:"https://tailwindcss.com/docs/installation/using-vite",target:"_blank"},{label:"Embla Carousel",url:"https://www.embla-carousel.com/examples/predefined/",target:"_blank"},{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB入门",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}],a0=j({name:"AppView",setup(){const{locale:e}=Ae({useScope:"global"}),o=To(),{toggle:t}=o,{isOn:l}=Ye(o),n=Bo(),{setLocale:a}=n,{availableLocales:c,locale:i}=Ye(n),s=P(r0),d=P(s.value[0].label),f=Zo();fe(()=>f.name,()=>{d.value=`${String(f.name??"")}`},{immediate:!0}),fe(()=>i==null?void 0:i.value,u=>{e!=null&&e.value!==u&&(e.value=u??"en")},{immediate:!0});const{isCollapsed:g}=Xu({threshold:25,topOffset:20,pixelsPerRem:12});return()=>{var u,p,x;return r("div",{class:["==bg-var-p-zinc-800 overflow-auto","py-1rem"]},[r("div",{class:[g.value?"top--6rem":"top-0","left-0","fixed z-100 w-100% min-h-2rem p-0.5rem","bg-white dark:bg-zinc-900 bg-opacity-60"],style:{"-webkit-backdrop-filter":"blur(8px) saturate(200%)","backdrop-filter":"blur(8px) saturate(200%)",transition:"top 0.5s ease-in-out"}},[r(gr,{class:["xl:max-w-1280px lg:max-w-1024px md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((u=window==null?void 0:window.location)==null?void 0:u.hostname)!="localhost=="?null:{label:"Dev Ref",icon:"pi pi-external-link",items:t0},((p=window==null?void 0:window.location)==null?void 0:p.hostname)!="localhost=="?null:{label:"Dev",icon:"pi pi-github",url:e0,target:"_blank"},{label:"GitHub",icon:"pi pi-github",url:o0,target:"_blank"},{label:"theme",icon:`pi pi-${l.value?"moon":"sun"}`,command:()=>{t()}},{label:i.value,icon:"pi pi-language",items:(x=c==null?void 0:c.value)==null?void 0:x.map(C=>({label:C,icon:"pi pi-flag",command:()=>{a(C,e)}}))}].filter(C=>C!=null),pt:{rootList:{class:"ml-auto! ==flex-nowrap! ==overflow-x-auto!"}}},{start:()=>r("span",{class:"font-bold mx-0.5rem"},Zu)})]),r("div",{class:["z-80","my-5rem","md:rounded-0.5rem md:border-2 xl:max-w-1280px lg:max-w-1024px md:max-w-768px md:mx-auto","w-100% ==p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","min-h-80vh"]},[r(ko)])])}}}),D=j({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(e){const o=or("tooltip");return()=>{const{label:t,tip:l,command:n,class:a,tooltipProps:c,direction:i,focus:s,...d}=e;return l!=null&&l.length?er(r(V,{label:t,severity:"secondary",onClick:n,outlined:!0,...d,class:["p-var-p-button-padding-y!",a]}),[[o,{value:l??t,showDelay:300,hideDelay:300,...c},i??"bottom",{[i??"bottom"]:!0,focus:s}]]):r(V,{label:t,severity:"secondary",onClick:n,outlined:!0,...d,class:["p-var-p-button-padding-y!",a]})}}});var E=(e=>(e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.PREPARING_PAUSE=2]="PREPARING_PAUSE",e[e.PAUSED=3]="PAUSED",e[e.ABORTING=4]="ABORTING",e[e.ABORTED=5]="ABORTED",e[e.ENDED=6]="ENDED",e))(E||{});const n0=j({name:"NumberInputField",props:{label:{type:String,required:!0},modelValue:{type:Number,required:!0},description:{type:Function,required:!1},showButtons:{type:Boolean,default:!0},id:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:o}){return()=>{var t;return r("div",{class:"flex-auto"},[r("label",{class:"block mb-2",for:e.id},e.label),r(fr,{showButtons:e.showButtons,modelValue:e.modelValue,class:"w-100%",id:e.id,inputId:e.id,"onUpdate:modelValue":l=>o("update:modelValue",l)}),r("p",{class:"text-xs opacity-60 my-2"},(t=e==null?void 0:e.description)==null?void 0:t.call(e,e.modelValue))])}}}),to=j({name:"TrainingControlPanel",props:{options:{type:Object,required:!1},state:{type:Object,required:!1},trainingStateText:{type:String,default:"未知状态"},isTraining:{type:Boolean,default:!1},isPaused:{type:Boolean,default:!1},isPreparingPause:{type:Boolean,default:!1},trainer:{type:Object,default:null}},emits:["start-training","continue-training","pause-training","cancel-pause","stop-training","reset-training","update:options","save-data"],setup(e,{emit:o}){const t=me(),l=(v,w)=>{o("update:options",{[v]:w})},n=(v,w)=>{o("update:options",{[v]:w})},a=async()=>{o("save-data")},c=async()=>{await a()},i=async()=>{await a()},s=async()=>{await a()},d=async()=>{await a()},f=async()=>{await a()},g=async()=>{if(!e.trainer){o("start-training");return}t.add({severity:"info",summary:"开始训练",detail:"已经开始训练",life:1e3}),await e.trainer.start(c)},u=()=>{if(!e.trainer){o("reset-training");return}e.trainer.reset(i),t.add({severity:"info",summary:"重置训练",detail:"已经重置训练",life:1e3})},p=async()=>{if(!e.trainer){o("continue-training");return}t.add({severity:"info",summary:"继续训练",detail:"从暂停状态恢复训练",life:1e3}),await e.trainer.resume(c)},x=()=>{if(!e.trainer){o("pause-training");return}e.trainer.trainingState===E.RUNNING&&(e.trainer.requestPause({before:d,after:f}),t.add({severity:"info",summary:"准备暂停",detail:"等待当前批次完成后暂停",life:1e3}))},C=()=>{if(!e.trainer){o("cancel-pause");return}e.trainer.trainingState===E.PREPARING_PAUSE&&(e.trainer.cancelPauseRequest(s),t.add({severity:"info",summary:"取消暂停",detail:"已取消暂停请求",life:1e3}))},S=()=>{if(!e.trainer){o("stop-training");return}e.trainer.requestAbort("用户手动停止训练",{before:d,after:f}),t.add({severity:"info",summary:"停止训练",detail:"正在停止训练...",life:1e3})};function m(v,w,$){var R;return r(n0,{label:v,modelValue:((R=e==null?void 0:e.options)==null?void 0:R[w])??0,"onUpdate:modelValue":k=>l(w,k),description:$})}return()=>r("div",{class:"space-y-4"},[r(F,{header:"训练状态",toggleable:!0,collapsed:!1},{default:()=>r("div",{class:"flex flex-wrap gap-4"},[r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},[JSON.stringify(q.omit(e.state,["quStateDict","quDataDict","notebook","notebookEditPlan"]),null,2)]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},[JSON.stringify(e.options,null,2)])])}),r("div",{class:"space-y-3"},[r("div",{class:"flex items-center justify-between mb-2 p-2 rounded"},[r("span",{class:"font-medium"},"当前状态:"),r("span",{class:["px-2 py-1 rounded-lg text-white",{未知状态:"bg-gray-500",未开始:"bg-gray-500",训练中:"bg-green-500",准备暂停:"bg-orange-500",已暂停:"bg-yellow-500",中止中:"bg-red-500",已中止:"bg-gray-500",结束中:"bg-gray-500",已结束:"bg-gray-500"}[e.trainingStateText??""]??"bg-gray-500"]},e.trainingStateText)]),["未开始"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"primary",label:"开始",icon:"pi pi-play",class:"w-full",onClick:g}),["训练中"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"warning",label:"暂停",icon:"pi pi-pause",class:"w-full",onClick:x}),["准备暂停"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"info",label:"取消暂停",icon:"pi pi-times",class:"w-full",onClick:C}),["已暂停","已中止","已结束"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"info",label:"继续",icon:"pi pi-play",class:"w-full",onClick:p}),["已暂停"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"danger",label:"停止",icon:"pi pi-stop",class:"w-full",onClick:S}),["未开始","已暂停","已中止","已结束","未知状态"].includes(e.trainingStateText)&&r(D,{outlined:!1,severity:"danger",label:"重置",icon:"pi pi-refresh",class:"w-full",onClick:u})]),r(De),r(F,{header:"题目标记阈值设置",toggleable:!0,collapsed:!0},{default:()=>r("div",{class:"flex flex-wrap gap-4"},[r("div",{},"一道题通常被视为【未跳过的非简单题】，除非它满足以下条件之一："),m("版本简单题阈值","versionSimpleThreshold",v=>`使用当前版本的笔记，某道题累计做了 ${v} 次且全都做对了，就会被判定为【版本简单题】，笔记更新前不再做这道题。`),m("总体简单题阈值","totalSimpleThreshold",v=>`在整个训练过程中，某道题累计做了 ${v} 次且全都做对了，就会被判定为【总体简单题】，训练过程中不再做这道题。`),m("版本困难题阈值","versionSkipThreshold",v=>`使用当前版本的笔记，某道题累计做错 ${v} 次，就会被判定为【版本难题】，笔记更新前不再做这道题。`),m("总体困难题阈值","totalSkipThreshold",v=>`在整个训练过程中，某道题累计做错 ${v} 次，就会被判定为【总体难题】，训练过程中不再做这道题。`)])}),r(F,{header:"训练过程参数设置",toggleable:!0,collapsed:!0},{default:()=>{var v;return r("div",{class:"flex flex-wrap gap-4"},[r("div",{class:"flex-auto mb-2 field-checkbox"},[r("div",{class:"flex items-center gap-2"},[r(pr,{id:"practiceOnlyMode",modelValue:((v=e==null?void 0:e.options)==null?void 0:v.practiceOnlyMode)??!1,binary:!0,"onUpdate:modelValue":w=>n("practiceOnlyMode",w)}),r("label",{class:"font-medium cursor-pointer",for:"practiceOnlyMode"},"仅做题模式（不更新笔记）")]),r("p",{class:"text-xs opacity-60 mt-1 ml-4"},"开启后只进行题目练习，不会对错题进行分析和更新笔记，节省资源和时间。")]),r(De),m("并发数","batchSize",w=>`每次同时做 ${w} 道题。`),m("每题最做多少次","maxVerifyCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但有可能模型反复尝试后仍然无法达成这个目标，因此我们设置一次训练中每道题最做 ${w} 遍，否则就跳过这道题。此设置与【题目标记阈值】是相互补充的关系，谁先达成就执行谁。`),m("训练过程最多循环多少次","maxLoopCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但有可能模型反复修改笔记仍然无法达成这个目标，因此我们设置它最多把训练过程重复 ${w} 遍，避免无限循环。`),m("最大确证次数","maxCertifyCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但是只做对1次可能并不能让人放心，所以我们要进行"确证"，即每道题要做对 ${w} 次，才算是真的通过。`)])}})])}}),ao=j({name:"QuestionCard",props:{swot:{type:Object,required:!1},idx:{type:Number,required:!1},state:{type:String,required:!1},question:{type:Object,required:!0},judgeResponse:{type:Object,required:!1,default:null},response:{type:Object,required:!1,default:null},errorReport:{type:Object,required:!1,default:null},trainingState:{type:Object,required:!0}},emits:["analyze-error"],setup(e,{emit:o}){const t=()=>o("analyze-error",e.question.nnid),l=()=>e.trainingState.isSkipT?"总体难题":e.trainingState.isSkipV?"版本难题":e.trainingState.isSimpleT?"总体简单题":e.trainingState.isSimpleV?"版本简单题":"未跳过的非简单题",n={预备:"secondary",中断:"contrast",报错:"contrast",判断题型中:"secondary",做题中:"secondary",正确:"success",错误待分析:"contrast",错误分析中:"secondary",错误已分析:"warn",错误未分析:"danger","错误（仅做题模式）":"danger",太简单已跳过:"info",太困难已跳过:"danger",练够了已跳过:"info",验够了已跳过:"success"},a={预备:"未知",中断:"未知",报错:"未知",判断题型中:"未知",做题中:"未知",正确:"正确",错误待分析:"错误",错误分析中:"错误",错误已分析:"错误",错误未分析:"错误","错误（仅做题模式）":"错误",太简单已跳过:"跳过",太困难已跳过:"跳过",练够了已跳过:"跳过",验够了已跳过:"跳过"},c=X({collapsed:!1});return()=>{var i;return r(F,{toggleable:!0,collapsed:c.collapsed||!["判断题型中","做题中","错误分析中","==错误已分析"].includes((i=e==null?void 0:e.trainingState)==null?void 0:i.stateText)},{header:()=>{var s,d;return r("div",{class:"stack-h items-center"},[r("div",{class:"font-bold"},[`[${e.idx??" "}] ${e.question.nnid}`]),r(Ue,{value:((s=e==null?void 0:e.trainingState)==null?void 0:s.stateText)??"预备",severity:n[((d=e==null?void 0:e.trainingState)==null?void 0:d.stateText)??"预备"]??"secondary",class:"ml-2"})])},default:()=>{var s,d,f,g,u,p,x,C,S,m,v;return r("div",{class:"stack-v"},[r(Ue,{value:l(),severity:"secondary"}),r("div",{class:[]},["题面字段"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[JSON.stringify(e.question.content,null,2)]),r("div",{class:[]},["答案字段"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.question.answer,null,2)]),((s=e.question)==null?void 0:s.explain)!=null&&[r("div",{class:[]},["解释字段"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[JSON.stringify(e.question.explain,null,2)])],r("div",{class:["mt-2 font-bold opacity-80"]},["题型判断"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((d=e==null?void 0:e.judgeResponse)==null?void 0:d.outputData)==null&&JSON.stringify((e==null?void 0:e.judgeResponse)??null),JSON.stringify(((f=e==null?void 0:e.judgeResponse)==null?void 0:f.outputData)??null,null,2)]),r("div",{class:["mt-2 font-bold opacity-80"]},["作答"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((g=e==null?void 0:e.response)==null?void 0:g.outputData)==null&&JSON.stringify((e==null?void 0:e.response)??null),JSON.stringify(((u=e==null?void 0:e.response)==null?void 0:u.outputData)??null,null,2)]),r("div",{class:["stack-h gap-1rem!"]},[r("div",{class:["stack-v"]},[r("div",{class:["mt-2 font-bold opacity-80"]},["参考答案"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.question.answer,null,2)])]),r("div",{class:["stack-v"]},[r("div",{class:["mt-2 font-bold opacity-80"]},["作答答案"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(((x=(p=e==null?void 0:e.response)==null?void 0:p.outputData)==null?void 0:x.answer)??null,null,2)])])]),r("div",{class:["mt-2 stack-h-center"]},[r("div",{class:["font-bold opacity-80"]},["正误："]),r(Ue,{value:a[((C=e==null?void 0:e.trainingState)==null?void 0:C.stateText)??"未知"]??"未知",severity:n[((S=e==null?void 0:e.trainingState)==null?void 0:S.stateText)??"预备"]??"secondary"})]),r("div",{class:["mt-2 font-bold opacity-80"]},["错误分析"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((m=e==null?void 0:e.errorReport)==null?void 0:m.outputData)==null&&JSON.stringify((e==null?void 0:e.errorReport)??null),JSON.stringify(((v=e==null?void 0:e.errorReport)==null?void 0:v.outputData)??null,null,2)]),r("div",{class:["mt-2 font-bold opacity-80"]},[r(D,{label:"手动更新笔记",icon:"pi pi-save",class:"mr-0.5rem",onClick:t})]),r("div",{class:["mt-2 font-bold opacity-80"]},["状态"]),r("div",{class:[]},[`版本 : 做了 ${e.trainingState.trainedCountV??0} 次，正确 ${e.trainingState.correctCountV??0} 次，错误 ${e.trainingState.errorCountV??0} 次`]),r("div",{class:[]},[`总计 : 做了 ${e.trainingState.trainedCountT??0} 次，正确 ${e.trainingState.correctCountT??0} 次，错误 ${e.trainingState.errorCountT??0} 次`]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.trainingState,null,2)])])}})}}}),no=j({name:"CurrentNotePanel",props:{version:{type:String,required:!1},note:{type:Object,required:!1},notebookEditPlan:{type:Object,required:!1}},emits:["save-note"],setup(e,{emit:o}){return()=>{const t=()=>{var l,n;return r("div",{class:["stack-v"]},[(n=(l=e==null?void 0:e.note)==null?void 0:l.entries)==null?void 0:n.map((a,c)=>r("div",{key:`[${c}]${a==null?void 0:a.name}`,class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%",a!=null&&a.deleted?"bg-red-100/75! border-l-4 border-l-red-500":"bg-zinc-100/75! dark:bg-zinc-800/75!"]},[r("div",{class:["mt-2 font-bold opacity-80"]},[(a==null?void 0:a.deleted)&&r("i",{class:"pi pi-trash mr-2 text-red-500"}),r("span",{class:a!=null&&a.deleted?"line-through text-red-600":""},[`【${a==null?void 0:a.name}】`]),(a==null?void 0:a.deleted)&&r("span",{class:"ml-2 text-xs bg-red-100 text-red-600 py-0.5 px-1 rounded"},["已删除"])]),r("div",{class:["mt-2 font-bold opacity-80"]},["name,desc,clue"]),JSON.stringify(q.pick(a??null,["name","desc","clue"]),null,2),r("div",{class:["mt-2 font-bold opacity-80"]},["steps"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"]},[JSON.stringify((a==null?void 0:a.steps)??null,null,2)]),r("div",{class:["mt-2 font-bold opacity-80"]},["tips"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"]},[JSON.stringify((a==null?void 0:a.tips)??null,null,2)]),r("div",{class:["mt-2 font-bold opacity-80"]},["tools"]),((a==null?void 0:a.tools)??[]).map((i,s)=>r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"],key:`[${s}]${i==null?void 0:i.name}`},[JSON.stringify(i)])),r("div",{class:["mt-2 font-bold opacity-80"]},["datums"]),((a==null?void 0:a.datums)??[]).map((i,s)=>r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"],key:`[${s}][${i==null?void 0:i.idx}][${i==null?void 0:i.query}]`},[JSON.stringify(i)]))]))])};return r(F,{toggleable:!0},{header:()=>r("div",{class:"stack-h items-center"},[r("div",{class:"font-bold"},[(e==null?void 0:e.version)??"???"])]),default:()=>{var l,n;return r("div",{class:[]},[r("div",{class:[]},[r("div",{class:["mt-2 font-bold opacity-80"]},["笔记修改计划"]),r("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((l=e==null?void 0:e.notebookEditPlan)==null?void 0:l.outputData)==null&&JSON.stringify((e==null?void 0:e.notebookEditPlan)??null),JSON.stringify(((n=e==null?void 0:e.notebookEditPlan)==null?void 0:n.outputData)??null,null,2)])]),r("div",{class:["mt-2 font-bold opacity-80"]},["笔记内容"]),r("div",{class:["overflow-auto","max-h-80vh"]},[t()]),r("div",{class:["mt-2 font-bold opacity-80"]},[r(D,{label:"手动保存版本",icon:"pi pi-save",class:"mr-0.5rem",onClick:()=>o("save-note")}),r(D,{label:"复制",icon:"pi pi-copy",class:"mr-0.5rem",onClick:()=>{lr.copy(JSON.stringify({version:(e==null?void 0:e.version)??null,notebook:(e==null?void 0:e.note)??null},null,2))}})])])}})}}}),Qe=new So("DB-of-SWOT-Demo");Qe.version(1).stores({kvs:"++id, &key, value",chatRecords:"++id, &key",qtBookBackups:"++id, &key"});Qe.version(2).stores({kvs:"++id, &key, value",chatRecords:"++id, &key, isMarked",qtBookBackups:"++id, &key, isMarked"});const z=Qe,Be=async e=>{var t;const o=(t=await z.kvs.get({key:e}))==null?void 0:t.value;return o==null?null:te.parse(o)},ge=async(e,o)=>{const t=te.stringify(o);await z.kvs.put({id:e,key:e,value:t})},Do=async e=>await z.chatRecords.put(q.cloneDeep(e)),io=async(e=0,o=10)=>await z.chatRecords.orderBy("id").reverse().offset(e).limit(o).toArray(),_e=async()=>await z.chatRecords.count(),i0=async e=>(await z.chatRecords.delete(e),!0),Re=async e=>await Do({key:ie(12),data:e}),Ie=e=>{var t,l;const o=q.cloneDeep(e);return o!=null&&o.outputData&&typeof o.outputData!="string"&&(o.outputSpans=void 0),o!=null&&o.thinkingData&&typeof o.thinkingData!="string"&&(o.thinkingSpans=void 0),(t=o==null?void 0:o.outputSpans)!=null&&t.length||(o.outputSpans=void 0),(l=o==null?void 0:o.thinkingSpans)!=null&&l.length||(o.thinkingSpans=void 0),o},lo=async(e=0,o=10)=>{const t=performance.now();try{const l=window.performance.memory?window.performance.memory.usedJSHeapSize:"Not available";console.log(`
开始获取备份数据 (offset=${e}, limit=${o})`);const n=await z.qtBookBackups.orderBy("id").reverse().offset(e).limit(o).toArray(),c=performance.now()-t,i=window.performance.memory?window.performance.memory.usedJSHeapSize:"Not available";if(console.log(`获取备份数据成功: ${n.length} 条记录`),console.log(`获取备份数据耗时: ${c.toFixed(2)} ms`),l!=="Not available"){const s=i-l;console.log(`内存使用变化: ${le(s)} (${le(l)} -> ${le(i)})`)}return n}catch(l){const n=performance.now();throw console.error(`获取备份数据失败，耗时 ${(n-t).toFixed(2)} ms`,l),l}},Me=async()=>{console.log("获取备份数据计数");const e=performance.now();try{const o=await z.qtBookBackups.count(),l=performance.now()-e;return console.log(`获取备份数据计数成功: ${o} 条记录`),console.log(`获取备份数据计数耗时: ${l.toFixed(2)} ms`),o}catch(o){const t=performance.now();throw console.error(`获取备份数据计数失败，耗时 ${(t-e).toFixed(2)} ms`,o),o}},l0=async e=>(await z.qtBookBackups.delete(e),!0),we=async(e,o)=>{o=o??(e==null?void 0:e.version)??(e==null?void 0:e.notebookVersion)??ie();const t=await z.qtBookBackups.get({key:o});return t!=null?(await z.qtBookBackups.update(t.id,{key:o,data:q.cloneDeep(e)}),t.id):await z.qtBookBackups.put({key:o,data:q.cloneDeep(e)})},so=async()=>{console.log(`
开始获取存储信息`);const e=performance.now();try{const o=await z.kvs.count(),t=await z.chatRecords.count(),l=await z.qtBookBackups.count();if(navigator.storage&&navigator.storage.estimate){const n=await navigator.storage.estimate(),a=n.usage||0,c=n.quota||0,i=c?a/c*100:0,d=performance.now()-e;return console.log(`获取存储信息成功: ${le(a)} / ${le(c)}`),console.log(`存储使用百分比: ${i.toFixed(2)}%`),console.log(`KVS 表记录数: ${o}`),console.log(`ChatRecords 表记录数: ${t}`),console.log(`QtBookBackups 表记录数: ${l}`),console.log(`总记录数: ${o+t+l}`),console.log(`获取存储信息耗时: ${d.toFixed(2)} ms`),{total:{bytes:a,formatted:le(a),percentUsed:i.toFixed(2)+"%",quota:{bytes:c,formatted:le(c)}},tableCounts:{kvs:o,chatRecords:t,qtBookBackups:l,total:o+t+l}}}else{const a=performance.now()-e;return console.log("获取存储信息失败: 浏览器不支持 StorageManager API"),console.log(`获取存储信息耗时: ${a.toFixed(2)} ms`),{total:{bytes:0,formatted:"未知 (浏览器不支持存储估算)",percentUsed:"未知",quota:{bytes:0,formatted:"未知"}},tableCounts:{kvs:o,chatRecords:t,qtBookBackups:l,total:o+t+l},unsupported:!0}}}catch(o){console.error("获取存储信息时出错:",o);const l=performance.now()-e;return console.log(`获取存储信息失败，耗时 ${l.toFixed(2)} ms`),{error:!0,message:`获取存储信息失败: ${(o==null?void 0:o.message)||"未知错误"}`}}};function le(e){if(e===0)return"0 Bytes";const o=1024,t=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,l)).toFixed(2))+" "+t[l]}const s0=async(e,o)=>{console.log(`更新对话记录标记状态: ID=${e}, isMarked=${o}`);const t=performance.now();try{if(!await z.chatRecords.get(e))return console.error(`对话记录不存在: ID=${e}`),null;await z.chatRecords.update(e,{isMarked:o});const n=performance.now();return console.log(`更新对话记录标记状态成功: ID=${e}, 耗时: ${(n-t).toFixed(2)} ms`),e}catch(l){const n=performance.now();throw console.error(`更新对话记录标记状态失败: ID=${e}, 耗时: ${(n-t).toFixed(2)} ms`,l),l}},c0=async(e,o)=>{console.log(`更新笔记备份标记状态: ID=${e}, isMarked=${o}`);const t=performance.now();try{if(!await z.qtBookBackups.get(e))return console.error(`笔记备份不存在: ID=${e}`),null;await z.qtBookBackups.update(e,{isMarked:o});const n=performance.now();return console.log(`更新笔记备份标记状态成功: ID=${e}, 耗时: ${(n-t).toFixed(2)} ms`),e}catch(l){const n=performance.now();throw console.error(`更新笔记备份标记状态失败: ID=${e}, 耗时: ${(n-t).toFixed(2)} ms`,l),l}},co=async(e,o={})=>{const{batchSize:t=100,progressCallback:l}=o;console.log("开始批量删除对话记录: 条件=",e,`批大小=${t}`);const n=performance.now();try{const a=await z.chatRecords.count();if(a===0)return console.log("数据库中无记录，无需删除"),0;let c=0,i=0,s=Date.now();if(typeof e!="function"&&"isMarked"in e){const f=e.isMarked;let g=[];if(f===!0?g=await z.chatRecords.filter(p=>p.isMarked===!0).toArray():g=await z.chatRecords.filter(p=>p.isMarked!==!0).toArray(),g.length===0)return console.log(`没有找到符合条件(isMarked=${f})的记录，无需删除`),0;const u=g.map(p=>p.id);for(let p=0;p<u.length;p+=t){const x=u.slice(p,p+t);await z.chatRecords.bulkDelete(x),c+=x.length,i+=x.length;const C=Date.now();l&&(C-s>1e3||i===a)&&(l(i,a),s=C),console.log(`批量删除进度: ${i}/${a} (${(i/a*100).toFixed(2)}%), 已删除: ${c}`)}}else{let f=!0,g=[];for(;f;){g=await z.chatRecords.offset(i).limit(t).toArray(),g.length<t&&(f=!1);const u=typeof e=="function"?g.filter(e):[];if(i+=g.length,u.length>0){const x=u.map(C=>C.id);await z.chatRecords.bulkDelete(x),c+=u.length}const p=Date.now();l&&(p-s>1e3||!f)&&(l(i,a),s=p),console.log(`批量处理进度: ${i}/${a} (${(i/a*100).toFixed(2)}%), 已删除: ${c}`)}}const d=performance.now();return console.log(`批量删除对话记录成功: 共删除了${c}条记录, 耗时: ${(d-n).toFixed(2)} ms`),c}catch(a){const c=performance.now();throw console.error(`批量删除对话记录失败, 耗时: ${(c-n).toFixed(2)} ms`,a),a}},uo=async(e,o={})=>{const{batchSize:t=100,progressCallback:l}=o;console.log("开始批量删除笔记备份: 条件=",e,`批大小=${t}`);const n=performance.now();try{const a=await z.qtBookBackups.count();if(a===0)return console.log("数据库中无笔记备份记录，无需删除"),0;let c=0,i=0,s=Date.now();if(typeof e!="function"&&"isMarked"in e){const f=e.isMarked;let g=[];if(f===!0?g=await z.qtBookBackups.filter(p=>p.isMarked===!0).toArray():g=await z.qtBookBackups.filter(p=>p.isMarked!==!0).toArray(),g.length===0)return console.log(`没有找到符合条件(isMarked=${f})的笔记备份记录，无需删除`),0;const u=g.map(p=>p.id);for(let p=0;p<u.length;p+=t){const x=u.slice(p,p+t);await z.qtBookBackups.bulkDelete(x),c+=x.length,i+=x.length;const C=Date.now();l&&(C-s>1e3||i===a)&&(l(i,a),s=C),console.log(`批量删除笔记备份进度: ${i}/${a} (${(i/a*100).toFixed(2)}%), 已删除: ${c}`)}}else{let f=!0,g=[];for(;f;){g=await z.qtBookBackups.offset(i).limit(t).toArray(),g.length<t&&(f=!1);const u=typeof e=="function"?g.filter(e):[];if(i+=g.length,u.length>0){const x=u.map(C=>C.id);await z.qtBookBackups.bulkDelete(x),c+=u.length}const p=Date.now();l&&(p-s>1e3||!f)&&(l(i,a),s=p),console.log(`批量处理笔记备份进度: ${i}/${a} (${(i/a*100).toFixed(2)}%), 已删除: ${c}`)}}const d=performance.now();return console.log(`批量删除笔记备份成功: 共删除了${c}条记录, 耗时: ${(d-n).toFixed(2)} ms`),c}catch(a){const c=performance.now();throw console.error(`批量删除笔记备份失败, 耗时: ${(c-n).toFixed(2)} ms`,a),a}},d0=async(e={})=>{const{progressCallback:o,useClear:t=!1}=e;console.log(`开始删除所有对话记录 ${t?"(使用clear方法)":"(使用批量删除)"}`);const l=performance.now();try{const n=await z.chatRecords.count();if(n===0)return console.log("数据库中无记录，无需删除"),0;if(t){await z.chatRecords.clear(),o&&o(n,n);const a=performance.now();return console.log(`删除所有对话记录成功: 删除了${n}条记录, 耗时: ${(a-l).toFixed(2)} ms`),n}else{let c=0,i=Date.now();for(;c<n;){const d=await z.chatRecords.orderBy("id").limit(1e3).primaryKeys();if(d.length>0){await z.chatRecords.bulkDelete(d),c+=d.length;const f=Date.now();o&&(f-i>1e3||c>=n)&&(o(c,n),i=f),console.log(`删除进度: ${c}/${n} (${(c/n*100).toFixed(2)}%)`)}else break}const s=performance.now();return console.log(`批量删除所有对话记录成功: 删除了${c}条记录, 耗时: ${(s-l).toFixed(2)} ms`),c}}catch(n){const a=performance.now();throw console.error(`删除所有对话记录失败, 耗时: ${(a-l).toFixed(2)} ms`,n),n}},u0=async(e={})=>{const{progressCallback:o,useClear:t=!1}=e;console.log(`开始删除所有笔记备份 ${t?"(使用clear方法)":"(使用批量删除)"}`);const l=performance.now();try{const n=await z.qtBookBackups.count();if(n===0)return console.log("数据库中无笔记备份记录，无需删除"),0;if(t){await z.qtBookBackups.clear(),o&&o(n,n);const a=performance.now();return console.log(`删除所有笔记备份成功: 删除了${n}条记录, 耗时: ${(a-l).toFixed(2)} ms`),n}else{let c=0,i=Date.now();for(;c<n;){const d=await z.qtBookBackups.orderBy("id").limit(1e3).primaryKeys();if(d.length>0){await z.qtBookBackups.bulkDelete(d),c+=d.length;const f=Date.now();o&&(f-i>1e3||c>=n)&&(o(c,n),i=f),console.log(`删除笔记备份进度: ${c}/${n} (${(c/n*100).toFixed(2)}%)`)}else break}const s=performance.now();return console.log(`批量删除所有笔记备份成功: 删除了${c}条记录, 耗时: ${(s-l).toFixed(2)} ms`),c}}catch(n){const a=performance.now();throw console.error(`删除所有笔记备份失败, 耗时: ${(a-l).toFixed(2)} ms`,n),n}};class g0{constructor(o){this.loadFromDict(o),this._api=new Sr({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0})}loadFromDict(o){this.baseURL=(o==null?void 0:o.baseURL)??(o==null?void 0:o.baseUrl)??"https://api.openai.com/v1",this.apiKey=(o==null?void 0:o.apiKey)??"",this.defaultModel=(o==null?void 0:o.defaultModel)??"deepseek-chat",this.modelsURL=(o==null?void 0:o.modelsURL)??(o==null?void 0:o.modelsUrl)??"/models"}setAPIKey(o){this.apiKey=o,this._api.apiKey=o}setBaseURL(o){this.baseURL=o,this._api.baseURL=o}setModelsUrl(o){this.modelsURL=o}async listModels(){const o=await fetch(`${this.baseURL}${this.modelsURL}`,{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}async createChat__(o,t){return this._api.chat.completions.create(o,t)}async fetchChatResponse(o,t){return await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,...(t==null?void 0:t.headers)??{}},body:JSON.stringify(o)})}async createChat(o,t){const l=await this.fetchChatResponse(o,t);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return l.json()}async*createChatStream(o,t){var l;try{const n=await this.fetchChatResponse(o,t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=n.body.getReader(),c=new TextDecoder("utf-8");let i="";for(;;){const{done:s,value:d}=await a.read();if(s)break;const f=c.decode(d,{stream:!0});i+=f;const g=i.split(`
`);i=g.pop()??"";for(const u of g)if((l=u.trim())!=null&&l.length&&u.trim()!=": keep-alive")try{const p=u.trim().slice(5).trim();if(p=="[DONE]"){yield{done:!0};continue}yield JSON.parse(p)}catch(p){console.error("Error parsing JSON:",p,u)}}}catch(n){throw console.error("Error streaming LLM JSON data:",n),n}}async*chatStream(o,t=void 0,l=[],n={},a=!1){var c,i;for await(const s of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...l??[],...a?[]:[{role:"user",content:o}]],temperature:.6,stream:!0,...n??{}})){const d=(i=(c=s==null?void 0:s.choices)==null?void 0:c[0])==null?void 0:i.delta;if(d!=null&&(yield d),s.done){yield{done:!0};break}}}async chat(o,t=void 0,l=[],n={}){var a;const c=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...l??[],{role:"user",content:o}],temperature:.6,...n??{}}),{choices:i=[]}=c;return(a=i==null?void 0:i[0])==null?void 0:a.message}async*chatWithLifeCycle(o,t,l,n,a){const{chunkProcessor:c,resultProcessor:i,onStart:s,onBeforeUpdate:d,onAfterUpdate:f,onDone:g,onEnd:u,onCancel:p,onErrorInUpdate:x,onError:C,shouldContinue:S}=a??{};let m="initialization",v=q.cloneDeep(l),w,$=-1;m="beforeStart";const R=await(s==null?void 0:s({result:v}));m="afterStart",v=(R==null?void 0:R.result)??v;try{m="beforeLoop";for await(let y of this.chatStream("",o,t,n,!0))try{if($+=1,y==null)continue;m=`beforeBeforeUpdate_${$}`;const I=await(d==null?void 0:d({result:v,chunk:y,idx:$}));v=(I==null?void 0:I.result)??v,y=(I==null?void 0:I.chunk)??y,m=`beforeChunkProcessor_${$}`,w=await(c==null?void 0:c(v,y)),yield{result:v,chunk:y,processedChunk:w},m=`beforeAfterUpdate_${$}`;const O=await(f==null?void 0:f({result:v,chunk:y,processedChunk:w,idx:$}));if(v=(O==null?void 0:O.result)??v,y=(O==null?void 0:O.chunk)??y,w=(O==null?void 0:O.processedChunk)??w,m=`afterAfterUpdate_${$}`,y!=null&&y.done){m=`beforeDone_${$}`;const _=await(g==null?void 0:g({result:v,chunk:y,processedChunk:w}));v=(_==null?void 0:_.result)??v,y=(_==null?void 0:_.chunk)??y,w=(_==null?void 0:_.processedChunk)??w,m=`afterDone_${$}`;break}if(S!=null&&!await S({result:v,chunk:y,processedChunk:w,idx:$})){m=`beforeCancel_${$}`,await(p==null?void 0:p({result:v,chunk:y,processedChunk:w,idx:$})),m=`afterCancel_${$}`;break}}catch(I){if(await(x==null?void 0:x({error:I,result:v,chunk:y,processedChunk:w,idx:$,state:m})))continue;throw I}m="afterLoop",m="beforeFinalResult";const k=await(i==null?void 0:i(v));return m="beforeEnd",await(u==null?void 0:u({finalResult:k,result:v,processedChunk:w,idx:$})),m="afterEnd",k}catch(k){if(!await(C==null?void 0:C({error:k,result:v,processedChunk:w,idx:$,state:m})))throw console.error("Stream processing error:",k),new Error(`Chat stream failed: ${k.message}`)}}}const He=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"阿里云百炼",type:"ChatSupplier",desc:"阿里云百炼",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"智增增",type:"ChatSupplier",desc:"智增增",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"硅基流动",type:"ChatSupplier",desc:"硅基流动",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"智谱清言",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()}];$o({breaks:!0,linkify:!0});const Ro=new So("DBOfPureKnowDemo");Ro.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title",demoEntries:"++id, input"});const Io=Ro,je=async e=>{var t;const o=(t=await Io.kvs.get({key:e}))==null?void 0:t.value;return o==null?null:te.parse(o)},xe=async(e,o)=>{const t=te.stringify(o);await Io.kvs.put({id:e,key:e,value:t})},ae=async e=>new Promise(o=>{setTimeout(()=>{o({})},e)}),f0=async(e,o)=>{var n;const t=o.apiKeyDict,l=o.supplierModelsDict;try{const a=`Bearer ${t[e.name]}`;console.log({supplier:e,apiKeyDict:t,Authorization:a});let c;try{const d=await fetch(`${e.baseUrl}${e.modelsUrl}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);c={data:await d.json()},console.log(c)}catch(d){try{const f=await fetch(`${e.baseUrl}${e.modelsUrl}`,{headers:{Authorization:a}});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);c={data:await f.json()},console.log(c)}catch(f){console.warn(d),console.warn(f)}}let i=((n=c==null?void 0:c.data)==null?void 0:n.data)??[];console.log({models:i}),i!=null&&i.length||(i=(e==null?void 0:e.models)??[]);const s={...l};s[e.name]=i,o.supplierModelsDict=s,xe("supplierForm",o)}catch(a){console.warn(a)}};async function p0(e,o,t,l,n={},a=null,c,i,s,d){var m,v,w,$,R,k,y,I,O,_;const f=(w=(v=o==null?void 0:o.selectedModelDict)==null?void 0:v[(m=o==null?void 0:o.selectedSupplier)==null?void 0:m.name])==null?void 0:w.name,g=(R=($=t==null?void 0:t.trim)==null?void 0:$.call(t))!=null&&R.length?`${f=="free:QwQ-32B"?`这是一个简单任务，请不要过度思考，尽量直接输出答案。

----------

`:""}${t}${f=="free:QwQ-32B"?`

----------

这是一个简单任务，请不要过度思考，尽量直接输出答案。`:""}`:"",u={chunkProcessor:async(b,A)=>(await(i==null?void 0:i(e,n,b,A)),A),resultProcessor:async b=>(await(s==null?void 0:s(e,n,b)),b),onAfterUpdate:async()=>{await(d==null?void 0:d())}};await(c==null?void 0:c(e,n));const p={baseURL:(k=o==null?void 0:o.selectedSupplier)==null?void 0:k.baseUrl,apiKey:o==null?void 0:o.apiKeyDict[(y=o==null?void 0:o.selectedSupplier)==null?void 0:y.name],defaultModel:(_=(O=o==null?void 0:o.selectedModelDict)==null?void 0:O[(I=o==null?void 0:o.selectedSupplier)==null?void 0:I.name])==null?void 0:_.name},x=new g0(p),C={},S=x.chatWithLifeCycle(g,[{role:"user",content:l(e)}],C,a??{max_tokens:2e3,temperature:1},u);for await(const b of S);}const m0=async e=>{e.processing=!0,e.thinkingSpans=[],e.outputSpans=[]};async function Fe(e,o,t,l,n,a,c=v0){var d,f,g;const i={},s=(g=(f=l==null?void 0:l.selectedModelDict)==null?void 0:f[(d=l==null?void 0:l.selectedSupplier)==null?void 0:d.name])==null?void 0:g.name;await p0(t,l,e,o,i,Object.assign({max_tokens:s=="free:QwQ-32B"?8e3:4e3,model:s,temperature:1},{}),m0,async(u,p,x,C)=>{C.reasoning_content&&u.thinkingSpans.push(C.reasoning_content),C.content&&u.outputSpans.push(C.content)},c,async()=>{await(a==null?void 0:a()),t.processing=!1})}async function v0(e,o,t){const l=e.outputSpans.join("");console.log(e.outputSpans),console.log(l);const n=b0(l);console.log(n),q.isString(n)||(e.outputData=n)}const b0=e=>{const o=e.trim().replace(/\<think\>[\s\S]*\<\/think\>/g,"").trim().replace(/^```[^\n]*|```$/g,"").trim();try{return Ke.parse(o)}catch(t){try{return Ke.parse(o.slice(1))}catch(l){return console.error({error1:t,error2:l}),o}}},go=j({name:"NoteHistoryPanel",props:{currentVersion:{type:String,required:!1}},emits:["select-version"],setup(e,{emit:o}){const t=P([]),l=P(!1),n=P(0),a=P(0),c=P(10),i=P(!1),s=P(!1),d=P(""),f=P(""),g=P(()=>Promise.resolve()),u=P(!1),p=P(0),x=P(""),C=P(null),S=P(!1),m=async(T=!0)=>{if(l.value){console.warn("[loadBackups] Loading already in progress, skipping new load request");return}l.value=!0;try{const h=await new Promise(B=>{window.requestIdleCallback?window.requestIdleCallback(()=>{lo(a.value,c.value).then(B)}):lo(a.value,c.value).then(B)});if(t.value=h||[],T){const B=await new Promise(N=>{window.requestIdleCallback?window.requestIdleCallback(()=>{Me().then(N)}):Me().then(N)});n.value=B}}catch(h){console.error("Failed to load notebook backups:",h)}finally{l.value=!1}},v=T=>{a.value=T.first,c.value=T.rows,m(!1)},w=async()=>{l.value=!0;try{const T=await Me();n.value=T,l.value=!1;const h=Math.floor(a.value/c.value),B=Math.ceil(T/c.value);T===0?a.value=0:h>=B&&(a.value=(B-1)*c.value),m(!1)}catch(T){l.value=!1,console.error("Failed to reload notebook backups:",T),m(!0)}},$=T=>{o("select-version",T)},R=T=>{C.value=T,S.value=!0},k=(T,h,B)=>{d.value=T,f.value=h,g.value=B,s.value=!0},y=async()=>{s.value=!1,await g.value()},I=async T=>{try{const h=!(T.isMarked??!1);await c0(T.id,h);const B=t.value.findIndex(N=>N.id===T.id);B!==-1&&(t.value[B].isMarked=h,t.value=[...t.value])}catch(h){console.error("Failed to mark/unmark backup:",h)}},O=async T=>{k("确认删除",`确定要删除版本 ${T.key} 吗？`,async()=>{try{await l0(T.id),w()}catch(h){console.error("Failed to delete backup:",h)}})},_=()=>{k("确认批量删除","确定要删除所有已标记的笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,p.value=0,x.value="正在删除已标记的笔记版本...";try{await uo({isMarked:!0},{progressCallback:(T,h)=>{p.value=Math.round(T/h*100)}})}catch(T){console.error("Failed to delete marked backups:",T)}finally{u.value=!1,w()}})},b=()=>{k("确认批量删除","确定要删除所有未标记的笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,p.value=0,x.value="正在删除未标记的笔记版本...";try{await uo({isMarked:!1},{progressCallback:(T,h)=>{p.value=Math.round(T/h*100)}})}catch(T){console.error("Failed to delete unmarked backups:",T)}finally{u.value=!1,w()}})},A=()=>{k("确认批量删除","确定要删除所有笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,p.value=0,x.value="正在删除所有笔记版本...";try{await u0({progressCallback:(T,h)=>{p.value=Math.round(T/h*100)}})}catch(T){console.error("Failed to delete all backups:",T)}finally{u.value=!1,w()}})},M=T=>{var B;return(B=T==null?void 0:T.data)!=null&&B.entries&&T.data.entries.filter(N=>!N.deleted).map(N=>N.name).join(", ")||"无题型"},Q=T=>T!=null&&T.data?JSON.stringify(T.data).length:0;return ne(async()=>{await ae(1500),setTimeout(async()=>{await m(),i.value=!0},1e3)}),()=>r(F,{toggleable:!0,collapsed:!1},{header:()=>r("div",{class:"stack-h items-center! justify-between w-full"},[r("div",{class:"font-bold"},["笔记历史版本"])]),default:()=>r("div",{class:[]},[r("div",{class:["stack-h mb-2 flex-wrap"]},[r(D,{label:"刷新",icon:"pi pi-refresh",class:"mr-0.5rem",loading:l.value,onClick:w}),r("div",{class:"flex gap-1 ml-auto"},[r(D,{label:"删除已标记",icon:"pi pi-trash",disabled:l.value,onClick:_}),r(D,{label:"删除未标记",icon:"pi pi-trash",disabled:l.value,onClick:b}),r(D,{label:"删除全部",icon:"pi pi-trash",disabled:l.value,onClick:A})])]),u.value&&r("div",{class:"my-2"},[r("div",{class:"text-sm mb-1"},[x.value]),r(mr,{value:p.value,showValue:!0})]),(!i.value||l.value)&&r("div",{class:"my-2 text-center"},["加载中..."]),i.value&&!l.value&&r("div",{class:"border-1 border-gray-200 dark:border-gray-700 rounded overflow-hidden"},[r("div",{class:"stack-h bg-gray-100 dark:bg-gray-800 p-2 font-bold border-b-1 dark:border-gray-700"},[r("div",{class:"flex-1 text-center"},["编号"]),r("div",{class:"flex-1 text-center"},["版本标识"]),r("div",{class:"flex-1 text-center"},["题型与字符数"]),r("div",{class:"flex-1 text-center"},["标记"]),r("div",{class:"flex-1 text-center"},["操作"])]),t.value.length===0?r("div",{class:"p-4 text-center text-gray-500 dark:text-gray-400"},["没有历史记录"]):t.value.map(T=>r("div",{key:T.id,class:"stack-h p-3 border-b-1 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 items-center!"},[r("div",{class:"flex-1 text-center"},[`${T.id}`]),r("div",{class:"flex-1 text-center"},[T.key]),r("div",{class:"flex-1"},[r("div",{class:"text-sm whitespace-normal"},[`题型: ${M(T)}`]),r("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[`字符数: ${Q(T)}`])]),r("div",{class:"flex-1 flex justify-center"},[r(D,{icon:T.isMarked?"pi pi-check-circle":"pi pi-circle",tip:T.isMarked?"取消标记":"标记此版本",class:T.isMarked?"p-button-success":"p-button-secondary",onClick:()=>I(T)})]),r("div",{class:"flex-1 flex justify-center gap-2"},[r(D,{icon:"pi pi-eye",tip:"查看详情",onClick:()=>R(T)}),r(D,{icon:"pi pi-arrow-right-arrow-left",tip:"加载此版本到当前状态",onClick:()=>$(T)}),r(D,{icon:"pi pi-trash",tip:"删除此版本",class:"p-button-danger",onClick:()=>O(T)})])]))]),i.value&&r(Co,{first:a.value,rows:c.value,totalRecords:n.value,rowsPerPageOptions:[5,10,20],template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPage:v,class:"mt-2"}),r(pe,{header:d.value,visible:s.value,modal:!0,closable:!0,style:{width:"450px"},onHide:()=>{s.value=!1}},{default:()=>[r("div",{class:"p-4"},[r("p",{},[f.value])]),r("div",{class:"flex justify-end p-3 pt-0 gap-2"},[r(V,{label:"取消",class:"p-button-text",onClick:()=>{s.value=!1}}),r(V,{label:"确认",class:"p-button-danger",onClick:y})])]}),r(pe,{header:"笔记版本详情",visible:S.value,style:{width:"80vw"},modal:!0,"onUpdate:visible":T=>{S.value=T}},{default:()=>{var T;return C.value&&r("div",{class:"p-3"},[r("h3",{class:"mb-2 font-bold"},[`ID: ${C.value.id} | 标识: ${C.value.key}`]),(T=C.value.data)!=null&&T.entries&&Array.isArray(C.value.data.entries)?r("div",{class:"mb-4"},[r("h4",{class:"font-bold mb-2"},["题型列表"]),...C.value.data.entries.map((h,B)=>r("div",{key:B,class:`p-3 mb-2 rounded ${h.deleted?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"}`},[r("div",{class:"font-bold mb-1 flex items-center"},[h.deleted&&r("i",{class:"pi pi-trash mr-2 text-red-500"}),r("span",{class:h.deleted?"line-through text-red-600":""},[`【${h==null?void 0:h.name}】`]),h.deleted&&r("span",{class:"ml-2 text-xs bg-red-100 text-red-600 py-0.5 px-1 rounded"},["已删除"])]),r("div",{class:"text-sm mb-1"},[`描述: ${h.desc||"无"}`]),r("div",{class:"text-sm"},[`线索: ${h.clue||"无"}`])]))]):r("div",{class:"mb-4 text-gray-500"},["没有题型数据"]),r("div",{},[r("h4",{class:"font-bold mb-2"},["原始数据"]),r("div",{class:"p-3 bg-gray-100 dark:bg-gray-800 rounded overflow-auto max-h-60vh"},[r("pre",{class:"text-xs overflow-auto max-h-60vh"},[JSON.stringify(C.value.data,null,2)])])]),r("div",{class:"flex justify-end mt-4"},[r(V,{label:"关闭",icon:"pi pi-times",onClick:()=>{S.value=!1}})])])}})])})}}),h0=j({name:"StorageInfoPanel",setup(){const{t:e}=Ae(),o=P(null),t=P(!1),l=async(n=!1)=>{if(!(!n&&t.value)){t.value=!0;try{o.value=await new Promise(a=>{window.requestIdleCallback?window.requestIdleCallback(()=>{so().then(a)}):so().then(a)})}catch(a){console.error("Failed to get storage size:",a),o.value={error:!0,message:e("AITrainingSystem.StorageInfoPanel.errorDefault")}}finally{t.value=!1}}};return ne(async()=>{await ae(1500),setTimeout(async()=>{l()},1e3)}),()=>r(F,{toggleable:!0,collapsed:!1},{header:()=>{var n,a;return r("div",{class:"stack-h items-center! justify-between w-full"},[r("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.title")]),r("div",{class:"text-sm text-gray-500 dark:text-gray-400 flex items-center"},[t.value?r("span",{class:"flex items-center"},[r("i",{class:"pi pi-spin pi-spinner mr-1"}),e("AITrainingSystem.StorageInfoPanel.usageCalculating")]):`${e("AITrainingSystem.StorageInfoPanel.usagePrefix")}${((a=(n=o.value)==null?void 0:n.total)==null?void 0:a.formatted)||e("AITrainingSystem.StorageInfoPanel.notCalculated")}`])])},default:()=>{var n,a,c,i,s,d,f,g,u,p;return r("div",{class:[]},[r("div",{class:"p-3 border-1 border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-800"},[r("div",{class:"flex justify-between items-center mb-2"},[r("h4",{class:"text-md font-bold m-0"},[e("AITrainingSystem.StorageInfoPanel.usageDetailsTitle")]),r(D,{icon:"pi pi-refresh",tip:e("AITrainingSystem.StorageInfoPanel.refreshTip"),loading:t.value,onClick:()=>{l(!0)}})]),t.value&&r("div",{class:"flex items-center text-blue-500 dark:text-blue-400 mb-2"},[r("i",{class:"pi pi-spin pi-spinner mr-2"}),e("AITrainingSystem.StorageInfoPanel.calculatingDetails")]),((n=o.value)==null?void 0:n.error)&&r("div",{class:"text-red-500 dark:text-red-400"},[o.value.message||e("AITrainingSystem.StorageInfoPanel.errorDefault")]),((a=o.value)==null?void 0:a.unsupported)&&r("div",{class:"text-orange-500 dark:text-orange-400 mb-2"},[e("AITrainingSystem.StorageInfoPanel.unsupportedAPI")]),!t.value&&o.value&&!o.value.error&&r("div",{class:"grid grid-cols-2 gap-2"},[r("div",{class:"col-span-2 flex justify-between border-b-1 dark:border-gray-700 pb-1 mb-2"},[r("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.totalUsage")]),r("div",{},[`${((c=o.value.total)==null?void 0:c.formatted)||e("AITrainingSystem.StorageInfoPanel.unknown")} / 
                   ${((s=(i=o.value.total)==null?void 0:i.quota)==null?void 0:s.formatted)||e("AITrainingSystem.StorageInfoPanel.unknown")} 
                   (${((d=o.value.total)==null?void 0:d.percentUsed)||"0%"})`])]),r("div",{class:"col-span-2 flex justify-between border-b-1 dark:border-gray-700 pb-1 mb-1"},[r("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.totalRecords")]),r("div",{},[`${((f=o.value.tableCounts)==null?void 0:f.total)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),r("div",{class:"col-span-2 flex justify-between"},[r("div",{},[e("AITrainingSystem.StorageInfoPanel.qtBookBackupsTable")]),r("div",{class:""},[`${((g=o.value.tableCounts)==null?void 0:g.qtBookBackups)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),r("div",{class:"col-span-2 flex justify-between"},[r("div",{},[e("AITrainingSystem.StorageInfoPanel.chatRecordsTable")]),r("div",{class:""},[`${((u=o.value.tableCounts)==null?void 0:u.chatRecords)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),r("div",{class:"col-span-2 flex justify-between"},[r("div",{},[e("AITrainingSystem.StorageInfoPanel.kvsTable")]),r("div",{class:""},[`${((p=o.value.tableCounts)==null?void 0:p.kvs)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])])])])])}})}}),fo=j({name:"ChatRecordsPanel",props:{currentChatId:{type:String,required:!1}},emits:["select-chat"],setup(e,{emit:o}){const t=P([]),l=P(!1),n=P(0),a=P(0),c=P(10),i=P(null),s=P(!1),d=P(!1),f=P(!1),g=P(""),u=P(""),p=P(()=>Promise.resolve()),x=P(!1),C=P(0),S=P(0),m=P(""),v=async(b=!0)=>{if(l.value){console.warn("[loadChatRecords] Loading already in progress, skipping new load request");return}l.value=!0;try{const A=await new Promise(M=>{window.requestIdleCallback?window.requestIdleCallback(()=>{io(a.value,c.value).then(M)}):io(a.value,c.value).then(M)});if(t.value=A||[],b){const M=await new Promise(Q=>{window.requestIdleCallback?window.requestIdleCallback(()=>{_e().then(Q)}):_e().then(Q)});n.value=M}}catch(A){console.error("Failed to load chat records:",A)}finally{l.value=!1}},w=b=>{a.value=b.first,c.value=b.rows,v(!1)},$=async()=>{l.value=!0;try{const b=await _e();n.value=b,l.value=!1;const A=Math.floor(a.value/c.value),M=Math.ceil(b/c.value);b===0?a.value=0:A>=M&&(a.value=(M-1)*c.value),v(!1)}catch(b){l.value=!1,console.error("Failed to reload chat records:",b),v(!0)}},R=b=>{i.value=b,s.value=!0},k=b=>{o("select-chat",b)},y=async b=>{if(confirm(`确定要删除对话记录 ${b.key} 吗？`))try{await i0(b.id),$()}catch(A){console.error("Failed to delete chat record:",A)}},I=(b,A,M)=>{g.value=b,u.value=A,p.value=M,f.value=!0},O=b=>{var M,Q;return b!=null&&b.data?(Q=(M=b==null?void 0:b.data)==null?void 0:M.data)!=null&&Q.outputData?JSON.stringify(b.data.data.outputData).substring(0,50)+"...":`字段: ${Object.keys(b.data).join(", ")}`:"无内容"},_=b=>b!=null&&b.data?JSON.stringify(b.data).length:0;return ne(async()=>{await ae(1500),setTimeout(async()=>{await v(),d.value=!0},1e3)}),()=>r(F,{toggleable:!0,collapsed:!1},{header:()=>r("div",{class:"stack-h items-center! justify-between w-full"},[r("div",{class:"font-bold"},["对话历史记录"])]),default:()=>r("div",{class:[]},[r("div",{class:["stack-h mb-2 flex-wrap gap-1"]},[r(D,{label:"刷新",icon:"pi pi-refresh",class:"mr-0.5rem",loading:l.value,onClick:$}),r(D,{label:"添加演示记录",icon:"pi pi-plus",onClick:async()=>{const b={messages:[{role:"system",content:"你是一个智能AI助手。"},{role:"user",content:"你好，请介绍一下自己。"},{role:"assistant",content:"你好！我是一个AI助手，我可以帮助你回答问题、提供信息和协助完成各种任务。我的知识库涵盖了广泛的主题，包括科学、历史、艺术、技术等多个领域。请告诉我你需要什么帮助，我会尽力为你提供支持！"}],model:"gpt-4",timestamp:new Date().toISOString(),metadata:{source:"demo",created:new Date().toISOString()}};try{await Do({key:`demo-${new Date().getTime()}`,data:b}),$()}catch(A){console.error("Failed to add demo chat record:",A)}}}),r("div",{class:"flex gap-1 ml-auto"},[r(D,{label:"删除已标记",icon:"pi pi-bookmark-fill",class:"ml-2",disabled:x.value,onClick:()=>{I("删除所有已标记的记录","确定要删除所有已标记的对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除已标记记录...",C.value=0,S.value=0;const b=await co({isMarked:!0},{progressCallback:(A,M)=>{C.value=A,S.value=M}});console.log(`成功删除 ${b} 条已标记记录`),m.value=`成功删除 ${b} 条已标记记录`,$()}catch(b){console.error("删除已标记记录失败:",b),m.value=`删除失败: ${(b==null?void 0:b.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}}),r(D,{label:"删除未标记",icon:"pi pi-bookmark",disabled:x.value,onClick:()=>{I("删除所有未标记的记录","确定要删除所有未标记的对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除未标记记录...",C.value=0,S.value=0;const b=await co({isMarked:!1},{progressCallback:(A,M)=>{C.value=A,S.value=M}});console.log(`成功删除 ${b} 条未标记记录`),m.value=`成功删除 ${b} 条未标记记录`,$()}catch(b){console.error("删除未标记记录失败:",b),m.value=`删除失败: ${(b==null?void 0:b.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}}),r(D,{label:"删除全部",icon:"pi pi-trash",disabled:x.value,onClick:()=>{I("删除所有记录","确定要删除所有对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除所有记录...",C.value=0,S.value=0;const b=await d0({useClear:!1,progressCallback:(A,M)=>{C.value=A,S.value=M}});console.log(`成功删除全部 ${b} 条记录`),m.value=`成功删除全部 ${b} 条记录`,$()}catch(b){console.error("删除所有记录失败:",b),m.value=`删除失败: ${(b==null?void 0:b.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}})])]),(!d.value||l.value)&&r("div",{class:"my-2 text-center"},["加载中..."]),x.value&&r("div",{class:"my-2"},[r("div",{class:"text-center mb-1"},[m.value]),r("div",{class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},[r("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${S.value?C.value/S.value*100:0}%`}})]),S.value>0&&r("div",{class:"text-xs text-center mt-1"},[`${C.value} / ${S.value} (${Math.round(C.value/S.value*100)}%)`])]),d.value&&!l.value&&r("div",{class:"border-1 border-gray-200 dark:border-gray-700 rounded overflow-hidden"},[r("div",{class:"stack-h bg-gray-100 dark:bg-gray-800 p-2 font-bold border-b-1 dark:border-gray-700"},[r("div",{class:"flex-1 text-center"},["编号"]),r("div",{class:"flex-1 text-center"},["标识"]),r("div",{class:"flex-1 text-center"},["内容摘要"]),r("div",{class:"flex-1 text-center"},["操作"])]),t.value.length===0?r("div",{class:"p-4 text-center text-gray-500 dark:text-gray-400"},["没有对话记录"]):t.value.map(b=>r("div",{key:b.id,class:"stack-h p-3 border-b-1 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 items-center!"},[r("div",{class:"flex-1 text-center"},[`${b.id}`]),r("div",{class:"flex-1 text-center"},[b.key]),r("div",{class:"flex-1"},[r("div",{class:"text-sm whitespace-normal"},[O(b)]),r("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[`字符数: ${_(b)}`])]),r("div",{class:"flex-1 flex justify-center gap-2"},[r(D,{icon:"pi pi-eye",tip:"查看详情",onClick:()=>R(b)}),r(D,{icon:"pi pi-arrow-right-arrow-left",tip:"加载此对话记录",onClick:()=>k(b)}),r(D,{icon:b.isMarked?"pi pi-bookmark-fill":"pi pi-bookmark",tip:b.isMarked?"取消标记":"标记",class:b.isMarked?"p-button-success":"",onClick:async()=>{try{const A=!b.isMarked;await s0(b.id,A);const M=t.value.findIndex(Q=>Q.id===b.id);M!==-1&&(t.value[M].isMarked=A)}catch(A){console.error("标记/取消标记对话记录失败:",A)}}}),r(D,{icon:"pi pi-trash",tip:"删除此记录",class:"p-button-danger",onClick:()=>y(b)})])]))]),d.value&&r(Co,{first:a.value,rows:c.value,totalRecords:n.value,rowsPerPageOptions:[5,10,20],template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPage:w,class:"mt-2"}),r(pe,{header:"对话记录详情",visible:s.value,style:{width:"80vw"},modal:!0,"onUpdate:visible":b=>{s.value=b}},{default:()=>i.value&&r("div",{class:"p-3"},[r("h3",{class:"mb-2 font-bold"},[`ID: ${i.value.id} | 标识: ${i.value.key}`]),i.value.data.messages&&Array.isArray(i.value.data.messages)?r("div",{class:"mb-4"},[r("h4",{class:"font-bold mb-2"},["对话内容"]),...i.value.data.messages.map((b,A)=>r("div",{key:A,class:`p-3 mb-2 rounded ${b.role==="user"?"bg-blue-100 dark:bg-blue-900":b.role==="system"?"bg-gray-100 dark:bg-gray-800":"bg-green-100 dark:bg-green-900"}`},[r("div",{class:"font-bold mb-1"},[b.role==="user"?"用户":b.role==="system"?"系统":b.role==="assistant"?"助手":b.role]),r("div",{class:"whitespace-pre-wrap"},[b.content])]))]):null,r("div",{},[r("h4",{class:"font-bold mb-2"},["原始数据"]),r("div",{class:"p-3 bg-gray-100 dark:bg-gray-800 rounded ==overflow-auto ==max-h-60vh"},[r("pre",{class:"text-xs overflow-auto max-h-60vh"},[JSON.stringify(i.value.data,null,2)])])]),r("div",{class:"flex justify-end mt-4"},[r(V,{label:"关闭",icon:"pi pi-times",onClick:()=>{s.value=!1}})])])}),r(pe,{header:g.value,visible:f.value,style:{width:"30vw"},modal:!0,"onUpdate:visible":b=>{f.value=b}},{default:()=>r("div",{class:"p-3"},[r("div",{class:"mb-4"},[u.value]),r("div",{class:"flex justify-end gap-2"},[r(V,{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:()=>{f.value=!1}}),r(V,{label:"确认",icon:"pi pi-check",class:"p-button-danger",onClick:async()=>{f.value=!1;try{await p.value(),$()}catch(b){console.error("确认操作失败:",b)}}})])])})])})}});class y0{constructor(){Y(this,"audioContext");this.audioContext=new AudioContext}getAudioContext(){return this.audioContext}createTone(o){const{type:t,frequency:l,startTime:n,duration:a,gainEnvelope:c,connect:i}=o,s=this.audioContext.createOscillator();s.type=t,s.frequency.value=l;const d=this.audioContext.createGain();d.gain.value=0,s.connect(d),d.connect(i),c.forEach(u=>{const p=n+u.time;isFinite(p)?d.gain.linearRampToValueAtTime(u.value,p):(console.warn("非法的时间值:",{startTime:n,pointTime:u.time,sum:p}),d.gain.linearRampToValueAtTime(u.value,n||this.audioContext.currentTime))});const f=isFinite(n)?n:this.audioContext.currentTime,g=isFinite(n+a)?n+a:this.audioContext.currentTime+(isFinite(a)?a:1);return s.start(f),s.stop(g),{oscillator:s,gainNode:d}}createNoise(o){const{duration:t,startTime:l,gainEnvelope:n,connect:a,decayRate:c=0}=o,i=this.audioContext.sampleRate*t,s=this.audioContext.createBuffer(1,i,this.audioContext.sampleRate),d=s.getChannelData(0);for(let x=0;x<i;x++)c>0?d[x]=(Math.random()*2-1)*Math.max(0,1-x/(i*c)):d[x]=Math.random()*2-1;const f=this.audioContext.createBufferSource();f.buffer=s;const g=this.audioContext.createGain();g.gain.value=0,f.connect(g),g.connect(a),n.forEach(x=>{const C=l+x.time;isFinite(C)?g.gain.linearRampToValueAtTime(x.value,C):(console.warn("噪声音效中非法的时间值:",{startTime:l,pointTime:x.time,sum:C}),g.gain.linearRampToValueAtTime(x.value,l||this.audioContext.currentTime))});const u=isFinite(l)?l:this.audioContext.currentTime,p=isFinite(l+t)?l+t:this.audioContext.currentTime+(isFinite(t)?t:1);return f.start(u),f.stop(p),{noiseSource:f,gainNode:g}}createFilter(o){const{type:t,frequency:l,Q:n=1}=o,a=this.audioContext.createBiquadFilter();return a.type=t,a.frequency.value=l,a.Q.value=n,a}createReverb(o){const{duration:t,decayRate:l}=o,n=this.audioContext.createConvolver(),a=this.audioContext.sampleRate*t,c=this.audioContext.createBuffer(2,a,this.audioContext.sampleRate);for(let i=0;i<2;i++){const s=c.getChannelData(i);for(let d=0;d<a;d++)s[d]=(Math.random()*2-1)*Math.pow(1-d/a,l)}return n.buffer=c,n}}function k0(e){const o=new y0,t=o.getAudioContext(),l=t.createGain();l.gain.value=e.masterVolume||1,l.connect(t.destination);let n=l;e.effects&&e.effects.length>0&&e.effects.slice().reverse().forEach(a=>{if(a.type==="filter"){const c=o.createFilter(a.params);c.connect(n),n=c}else if(a.type==="reverb"){const c=o.createReverb(a.params);c.connect(n),n=c}}),e.elements&&e.elements.forEach(a=>{if(a.type==="tone"){const c=a,i=o.createTone({type:c.oscillatorType,frequency:c.frequency,startTime:t.currentTime+c.startTime,duration:c.duration,gainEnvelope:c.gainEnvelope,connect:n});if(c.vibrato){const s=t.createOscillator();s.frequency.value=c.vibrato.frequency;const d=t.createGain();d.gain.value=c.vibrato.depth,s.connect(d),d.connect(i.oscillator.frequency),s.start(t.currentTime+c.vibrato.startTime),s.stop(t.currentTime+c.vibrato.startTime+c.vibrato.duration)}}else if(a.type==="noise"){const c=a;o.createNoise({duration:c.duration,startTime:t.currentTime+c.startTime,gainEnvelope:c.gainEnvelope,connect:n,decayRate:c.decayRate})}else if(a.type==="frequencyRamp"){const c=a,i=t.createOscillator();i.type=c.oscillatorType;const s=isFinite(t.currentTime+c.startTime)?t.currentTime+c.startTime:t.currentTime,d=isFinite(t.currentTime+c.startTime+c.duration)?t.currentTime+c.startTime+c.duration:t.currentTime+(isFinite(c.duration)?c.duration:1);i.frequency.setValueAtTime(c.startFrequency,s),i.frequency.linearRampToValueAtTime(c.endFrequency,d);const f=t.createGain();f.gain.value=0,i.connect(f),f.connect(n),c.gainEnvelope.forEach(g=>{const u=t.currentTime+c.startTime+g.time;isFinite(u)?f.gain.linearRampToValueAtTime(g.value,u):(console.warn("频率斜坡中非法的时间值:",{contextTime:t.currentTime,startTime:c.startTime,pointTime:g.time,sum:u}),f.gain.linearRampToValueAtTime(g.value,t.currentTime))}),i.start(s),i.stop(d)}}),e.type}const G=e=>{k0(e)},x0={type:"composite",masterVolume:1,elements:[{type:"tone",oscillatorType:"sine",frequency:1046.5,startTime:0,duration:.35,gainEnvelope:[{time:0,value:0},{time:.005,value:.4},{time:.3,value:.01}]},{type:"tone",oscillatorType:"sine",frequency:1318.51,startTime:0,duration:.35,gainEnvelope:[{time:0,value:0},{time:.005,value:.4},{time:.3,value:.01}]}]},Po=()=>G(x0),C0={type:"composite",masterVolume:1,elements:[{type:"frequencyRamp",oscillatorType:"triangle",startFrequency:180,endFrequency:70,startTime:0,duration:.5,gainEnvelope:[{time:0,value:0},{time:.02,value:.7},{time:.1,value:.5},{time:.5,value:0}]}]},Ge=()=>G(C0),w0={type:"composite",masterVolume:1,elements:[{type:"noise",startTime:0,duration:.25,gainEnvelope:[{time:0,value:0},{time:.01,value:.85},{time:.05,value:.5},{time:.15,value:.2},{time:.25,value:0}],decayRate:.3},{type:"tone",oscillatorType:"triangle",frequency:120,startTime:.01,duration:.3,gainEnvelope:[{time:0,value:0},{time:.01,value:.7},{time:.1,value:.3},{time:.3,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:350,startTime:.01,duration:.2,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.08,value:.25},{time:.2,value:0}],vibrato:{frequency:30,depth:15,startTime:.01,duration:.18}},{type:"noise",startTime:.14,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.45},{time:.05,value:.2},{time:.15,value:0}],decayRate:.4},{type:"tone",oscillatorType:"triangle",frequency:180,startTime:.15,duration:.25,gainEnvelope:[{time:0,value:0},{time:.01,value:.4},{time:.1,value:.15},{time:.25,value:0}]}],effects:[{type:"reverb",params:{duration:.8,decayRate:25.64}}]},Eo=()=>G(w0),S0={type:"composite",masterVolume:1,elements:[{type:"noise",startTime:0,duration:.2,gainEnvelope:[{time:0,value:0},{time:.005,value:.5},{time:.1,value:.2},{time:.18,value:.001}],decayRate:.15},{type:"tone",oscillatorType:"triangle",frequency:4e3,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.002,value:.2},{time:.1,value:.001}]}]},qo=()=>G(S0),$0={type:"composite",masterVolume:1,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:800,endFrequency:150,startTime:0,duration:.6,gainEnvelope:[{time:0,value:0},{time:.05,value:.5},{time:.4,value:.3},{time:.6,value:0}]},{type:"frequencyRamp",oscillatorType:"triangle",startFrequency:700,endFrequency:100,startTime:.1,duration:.6,gainEnvelope:[{time:0,value:0},{time:.05,value:.3},{time:.45,value:.15},{time:.6,value:0}]},{type:"noise",startTime:.05,duration:.7,gainEnvelope:[{time:0,value:0},{time:.2,value:.1},{time:.5,value:.2},{time:.7,value:0}],decayRate:.1}],effects:[{type:"reverb",params:{duration:1.2,decayRate:2.3}}]},No=()=>G($0),T0={type:"composite",masterVolume:1,elements:[{type:"tone",oscillatorType:"square",frequency:392,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.3},{time:.15,value:0}]},{type:"tone",oscillatorType:"square",frequency:261.63,startTime:.15,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.6},{time:.2,value:.3},{time:.25,value:0}]},{type:"tone",oscillatorType:"sawtooth",frequency:196,startTime:.16,duration:.22,gainEnvelope:[{time:0,value:0},{time:.02,value:.15},{time:.18,value:.08},{time:.22,value:0}]},{type:"noise",startTime:.15,duration:.2,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.15,value:.1},{time:.2,value:0}],decayRate:.3},{type:"tone",oscillatorType:"sine",frequency:110,startTime:.15,duration:.3,gainEnvelope:[{time:0,value:0},{time:.05,value:.25},{time:.2,value:.15},{time:.3,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:1046.5,startTime:.01,duration:.1,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.08,value:.05},{time:.1,value:0}]}],effects:[{type:"filter",params:{type:"bandpass",frequency:3200,Q:.8}},{type:"reverb",params:{duration:2.25,decayRate:20.5}}]},se=()=>G(T0),B0={type:"composite",masterVolume:.7,elements:[{type:"tone",oscillatorType:"sine",frequency:523.25,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:659.25,startTime:.15,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:783.99,startTime:.3,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:1046.5,startTime:.45,duration:.7,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.4,value:.3},{time:.7,value:.001}],vibrato:{frequency:6,depth:5,startTime:.2,duration:.5}},{type:"tone",oscillatorType:"triangle",frequency:523.25,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.2},{time:.6,value:.2},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:659.25,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.14},{time:.6,value:.14},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:783.99,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.12},{time:.6,value:.12},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:1046.5,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.1},{time:.6,value:.1},{time:1,value:.001}]},...Array.from({length:8},(e,o)=>({type:"tone",oscillatorType:"sine",frequency:2e3+3e3*(o/8),startTime:.7+o*.08,duration:.12,gainEnvelope:[{time:0,value:0},{time:.01,value:.1},{time:.1,value:.001}]}))],effects:[{type:"reverb",params:{duration:2,decayRate:.2}}]},D0=()=>G(B0),R0={type:"composite",masterVolume:.7,elements:[{type:"tone",oscillatorType:"square",frequency:523.25,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:659.25,startTime:.15,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:783.99,startTime:.3,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:1046.5,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.01,value:.6},{time:.3,value:.4},{time:.4,value:.001}],vibrato:{frequency:8,depth:7,startTime:.1,duration:.3}},{type:"tone",oscillatorType:"sawtooth",frequency:1046.5*1.5,startTime:.45,duration:.35,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.2,value:.1},{time:.35,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:523.25,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.15},{time:.3,value:.1},{time:.4,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:659.25,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.1},{time:.3,value:.07},{time:.4,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:783.99,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.08},{time:.3,value:.05},{time:.4,value:.001}]},...Array.from({length:5},(e,o)=>({type:"tone",oscillatorType:"square",frequency:2500+2e3*(o/5),startTime:.7+o*.05,duration:.08,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.06,value:.05},{time:.08,value:.001}]}))],effects:[{type:"filter",params:{type:"highpass",frequency:800,Q:.7}},{type:"reverb",params:{duration:2.25,decayRate:20.5}}]},zo=()=>G(R0),I0={type:"composite",masterVolume:.7,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:900,endFrequency:650,startTime:0,duration:.5,gainEnvelope:[{time:0,value:0},{time:.05,value:.6},{time:.2,value:.5},{time:.4,value:.3},{time:.5,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:820,startTime:.02,duration:.45,gainEnvelope:[{time:0,value:0},{time:.03,value:.3},{time:.2,value:.25},{time:.45,value:0}],vibrato:{frequency:14,depth:12,startTime:.05,duration:.4}},{type:"tone",oscillatorType:"sine",frequency:1800,startTime:.03,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.15},{time:.2,value:.1},{time:.4,value:0}]},{type:"noise",startTime:.01,duration:.45,gainEnvelope:[{time:0,value:0},{time:.05,value:.1},{time:.25,value:.06},{time:.45,value:0}],decayRate:.2}],effects:[{type:"reverb",params:{duration:2.25,decayRate:20.5}},{type:"filter",params:{type:"bandpass",frequency:2600,Q:1.2}}]},Oo=()=>G(I0),P0={type:"composite",masterVolume:.8,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:120,endFrequency:105,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.5},{time:.2,value:.4},{time:.3,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:115,endFrequency:125,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.55},{time:.15,value:.45},{time:.25,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:130,endFrequency:110,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.6},{time:.2,value:.4},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:600,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.1},{time:.25,value:.08},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:650,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.12},{time:.2,value:.08},{time:.25,value:0}]},{type:"tone",oscillatorType:"sine",frequency:580,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.11},{time:.25,value:.07},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1e3,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.07},{time:.25,value:.05},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1100,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.08},{time:.2,value:.06},{time:.25,value:0}]},{type:"tone",oscillatorType:"sine",frequency:950,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.06},{time:.25,value:.04},{time:.3,value:0}]},{type:"noise",startTime:.02,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.1},{time:.08,value:.05},{time:.1,value:0}],decayRate:.5},{type:"noise",startTime:.35,duration:.08,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.06,value:.05},{time:.08,value:0}],decayRate:.6},{type:"noise",startTime:.65,duration:.12,gainEnvelope:[{time:0,value:0},{time:.02,value:.11},{time:.1,value:.04},{time:.12,value:0}],decayRate:.5},{type:"tone",oscillatorType:"triangle",frequency:120,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.2},{time:.25,value:.15},{time:.3,value:0}],vibrato:{frequency:5.5,depth:3,startTime:.01,duration:.28}},{type:"tone",oscillatorType:"triangle",frequency:115,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.22},{time:.2,value:.16},{time:.25,value:0}],vibrato:{frequency:5.8,depth:4,startTime:.01,duration:.23}},{type:"tone",oscillatorType:"triangle",frequency:125,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.25},{time:.25,value:.15},{time:.3,value:0}],vibrato:{frequency:5.2,depth:3.5,startTime:.02,duration:.27}}]},Ao=()=>G(P0),E0={type:"composite",masterVolume:.8,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:210,endFrequency:195,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.08,value:.2},{time:.1,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:200,endFrequency:205,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.45},{time:.1,value:.35},{time:.15,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:220,endFrequency:180,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.4},{time:.08,value:.2},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:950,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.12},{time:.08,value:.08},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:980,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.14},{time:.12,value:.1},{time:.15,value:0}]},{type:"tone",oscillatorType:"sine",frequency:920,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.13},{time:.08,value:.07},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1700,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.09},{time:.08,value:.05},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1800,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.11},{time:.12,value:.07},{time:.15,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1650,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.08},{time:.08,value:.04},{time:.1,value:0}]},{type:"noise",startTime:0,duration:.05,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.04,value:.04},{time:.05,value:0}],decayRate:.6},{type:"noise",startTime:.25,duration:.04,gainEnvelope:[{time:0,value:0},{time:.01,value:.14},{time:.03,value:.05},{time:.04,value:0}],decayRate:.7},{type:"tone",oscillatorType:"triangle",frequency:210,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.2},{time:.08,value:.12},{time:.1,value:0}],vibrato:{frequency:6.8,depth:4,startTime:.01,duration:.08}},{type:"tone",oscillatorType:"triangle",frequency:205,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.25},{time:.12,value:.18},{time:.15,value:0}],vibrato:{frequency:7.2,depth:5,startTime:.01,duration:.13}},{type:"tone",oscillatorType:"triangle",frequency:215,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.22},{time:.08,value:.15},{time:.1,value:0}],vibrato:{frequency:7,depth:4.5,startTime:.01,duration:.08}}]},Fo=()=>G(E0);[...Array.from({length:8},(e,o)=>({type:"frequencyRamp",oscillatorType:"sine",startFrequency:120,endFrequency:30,startTime:o*.5,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.8},{time:.05,value:.3},{time:.15,value:0}]})),...Array.from({length:16},(e,o)=>({type:"noise",startTime:o*.25,duration:.05,gainEnvelope:[{time:0,value:0},{time:.01,value:o%2===0?.2:.07},{time:.05,value:0}],decayRate:.8})),...Array.from({length:4},(e,o)=>[{type:"tone",oscillatorType:"sawtooth",frequency:[98,110,98,123][o],startTime:o*1,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.45},{time:.2,value:.2},{time:.4,value:0}]},{type:"tone",oscillatorType:"sawtooth",frequency:[98,110,98,123][o],startTime:o*1+.5,duration:.3,gainEnvelope:[{time:0,value:0},{time:.05,value:.3},{time:.2,value:.1},{time:.3,value:0}]}]).flat(),...Array.from({length:16},(e,o)=>({type:"tone",oscillatorType:"square",frequency:[523.25,587.33,659.25,783.99,880,783.99,659.25,587.33][o%8],startTime:o*.25,duration:.2,gainEnvelope:[{time:0,value:0},{time:.02,value:.15},{time:.18,value:.05},{time:.2,value:0}]}))];function q0(e=8){const o=[261.63,293.66,329.63,349.23,392,440,493.88,523.25,587.33,659.25,698.46,783.99],t=["sine","square","triangle","sawtooth"],l=i=>i[Math.floor(Math.random()*i.length)],n=(i,s)=>{const d=i+Math.random()*(s-i);return isFinite(d)?d:(i+s)/2},a=()=>{const i=[];for(let s=0;s<e;s++)Math.random()<.7&&i.push({type:"tone",oscillatorType:l(t),frequency:l(o),startTime:s*.5,duration:n(.2,.4),gainEnvelope:[{time:0,value:0},{time:.05,value:n(.2,.5)},{time:.3,value:.1},{time:.4,value:0}],...Math.random()<.2?{vibrato:{frequency:n(4,8),depth:n(3,10),startTime:.1,duration:.3}}:{}});if(Math.random()<.6){const s=l(o.slice(0,5)),d=Math.floor(n(0,e/2))*.5,f=n(1.5,e*.5);i.push({type:"tone",oscillatorType:"sine",frequency:s,startTime:d,duration:f,gainEnvelope:[{time:0,value:0},{time:.3,value:.15},{time:f-.5,value:.15},{time:f,value:0}]}),i.push({type:"tone",oscillatorType:"sine",frequency:s*1.26,startTime:d,duration:f,gainEnvelope:[{time:0,value:0},{time:.3,value:.12},{time:f-.5,value:.12},{time:f,value:0}]}),i.push({type:"tone",oscillatorType:"sine",frequency:s*1.5,startTime:d,duration:f,gainEnvelope:[{time:0,value:0},{time:.3,value:.1},{time:f-.5,value:.1},{time:f,value:0}]})}if(Math.random()<.4)for(let s=0;s<e;s+=2)i.push({type:"noise",startTime:s*.5,duration:.1,gainEnvelope:[{time:0,value:0},{time:.01,value:.2},{time:.1,value:0}],decayRate:.5});return Math.random()<.3&&i.push({type:"frequencyRamp",oscillatorType:l(t),startFrequency:n(400,800),endFrequency:n(200,600),startTime:n(0,e*.3)*.5,duration:n(.8,1.5),gainEnvelope:[{time:0,value:0},{time:.1,value:.2},{time:.7,value:.1},{time:1,value:0}]}),i},c=()=>{const i=[];if(Math.random()<.7){const s=["lowpass","highpass","bandpass"];i.push({type:"filter",params:{type:l(s),frequency:n(500,5e3),Q:n(.5,3)}})}return Math.random()<.6&&i.push({type:"reverb",params:{duration:n(.5,2.5),decayRate:n(.1,.4)}}),i};return{name:"随机曲谱",type:"composite",masterVolume:n(.7,1),elements:a(),effects:c()}}const Pe=(e=8)=>{const o=q0(e);return G(o),o},N0=$o({breaks:!0,linkify:!0});function z0(e){return N0.render(e.trim())}const O0=j({name:"MemoBoard",setup(){const{t:e}=Ae(),o=()=>e("AITrainingSystem.MemoBoard.memoBoard.memoBoardContent");return()=>r("div",{class:"stack-v"},[r("div",{class:"markdown-body",innerHTML:z0(o())}),r("div",{class:"stack-h hidden!"},[r(D,{label:"播放叮咚声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Po}),r(D,{label:"播放咕嘟声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Ge}),r(D,{label:"播放咔哒声",icon:"pi pi-play",class:"mr-0.5rem",onClick:qo}),r(D,{label:"播放坠落声",icon:"pi pi-play",class:"mr-0.5rem",onClick:No}),r(D,{label:"播放报错声",icon:"pi pi-play",class:"mr-0.5rem",onClick:se}),r(D,{label:"播放哐当声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Eo}),r(D,{label:"播放猫叫声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Oo}),r(D,{label:"播放男人说话声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Ao}),r(D,{label:"播放女人说话声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Fo})]),r("div",{class:"stack-h hidden!"},[r(D,{label:"播放喇叭式胜利音效",icon:"pi pi-play",class:"mr-0.5rem",onClick:zo}),r(D,{label:"播放随机曲谱",icon:"pi pi-play",class:"mr-0.5rem",onClick:()=>{Pe(16)}}),r(D,{label:"播放随机曲谱64",icon:"pi pi-play",class:"mr-0.5rem",onClick:()=>{Pe(64)}})])])}}),po=j({name:"AccuracyPanel",props:{state:{type:Object,required:!1}},setup(e){const o=H(()=>{var f;if(!((f=e.state)!=null&&f.quStateDict))return{total:0,correct:0,incorrect:0,rate:0};const a=Object.values(e.state.quStateDict),c=a.length,i=a.filter(g=>(g.trainedCountT||0)>0&&(g.correctCountT||0)>(g.trainedCountT||0)-(g.correctCountT||0)).length,s=c-i,d=c>0?i/c*100:0;return{total:c,correct:i,incorrect:s,rate:d}}),t=H(()=>{var g;if(!((g=e.state)!=null&&g.quStateDict))return{total:0,correct:0,incorrect:0,rate:0};const a=Object.values(e.state.quStateDict),i=a.filter(u=>(u.trainedCountV||0)>0).length,s=a.filter(u=>(u.trainedCountV||0)>0&&(u.correctCountV||0)>(u.trainedCountV||0)-(u.correctCountV||0)).length,d=i-s,f=i>0?s/i*100:0;return{total:i,correct:s,incorrect:d,rate:f}}),l=H(()=>{var u;if(!((u=e.state)!=null&&u.quStateDict))return{total:0,simpleV:0,simpleT:0,skipV:0,skipT:0,active:0};const a=Object.values(e.state.quStateDict),c=a.length,i=a.filter(p=>p.isSimpleV).length,s=a.filter(p=>p.isSimpleT).length,d=a.filter(p=>p.isSkipV).length,f=a.filter(p=>p.isSkipT).length,g=a.filter(p=>!p.isSimpleV&&!p.isSimpleT&&!p.isSkipV&&!p.isSkipT).length;return{total:c,simpleV:i,simpleT:s,skipV:d,skipT:f,active:g}}),n=(a,c,i="",s="")=>r("div",{class:"flex-1 mb-2 text-center p-2 bg-zinc-200/50 dark:bg-zinc-700/50 rounded-lg",title:s},[r("div",{class:"text-xs text-gray-500 dark:text-gray-400"},a),r("div",{class:"text-xl font-bold"},`${c}${i}`)]);return()=>r(F,{header:"做题统计数据",toggleable:!0,class:["bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"space-y-4"},[r("div",{class:"mb-2"},[r("h3",{class:"text-md font-medium mb-2"},"总体统计"),r("div",{class:"flex gap-2"},[n("题目总数",o.value.total,"题","题库中的题目总数"),n("最新正确",o.value.correct,"题","按最新答题结果计算的正确题目数"),n("正确率",o.value.rate.toFixed(1),"%","按最新答题结果计算的正确率")])]),r(De),r("div",{class:"mb-2"},[r("h3",{class:"text-md font-medium mb-2"},"当前版本统计"),r("div",{class:"flex gap-2"},[n("做过题目",t.value.total,"题","当前笔记版本下做过的题目数"),n("最新正确",t.value.correct,"题","按最新答题结果计算的版本正确题目数"),n("版本正确率",t.value.rate.toFixed(1),"%","按最新答题结果计算的版本正确率")])]),r(De),r("div",{class:"mb-2"},[r("h3",{class:"text-md font-medium mb-2"},"题目状态"),r("div",{class:"flex flex-wrap gap-2"},[n("总题数",l.value.total,"题","题库中的总题目数量"),n("活跃题",l.value.active,"题","未被标记为简单或跳过的活跃题目数量"),n("版本简单题",l.value.simpleV,"题","当前版本中被标记为简单的题目数量"),n("总体简单题",l.value.simpleT,"题","整个训练过程中被标记为简单的题目数量"),n("版本跳过题",l.value.skipV,"题","当前版本中被标记为跳过的题目数量"),n("总体跳过题",l.value.skipT,"题","整个训练过程中被标记为跳过的题目数量")])])])})}}),A0=j({name:"NotebookEditor",props:{notebook:{type:Object,required:!1},version:{type:String,required:!1,default:""}},emits:["update:notebook","save"],setup(e,{emit:o}){const t=me(),l=P(""),n=P(!1),a=P(!1),c=P(-1),i=P(""),s=P("");fe(()=>e.notebook,k=>{k?l.value=d(k):l.value=""},{immediate:!0});const d=k=>{try{return JSON.stringify(k,null,2)}catch(y){return console.error("Error formatting JSON:",y),JSON.stringify(k)}},f=()=>{e.notebook?(l.value=d(e.notebook),n.value=!0):t.add({severity:"error",summary:"无法编辑",detail:"没有有效的笔记数据",life:3e3})},g=()=>{try{const k=JSON.parse(l.value);if(!Array.isArray(k.entries))throw new Error("笔记格式无效，必须包含entries数组");o("update:notebook",k),n.value=!1,t.add({severity:"success",summary:"保存成功",detail:"笔记已更新",life:2e3})}catch(k){t.add({severity:"error",summary:"保存失败",detail:`JSON解析错误: ${k instanceof Error?k.message:"未知错误"}`,life:5e3})}},u=()=>{a.value=!0},p=()=>{n.value=!1,a.value=!1,e.notebook&&(l.value=d(e.notebook)),c.value=-1,t.add({severity:"info",summary:"已取消",detail:"取消编辑笔记",life:2e3})},x=k=>{if(e.notebook&&e.notebook.entries&&e.notebook.entries[k]){const y=e.notebook.entries[k];c.value=k,i.value=y.name,s.value=d(y)}},C=()=>{try{const k=JSON.parse(s.value);if(!k.name)throw new Error("条目名称是必需的");if(e.notebook&&e.notebook.entries){const y=q.cloneDeep(e.notebook);y.entries[c.value]=k,o("update:notebook",y),c.value=-1,t.add({severity:"success",summary:"保存成功",detail:`条目 "${k.name}" 已更新`,life:2e3})}}catch(k){t.add({severity:"error",summary:"保存失败",detail:`JSON解析错误: ${k instanceof Error?k.message:"未知错误"}`,life:5e3})}},S=()=>{c.value=-1,i.value="",s.value=""},m=()=>{o("save"),t.add({severity:"success",summary:"保存版本",detail:"笔记版本已保存",life:2e3})},v=()=>{if(e.notebook){const k=q.cloneDeep(e.notebook),y={name:`新条目_${Date.now()}`,desc:"",steps:[],tips:[],tools:[],datums:[]};k.entries.push(y),o("update:notebook",k),t.add({severity:"success",summary:"添加成功",detail:"已添加新条目",life:2e3})}},w=k=>{if(e.notebook&&e.notebook.entries){const y=q.cloneDeep(e.notebook),I=y.entries[k].name;y.entries.splice(k,1),o("update:notebook",y),t.add({severity:"info",summary:"删除成功",detail:`已删除条目 "${I}"`,life:2e3})}},$=k=>{if(e.notebook&&e.notebook.entries){const y=q.cloneDeep(e.notebook),I=y.entries[k].name;y.entries[k].deleted=!0,o("update:notebook",y),t.add({severity:"info",summary:"标记成功",detail:`已将条目 "${I}" 标记为已删除`,life:2e3})}},R=k=>{if(e.notebook&&e.notebook.entries){const y=q.cloneDeep(e.notebook),I=y.entries[k].name;y.entries[k].deleted=!1,o("update:notebook",y),t.add({severity:"success",summary:"恢复成功",detail:`已恢复条目 "${I}"`,life:2e3})}};return()=>r(F,{toggleable:!0,collapsed:!0},{header:()=>r("div",{class:"stack-h items-center"},[r("div",{class:"font-bold"},["笔记编辑器"]),r("span",{class:"text-sm text-gray-500 ml-2"},[e.version?`(版本: ${e.version})`:""])]),default:()=>{var k;return r("div",{class:[]},[r("div",{class:"mb-4 flex justify-between"},[r("div",{class:"flex gap-2"},[r(D,{label:"整体编辑",icon:"pi pi-pencil",onClick:f}),r(D,{label:"添加条目",icon:"pi pi-plus",onClick:v}),r(D,{label:"保存版本",icon:"pi pi-save",onClick:m})])]),n.value&&r("div",{class:"mb-4"},[r("div",{class:"font-bold mb-2"},["编辑整个笔记 (JSON 格式)"]),r(K,{modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,class:"w-full font-mono min-h-16rem max-h-90vh"}),r("div",{class:"mt-2 flex gap-2"},[r(V,{label:"保存",icon:"pi pi-check",onClick:g}),r(V,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:u})])]),c.value>=0&&r("div",{class:"mb-4"},[r("div",{class:"font-bold mb-2"},[`编辑条目: ${i.value}`]),r(K,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:"w-full font-mono min-h-16rem max-h-90vh"}),r("div",{class:"mt-2 flex gap-2"},[r(V,{label:"保存",icon:"pi pi-check",onClick:C}),r(V,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:S})])]),!n.value&&c.value<0&&((k=e.notebook)==null?void 0:k.entries)&&r("div",{class:"mt-4"},[r("div",{class:"font-bold mb-2"},["笔记条目列表"]),...e.notebook.entries.map((y,I)=>({entry:y,index:I})).sort((y,I)=>!!y.entry.deleted!=!!I.entry.deleted?y.entry.deleted?1:-1:y.index-I.index).map(({entry:y,index:I})=>r("div",{key:`entry-${I}`,class:`p-3 border-b flex justify-between items-center hover:bg-gray-50 
                            ${y.deleted?"bg-red-50 dark:bg-red-900/10":""}`},[r("div",{class:"flex-1 flex items-center"},[y.deleted&&r("div",{class:"mr-2 flex items-center justify-center w-6 h-6 rounded-full bg-red-500/20 text-red-600"},[r("i",{class:"pi pi-trash text-xs"})]),r("div",{class:"flex-1"},[r("span",{class:`font-bold ${y.deleted?"line-through text-red-600 dark:text-red-400":""}`},[`${y.name}`]),y.desc&&r("span",{class:`ml-2 text-gray-500 ${y.deleted?"line-through":""}`},[` - ${y.desc}`])])]),r("div",{class:"flex gap-2"},[y.deleted?[r(D,{icon:"pi pi-refresh",tip:"恢复此条目",class:"p-button-success",onClick:()=>R(I)}),r(D,{icon:"pi pi-trash",tip:"永久删除此条目",class:"p-button-danger",onClick:()=>w(I)})]:[r(D,{icon:"pi pi-pencil",tip:"编辑此条目",onClick:()=>x(I)}),r(D,{icon:"pi pi-ban",tip:"标记为已删除",class:"p-button-warning",onClick:()=>$(I)})]])]))]),r(pe,{header:"确认取消",visible:a.value,"onUpdate:visible":y=>a.value=y,modal:!0,style:{width:"30rem"},class:"p-fluid"},{default:()=>r("div",{},[r("p",{},["您确定要取消编辑吗？所有未保存的更改都将丢失。"])]),footer:()=>r("div",{class:"flex justify-end gap-2"},[r(V,{label:"是的，取消编辑",icon:"pi pi-check",onClick:p,autofocus:!0}),r(V,{label:"返回编辑",icon:"pi pi-times",class:"p-button-secondary",onClick:()=>a.value=!1})])})])}})}}),Je=j({name:"FileUploadDialog",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"上传文件"},acceptedFileTypes:{type:String,default:"application/json"}},emits:["update:visible","fileUploaded"],setup(e,{emit:o}){const t=me(),l=P(!1),n=P(null),a=u=>{const p=u.target;p.files&&p.files.length>0&&f(p.files[0])},c=u=>{u.preventDefault(),u.stopPropagation(),l.value=!0},i=u=>{u.preventDefault(),u.stopPropagation(),l.value=!0},s=u=>{u.preventDefault(),u.stopPropagation(),l.value=!1},d=u=>{var p;u.preventDefault(),u.stopPropagation(),l.value=!1,(p=u.dataTransfer)!=null&&p.files&&u.dataTransfer.files.length>0&&f(u.dataTransfer.files[0])},f=u=>{const p=new FileReader;p.onload=x=>{var C;try{o("fileUploaded",{name:u.name,content:(C=x.target)==null?void 0:C.result,file:u}),o("update:visible",!1),t.add({severity:"success",summary:"文件上传成功",detail:`已成功上传文件 ${u.name}`,life:3e3})}catch(S){t.add({severity:"error",summary:"文件处理错误",detail:S.message||"无法处理上传的文件",life:3e3})}},p.onerror=()=>{t.add({severity:"error",summary:"读取文件错误",detail:"无法读取上传的文件",life:3e3})},p.readAsText(u)},g=()=>{var u;(u=n.value)==null||u.click()};return()=>r(pe,{visible:e.visible,header:e.title,modal:!0,"onUpdate:visible":u=>o("update:visible",u),style:{width:"30rem"},class:"p-fluid"},{default:()=>[r("input",{ref:n,type:"file",accept:e.acceptedFileTypes,style:{display:"none"},onChange:a}),r("div",{class:["border-2 border-dashed rounded-lg p-6 mb-4 text-center cursor-pointer transition-all",l.value?"border-primary bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700"],onDragenter:c,onDragover:i,onDragleave:s,onDrop:d,onClick:g},[r("i",{class:["pi pi-upload text-4xl mb-3",l.value?"text-primary":"text-gray-500"]}),r("h3",{class:"font-medium mb-2"},"拖拽文件到此处或点击上传"),r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-0"},`支持的文件类型: ${e.acceptedFileTypes==="application/json"?"JSON":e.acceptedFileTypes}`)]),r("div",{class:"flex justify-end gap-2"},[r(V,{label:"选择文件",icon:"pi pi-folder-open",onClick:g}),r(V,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:()=>o("update:visible",!1)})])]})}}),F0=(e,o)=>(o==null||o(e),e),ce="相对认真（v1.7.3）",Se="【【【笔记介绍】】】",$e="【【【笔记操作介绍】】】",Uo=Se,_o=$e;function Ee(e,o,t,l,n){let a=e;const c=l||Se,i=n||$e;return o&&(a=a.replace(new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),o)),t&&(a=a.replace(new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),t)),a}const de=`
你的笔记以 JSON 格式记录和呈现，遵循名为 \`QTBook\` 的接口定义：
\`\`\`TypeScript
interface QTBook { entries: QTEntry[]; }
interface QTEntry {
  name: string;
  // 题型名称，记录你对这个题型的命名。

  desc: string;
  // 题型描述，记录你对这个题型的描述。包括答题目标、答案的格式等。

  clue: string;
  // 题型识别线索，记录你将如何把一道题目识别为这个题型，也包括如何排除其他题型。
  // 注意不要仅考虑题面表述，还要考虑实际做题步骤和关注点的差异。

  steps: string[];
  // 解题步骤，记录你解题的步骤，越靠前的越优先处理；这是笔记中最关键的部分；
  // 这些步骤是js函数形式的伪代码，并且你可以假设环境中具有一些你需要的工具函数（tool functions），它们被记录在tools字段中；
  // 这些步骤本身应该具有通用性，而不应该仅适用于非常特例化的情形。
  // 特例化的信息可以通过查询知识库（KDB）的方式来实现，你应该假设以往的知识库查询结果会被记录在笔记的datums字段中；
  // 更具体来说：
  // - steps应该用**js箭头函数**形式的**伪代码**来写，以便理清其中的逻辑关系。
  //   - 这些步骤函数之间通过一个名为\`vars\`的字典对象传递数据，
  //     每个函数都应该是对\`vars\`字典对象的一个操作，函数的输入和输出都是\`vars\`字典对象。
  //   - 对于判断、取值、查询、验证等类型的步骤，你应该假设自己能够查询到一个知识库（KDB），并且能够从中获取到你需要的信息。
  //     但这些信息应该放在\`datums\`中，而不是放在\`steps\`中。
  // - 如果你在答题时使用了\`KDB\`，那么你应该在\`datums\`中以json对象的形式记录下你所查询的内容（query），以及你从中获取到的信息。
  // 对于非常特例化的情形，可以通过datums来记录，而不是通过steps来记录。

  tools: ToolFunc[];
  // 工具函数，记录你在解题时所用到的工具函数，这些函数应该具有通用性，而不应该仅适用于非常特例化的情形。

  datums: KDBDatum[];
  // 数据记录，记录你在查询知识库时所查找到的具体数据，这些数据应该满足：
  // ①与具体题目无关，
  // ②足够具体，能够帮助你在解题时进行推理，
  // ③可以被复用到其他题目中。

  tips: string[];
  // 重要提示，记录你认为在解这类题时尤为需要注意的事项，越靠前的越重要。
  // tips应该用**自然语言**来写，以便让人更容易理解，并且应该具有泛化性。
  // 注意：tips应该相对普适和通用，而特例化的内容应该以datums的形式记录。
  // tips的数量最多不应该超过10条。如果你觉得10条都不够用，那么你应该考虑将当前题型拆分成多个更加细分的题型。

}
interface ToolFunc {
  idx: number;  // 数据的索引，唯一标识
  name: string;  // 工具函数的名称
  desc: string;  // 工具函数的描述
  args: ToolFuncArg[];  // 工具函数的参数列表
}
interface ToolFuncArg {
  name: string;  // 工具函数参数的名称
  desc: string;  // 工具函数参数的描述
}
interface KDBDatum {
  idx: number;  // 数据的索引，唯一标识
  query: string;  // 查询的内容
  input: {[key: string]: any;};  // 查询的输入
  output: {[key: string]: any;};  // 查询的输出
  [key: string]: any;  // 其他任何与查询有关的信息
}
\`\`\`

`.trim(),ue=`
你可以对笔记进行以下操作：
- \`CREATE_QT(qt:QTEntry)\`：
  - 新增一种题型，并记录name, desc, clue, steps, datums和tips等信息。
- \`MODIFY_QT(name:string, newQt:QTEntry)\`：
  - 将名为name的题型整个重写，修改为新的name, desc, clue, steps和tips等信息。
- \`MODIFY_QT_KV(name:string, key:(keyof QTEntry), value:any)\`：
  - 将名为name的题型的某个字段修改为指定的值，尤其适用于修改 name, desc, clue 等简单字段。
  - 如果需要对steps和tips进行大幅度的修改，比如重新排序，也可以用这种方式直接整个重写，但通常你应该用下面的专用操作来处理steps和tips。

- \`APPEND_STEP(name:string, step:string)\`：在名为name的题型的steps最后追加一个新的步骤。
- \`REMOVE_STEP(name:string, step:string)\`：在名为name的题型的steps中删除一个步骤。
- \`MODIFY_STEP(name:string, oldStep:string, newStep:string)\`：在名为name的题型的steps中，将oldStep修改为newStep。

- \`APPEND_TIP(name:string, tip:string)\`：在名为name的题型的tips最后追加一条新的提示信息。
- \`REMOVE_TIP(name:string, tip:string)\`：在名为name的题型的tips中删除一条提示信息。
- \`MODIFY_TIP(name:string, oldTip:string, newTip:string)\`：在名为name的题型的tips中，将oldTip修改为newTip。

- \`INSERT_STEP_AFTER(name:string, refStep:string, newStep:string)\`：在名为name的题型的steps中，找到refStep步骤，在其之后插入一个新的步骤newStep。
- \`INSERT_STEP_BEFORE(name:string, refStep:string, newStep:string)\`：在名为name的题型的steps中，找到refStep步骤，在其之前插入一个新的步骤newStep。

- \`APPEND_TOOL(name:string, tool:ToolFunc)\`：在名为name的题型的tools最后追加一个tool。
- \`MODIFY_TOOL(name:string, idx:number, newTool:ToolFunc)\`：名为name的题型的tools中，将索引为idx的tool修改为新的tool。
- \`DELETE_TOOL(name:string, idx:number)\`：名为name的题型的tools中，删除索引为idx的tool。

- \`APPEND_DATUM(name:string, datum:KDBDatum)\`：在名为name的题型的datums最后追加一个datum。
- \`MODIFY_DATUM(name:string, idx:number, newDatum:KDBDatum)\`：名为name的题型的datums中，将索引为idx的datum修改为新的datum。
- \`DELETE_DATUM(name:string, idx:number)\`：名为name的题型的datums中，删除索引为idx的datum。

- \`DELETE_QT(name:string)\`：删除名为name的题型。
  - 通常只有当你需要大幅度修改某个题型，或者希望对某些题型做拆分或合并的时候才会使用。
  - 这是非常危险的操作，请谨慎考虑。

【特别提醒】
如果你发觉现有的解题步骤和提示与当前题目有较大出入，希望做很多修改，
那么你应该考虑创建一种新的题型，而不是对原有题型的笔记做大幅度修改。
**因为很多题型看似相似，实际上却有很大不同。**
在你意识到这种情况时，你还应该修改原本题型的名称、描述和线索等信息，以便更好地反映出它们之间的差异。
`.trim();function U0(e){const o=e.operations??[];e.qtBook.entries==null&&(e.qtBook.entries=[]);const t=e.qtBook,l=a=>{a.datums==null&&(a.datums=[]),a.datums.forEach(c=>{c.idx=void 0}),a.datums=q.uniqBy(a.datums,c=>JSON.stringify(c)),a.datums.forEach((c,i)=>{c.idx=i})},n=a=>{a.tools==null&&(a.tools=[]),a.tools.forEach(c=>{c.idx=void 0}),a.tools=q.uniqBy(a.tools,c=>JSON.stringify(c)),a.tools.forEach((c,i)=>{c.idx=i})};e.qtBook=F0(t,a=>{var c;for(const i of o)if(console.log(i.method),i.method!=="PASS"){if(i.method==="DELETE_QT"){const s=((a==null?void 0:a.entries)??[]).findIndex(d=>d.name===i.args.name);s&&(a.entries[s].deleted=!0)}else if(i.method==="CREATE_QT")a.entries.push(((c=i.args)==null?void 0:c.qt)??i.args),a.entries=q.uniqBy(a.entries,s=>JSON.stringify(s));else if(i.method==="MODIFY_QT"){const s=((a==null?void 0:a.entries)??[]).findIndex(d=>d.name===i.args.name);s&&(a.entries[s]=i.args.newQt)}else if(i.method==="MODIFY_QT_KV"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s[i.args.key]=i.args.value,q.isArray(s[i.args.key])&&(s[i.args.key]=q.uniq(s[i.args.key])))}else if(i.method==="APPEND_TOOL"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.tools==null&&(s.tools=[]),s.tools.push(i.args.tool),n(s))}else if(i.method==="MODIFY_TOOL"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.tools==null&&(s.tools=[]);const d=s.tools.findIndex(f=>f.idx===i.args.idx);d>=0&&(s.tools[d]=i.args.newTool,s.tools[d].idx=i.args.idx),n(s)}}else if(i.method==="DELETE_TOOL"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.tools==null&&(s.tools=[]),s.tools=s.tools.filter(d=>d.idx!==i.args.idx),n(s))}else if(i.method==="APPEND_DATUM"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.datums==null&&(s.datums=[]),s.datums.push(i.args.datum),l(s))}else if(i.method==="MODIFY_DATUM"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.datums==null&&(s.datums=[]);const d=s.datums.findIndex(f=>f.idx===i.args.idx);d>=0&&(s.datums[d]=i.args.newDatum,s.datums[d].idx=i.args.idx),l(s)}}else if(i.method==="DELETE_DATUM"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.datums==null&&(s.datums=[]),s.datums=s.datums.filter(d=>d.idx!==i.args.idx),l(s))}else if(i.method==="APPEND_TIP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.tips==null&&(s.tips=[]),s.tips.push(i.args.tip),s.tips=q.uniq(s.tips))}else if(i.method==="MODIFY_TIP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.tips==null&&(s.tips=[]);const d=s.tips.findIndex(f=>f===i.args.oldTip);d>=0&&(s.tips[d]=i.args.newTip)}}else if(i.method==="REMOVE_TIP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.tips==null&&(s.tips=[]),s.tips=s.tips.filter(d=>d!==i.args.tip))}else if(i.method==="APPEND_STEP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.steps==null&&(s.steps=[]),s.steps.push(i.args.step),s.steps=q.uniq(s.steps))}else if(i.method==="MODIFY_STEP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(f=>f===i.args.oldStep);d>=0&&(s.steps[d]=i.args.newStep)}}else if(i.method==="REMOVE_STEP"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);s&&(s.steps==null&&(s.steps=[]),s.steps=s.steps.filter(d=>d!==i.args.step))}else if(i.method==="INSERT_STEP_AFTER"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(f=>f===i.args.refStep);d>=0&&(s.steps.splice(d+1,0,i.args.newStep),s.steps=q.uniq(s.steps))}}else if(i.method==="INSERT_STEP_BEFORE"){const s=((a==null?void 0:a.entries)??[]).find(d=>d.name===i.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(f=>f===i.args.refStep);d>=0&&(s.steps.splice(d,0,i.args.newStep),s.steps=q.uniq(s.steps))}}}})}const qe=`
### 任务描述
判断当前题目是否属于现有题型中的某个题型（但不用做题）。

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的题型体系和要判断的题目数据。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  analyze: string;  // 你的初步分析。
  matched: boolean;  // 是否找到匹配的题型
  name?: string|null|undefined;  // 匹配的题型名称
}
\`\`\`
`.trim();function _0(e){var n,a;const o=[];o.push("====[题型体系]====");const l=q.clone((((n=e==null?void 0:e.qtBook)==null?void 0:n.entries)??[]).filter(c=>!c.deleted)).filter(c=>!c.deleted).map(c=>q.pick(c,["name","desc","clue"]));return o.push(JSON.stringify(l)),o.push("====[题目]===="),(e==null?void 0:e.question)==null?o.push("无内容"):o.push(JSON.stringify(((a=e.question)==null?void 0:a.content)??"无内容")),o.push("====[请按要求回应]===="),o.join(`
`)}async function M0(e,o,t,l){return await Fe(l||qe,_0,e,o,null,t)}const Ne=`
### 任务描述
你需要结合现有的笔记，完成题目，并按要求回复。
- 你应该遵循笔记中的步骤描述（steps）来完成题目，这些步骤是伪代码，而你可以选择使用自然语言、结合题目内容来阐述这些步骤。
- 你可以假定存在笔记中定义的工具函数（tools），通过扮演和模拟来使用它们。
- 你需要检查笔记中的数据记录（datums），看看是否用得上。
- 你要注意笔记中提到的提示（tips），并在答题时遵循它们。
- 笔记不一定完全可靠，你需要灵活变通。
- 如果没有匹配的题型，或者笔记不够清晰，则需要自己思考，建立答题思路。

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的笔记和要完成的题目。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  plan: string;  // 你的初步计划，描述你打算如何完成这个题目。简要描述即可。
  usefulDatums?: string[]; // 如果笔记中有某些datum对完成这个题目有帮助，你可以在这里用自然语言描述。
  analyzes: string[];  // 详细的解题过程，应该遵循笔记中的步骤，需要结合题目具体内容详细具体地阐述。
  answer: string;  // 你的最终答案，通常是一个字符串。
  didFollow: boolean;  // 是否遵循了笔记的思路。
  reflection?: string;  // 【非必要】你对这个题目的反思，描述你在完成这个题目时的思考过程和收获。
  noteAdvice?: string;  // 【非必要】你对笔记的建议，描述你认为笔记中哪些地方需要改进。
}
\`\`\`
`.trim();function V0(e){var l,n,a,c,i;const o=q.clone((e==null?void 0:e.note)??{});(l=o==null?void 0:o.steps)!=null&&l.length&&(o.stepsNum=o.steps.length),(n=o==null?void 0:o.tools)!=null&&n.length&&(o.toolsNum=o.tools.length),(a=o==null?void 0:o.datums)!=null&&a.length&&(o.datumsNum=o.datums.length),(c=o==null?void 0:o.tips)!=null&&c.length&&(o.tipsNum=o.tips.length);const t=[];return t.push("====[笔记]===="),t.push(JSON.stringify(o)),t.push("====[题目]===="),(e==null?void 0:e.question)==null?t.push("无内容"):t.push(JSON.stringify(((i=e.question)==null?void 0:i.content)??"无内容")),t.push("====[请按要求回应]===="),t.join(`
`)}async function L0(e,o,t,l){return await Fe(l||Ne,V0,e,o,null,t)}const ze=`
### 任务描述
总任务：根据错题和正确答案，作充分的分析，并规划笔记的修改方案。按要求回复。
如果要修改笔记，你需要使用特定的笔记操作算子（见下文）来完成修改，并以JSON对象的形式嵌入在你的回应中。
笔记修改的重点应该是对题型的区分，以及围绕解题步骤的完善。

### 关于笔记
${Uo}

### 笔记操作
${_o}

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供题目、正确答案（可能带有解释说明）、错误答案和现有的笔记。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  glance: string;  // 简要描述你对错误情况的第一印象。
  format_analyze: string;  // 检查正确答案和错误答案，评估是否仅是由于格式问题导致的错误。如果存在这种错误，则应该完善题型的name、desc或clue（判别依据）。
  analyze0: string;  // 详细讨论为什么现有的笔记不足以解决这个题目。针对steps, tools, datums和tips逐个进行分析。
  analyze1: string;  // 你认为目前笔记的总体思路是否出现重大偏颇，导致需要大幅度修改。
  analyze2: string;  // 仔细分析对于当前题目，是不是创建一个新的题型来处理会更加合适。尤其要注意如果题目的情形只属于笔记中的一种非常细分的情形，则建议创建一个新的题型。
  analyze3: string;  // 你是否发觉到目前的笔记中有某些内容是错误的，或者是需要修改的。

  analyze4: string;  // 你是否觉得出题人的思维方式比较古怪，甚至有无可能是出题人搞错了。
  analyze5: string;  // 你觉得题目的表述是否不够清楚或存在歧义，导致引人误解（有的话需要制定对策）。
  analyze6: string;  // 你觉得各题型的steps对于解决该类题型的问题是否具有通用性。
  analyze7: string;  // 你觉得目前的tools配置是否合理和充分。
  analyze8: string;  // 你觉得目前的datums中是否存在不够清晰、过于武断或存在错误等情形。
  analyze9: string;  // 你觉得目前的tips中是否存在过于特例化或武断的内容（特例内容应放到datums中）。

  analyze10: string;  // 目前笔记是否存在 stepsNum>10||toolsNum>10||datumsNum>10||tipsNum>10 的情况（若存在，则需要考虑拆分成多个题型）。
  analyze11: string;  // 你觉得不同题型之间是否具有足够的差异性，它们的name、desc或clue（判别依据）是否足够清楚。

  analyze12: string;  // 你认为目前的笔记是否能帮助答题者举一反三。
  analyze13: string;  // 你认为目前的笔记是否存在重复和冗余的内容。
  analyze14: string;  // 你对目前笔记（包括steps、tools、datums、tips）的其他可改进之处（包括增补、除冗、除错等）的概要分析。

  analyze_final: string;  // 你的总结。
  operations?: {
    method: string;  // 如 "CREATE_QT" 等，是你计划对笔记执行的操作。
    args: {[key: string]: any};  // 你计划对笔记执行的操作的参数，参见 笔记操作 一节。
  }[];  // 你计划对笔记执行的若干操作。如果你认为没必要修改，则可以不返回这个字段。
}
\`\`\`
`.trim();function j0(e){var l;const o=q.clone((((l=e==null?void 0:e.qtBook)==null?void 0:l.entries)??[]).filter(n=>!n.deleted));o.forEach(n=>{var a,c,i,s;(a=n==null?void 0:n.steps)!=null&&a.length&&(n.stepsNum=n.steps.length),(c=n==null?void 0:n.tools)!=null&&c.length&&(n.toolsNum=n.tools.length),(i=n==null?void 0:n.datums)!=null&&i.length&&(n.datumsNum=n.datums.length),(s=n==null?void 0:n.tips)!=null&&s.length&&(n.tipsNum=n.tips.length)});const t=[];return t.push("====[笔记]===="),t.push(JSON.stringify({entries:o})),t.push("====[题目、正误答案、解析]===="),t.push((e==null?void 0:e.errorCase)==null?"（无内容）":JSON.stringify((e==null?void 0:e.errorCase)??[])),t.push("====[请按要求回应]===="),t.join(`
`)}async function J0(e,o,t,l,n,a,c,i){const s=Ee(l||ze,n||de,a||ue,c,i);return await Fe(s,j0,e,o,null,t)}const Oe=`
### 任务描述
总任务：结合原始笔记，把不同的笔记修改计划合并且完善成单独一份笔记修改计划。
0、你将看到若干名做题专家对于一份答题笔记的修改计划。专家们的工作是并行的，所以可能存在重复。
1、你要评估来自不同专家的笔记修改计划之间的共性和差异。
2、尤其注意如果有专家要创建新的题型，要看看其他专家是否也想创建类似的题型，但使用了不同的题型名称。
3、你需要把所有专家的修改计划合并成一份新的笔记修改计划，覆盖他们所提到的所有修改，但去除了实际含义有重复的部分。
4、你还要考虑原始笔记的情况，以及不同修改方案和原始笔记之间的叙述风格。
5、如果笔记的格式或风格混乱或不一致，你需要自己额外制定修改计划进行整理。

### 关于笔记
${Uo}

### 笔记操作
${_o}

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的笔记和专家们的修改计划（并行）。

### 完善笔记所应考虑的方面
- 目前笔记的总体思路是否出现重大偏颇，导致需要大幅度修改。
- 目前的笔记中是否有某些内容是错误的，或者是需要修改的。
- 各题型的steps对于解决该类题型的问题是否具有通用性。
- 目前的tools配置是否合理和充分。
- 目前的datums中是否存在不够清晰、过于武断或存在错误等情形。
- 目前的tips中是否存在过于特例化或武断的内容（特例内容应放到datums中）。
- 目前笔记中的tips是否超过10条（若超过，则需要考虑拆分成多个题型）。
- 目前笔记中的steps是否超过10个步骤（若超过，则需要考虑拆分成多个题型）。
- 不同题型之间是否具有足够的差异性，它们的name、desc或clue（判别依据）是否足够清楚。
- 目前的笔记是否能帮助答题者举一反三。
- 目前的笔记是否存在重复和冗余的内容。
- 目前的各个题型的笔记内部风格和格式是否一致。
- 你对目前笔记（包括steps、tools、datums、tips）的其他可改进之处（包括增补、除冗、除错等）的概要分析。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  /** 你对不同专家修改计划的分析和大致的合并思路。 */
  analyze1: string;
  /** 你根据原有笔记内容及风格所做的额外分析及进一步完善的思路 */
  analyze2: string;
  /** 经过你合并和完善之后的修改计划。 */
  operations?: {
    method: string;  // 如 "CREATE_QT" 等，是计划对笔记执行的操作。
    args: {[key: string]: any};  // 计划对笔记执行的操作的参数，参见 笔记操作 一节。
  }[];
}
\`\`\`



`.trim();function Q0(e){var l;const o=q.clone((((l=e==null?void 0:e.qtBook)==null?void 0:l.entries)??[]).filter(n=>!n.deleted));o.forEach(n=>{var a,c,i,s;(a=n==null?void 0:n.steps)!=null&&a.length&&(n.stepsNum=n.steps.length),(c=n==null?void 0:n.tools)!=null&&c.length&&(n.toolsNum=n.tools.length),(i=n==null?void 0:n.datums)!=null&&i.length&&(n.datumsNum=n.datums.length),(s=n==null?void 0:n.tips)!=null&&s.length&&(n.tipsNum=n.tips.length)});const t=[];return t.push("====[笔记]===="),t.push(JSON.stringify((e==null?void 0:e.qtBook)??{entries:o})),t.push("====[并行修改计划]===="),t.push((e==null?void 0:e.opPlans)==null?"（无内容）":JSON.stringify((e==null?void 0:e.opPlans)??[])),t.push("====[请按要求回应]===="),t.join(`
`)}async function H0(e,o,t,l,n,a,c,i){const s=Ee(l||Oe,n||de,a||ue,c,i);return await Fe(s,Q0,e,o,null,t)}const G0=j({name:"PromptTemplatesPanel",props:{savedTemplates:{type:Object,required:!1}},emits:["update:templates","save"],setup(e,{emit:o}){const t=me(),l=X({version:ce,stage0_判断题型:qe||"",stage1_根据笔记做题:Ne||"",stage2_根据错题修改笔记:ze||"",stage4_合并对笔记的修改:Oe||"",笔记介绍:de||"",笔记操作介绍:ue||"",笔记介绍标记:Se,笔记操作介绍标记:$e});ne(()=>{e.savedTemplates&&Object.assign(l,e.savedTemplates)}),fe(()=>e.savedTemplates,i=>{i&&Object.assign(l,i)});const n=()=>{l.version=ce,l.stage0_判断题型=qe,l.stage1_根据笔记做题=Ne,l.stage2_根据错题修改笔记=ze,l.stage4_合并对笔记的修改=Oe,l.笔记介绍=de,l.笔记操作介绍=ue,l.笔记介绍标记=Se,l.笔记操作介绍标记=$e,o("update:templates",q.cloneDeep(l)),t.add({severity:"info",summary:"重置模板",detail:"所有提示词模板已重置为默认值",life:2e3})},a=()=>{o("save",q.cloneDeep(l)),t.add({severity:"success",summary:"保存成功",detail:"提示词模板已保存",life:2e3})},c=(i,s)=>{l[i]=s,o("update:templates",q.cloneDeep(l))};return()=>r("div",{class:"stack-v gap-4"},[r(F,{header:"提示词模板版本",toggleable:!0,class:["w-full my-1.5rem!","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-4"},[r("div",{class:"flex justify-between items-center"},[r("div",{class:"flex items-center gap-2"},[r("span",{class:"font-bold"},"当前版本: "),r(J,{modelValue:l.version,"onUpdate:modelValue":i=>c("version",i),placeholder:"版本标识",class:"w-40"})]),r("div",{class:"stack-h gap-2"},[r(V,{label:"重置为默认值",icon:"pi pi-refresh",severity:"secondary",outlined:!0,onClick:n}),r(V,{label:"保存配置",icon:"pi pi-save",onClick:a})])])])}),r("div",{class:"w-full grid grid-cols-1 lg:grid-cols-2 gap-4"},[r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"笔记介绍",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("div",{class:"flex items-center gap-2 mb-2"},[r("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记介绍标记:"),r(J,{modelValue:l.笔记介绍标记,"onUpdate:modelValue":i=>c("笔记介绍标记",i),placeholder:"替换标记",class:"w-64 font-mono"})]),r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记介绍内容，在模板中可用上面定义的替换标记引用。这是笔记格式的定义说明。"),r(K,{modelValue:l.笔记介绍,"onUpdate:modelValue":i=>c("笔记介绍",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"笔记操作介绍",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("div",{class:"flex items-center gap-2 mb-2"},[r("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记操作介绍标记:"),r(J,{modelValue:l.笔记操作介绍标记,"onUpdate:modelValue":i=>c("笔记操作介绍标记",i),placeholder:"替换标记",class:"w-64 font-mono"})]),r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记操作介绍内容，在模板中可用上面定义的替换标记引用。这是笔记操作方法的说明。"),r(K,{modelValue:l.笔记操作介绍,"onUpdate:modelValue":i=>c("笔记操作介绍",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"判断题型模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于判断当前题目是否属于现有题型中的某个题型。"),r(K,{modelValue:l.stage0_判断题型,"onUpdate:modelValue":i=>c("stage0_判断题型",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"根据笔记做题模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于结合现有笔记完成题目的提示词模板。"),r(K,{modelValue:l.stage1_根据笔记做题,"onUpdate:modelValue":i=>c("stage1_根据笔记做题",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"根据错题修改笔记模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于根据错题和正确答案分析并规划笔记修改的模板。"),r(K,{modelValue:l.stage2_根据错题修改笔记,"onUpdate:modelValue":i=>c("stage2_根据错题修改笔记",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),r("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[r(F,{header:"合并对笔记的修改模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>r("div",{class:"stack-v gap-2"},[r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于合并不同专家对笔记的修改计划的模板。"),r(K,{modelValue:l.stage4_合并对笔记的修改,"onUpdate:modelValue":i=>c("stage4_合并对笔记的修改",i),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})])])])}}),W0=j({name:"QuestionBankConfigPanel",directives:{tooltip:wo},emits:["processedDataImported"],setup(e,{emit:o}){const t=me(),l=P(!1),n=P(!1),a=P(""),c=P("question-bank-config.json"),i=X({nnidConfig:{sourceField:"",prefix:"[NNID]"},fieldMapping:{contentFields:[],explainFields:[],answerField:""},additionalContentFields:[],availableFields:[],originalData:[],processedData:[],previewSamples:{original:[],processed:[]}}),s=()=>{const m=a.value.trim();m?i.availableFields.includes(m)?t.add({severity:"info",summary:"选项已存在",detail:`字段 "${m}" 已经存在。`,life:2e3}):(i.availableFields.push(m),t.add({severity:"success",summary:"选项已添加",detail:`字段 "${m}" 已成功添加。`,life:2e3}),a.value=""):t.add({severity:"warn",summary:"输入无效",detail:"选项名称不能为空。",life:2e3})},d=m=>{try{if(!m.content||typeof m.content!="string"){t.add({severity:"error",summary:"导入失败",detail:"无效的文件内容。",life:3e3});return}let v;if(m.name.endsWith(".jsonl"))v=m.content.split(`
`).filter($=>$.trim()).map($=>JSON.parse($));else if(m.name.endsWith(".json"))v=JSON.parse(m.content);else{t.add({severity:"error",summary:"导入失败",detail:"不支持的文件类型。请使用 JSON 或 JSONL。",life:3e3});return}if(!Array.isArray(v)){const w=Object.keys(v);let $=!1;for(let R=0;R<w.length;R++){const k=w[R];if(Array.isArray(v[k])){v=v[k],$=!0;break}}if(!$||!Array.isArray(v)){t.add({severity:"error",summary:"导入失败",detail:"在 JSON 中找不到有效的数据数组。",life:3e3});return}}if(v.length===0){t.add({severity:"error",summary:"导入失败",detail:"文件中未找到数据。",life:3e3});return}i.originalData=v,i.availableFields=Object.keys(v[0]||{}),i.nnidConfig.sourceField=i.availableFields.includes("id")?"id":i.availableFields[0]||"",i.fieldMapping.contentFields=[],i.fieldMapping.explainFields=[],i.fieldMapping.answerField=i.availableFields.includes("answer")?"answer":i.availableFields[0]||"",f(),t.add({severity:"success",summary:"导入成功",detail:`成功导入 ${v.length} 条记录。`,life:3e3}),l.value=!1}catch(v){console.error("文件导入失败:",v),t.add({severity:"error",summary:"导入失败",detail:v.message||"无法解析文件内容。",life:3e3})}},f=()=>{if(!i.originalData.length){i.processedData=[],i.previewSamples.original=[],i.previewSamples.processed=[];return}const{nnidConfig:m,fieldMapping:v,additionalContentFields:w}=i;i.processedData=i.originalData.map($=>{const R=`${m.prefix}${$[m.sourceField]||"N/A"}`,k={};v.contentFields.forEach(O=>{$[O]!==void 0&&(k[O]=$[O])}),w.forEach(O=>{O.key.trim()&&(k[O.key.trim()]=O.value)});let y;v.explainFields.length>0&&(y={},v.explainFields.forEach(O=>{$[O]!==void 0&&(y[O]=$[O])}));const I=$[v.answerField]!==void 0?$[v.answerField]:null;return{nnid:R,content:k,explain:y,answer:I}}),i.previewSamples.original=i.originalData.slice(0,3),i.previewSamples.processed=i.processedData.slice(0,3)},g=()=>{i.additionalContentFields.push({key:"",value:""})},u=m=>{i.additionalContentFields.splice(m,1),f()},p=()=>{try{const m={nnidConfig:i.nnidConfig,fieldMapping:i.fieldMapping,additionalContentFields:i.additionalContentFields},v=JSON.stringify(m,null,2),w=new Blob([v],{type:"application/json"}),$=URL.createObjectURL(w),R=document.createElement("a");R.href=$;let k=c.value.trim();k||(k="question-bank-config.json"),k.toLowerCase().endsWith(".json")||(k+=".json"),R.download=k,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL($),t.add({severity:"success",summary:"配置已导出",detail:`预处理配置已导出为 ${k}。`,life:3e3})}catch(m){console.error("导出配置失败:",m),t.add({severity:"error",summary:"导出失败",detail:"无法导出配置。",life:3e3})}},x=m=>{var v,w,$;try{if(!m.content||typeof m.content!="string"){t.add({severity:"error",summary:"导入失败",detail:"无效的文件内容。",life:3e3});return}if(!m.name.endsWith(".json")){t.add({severity:"error",summary:"导入失败",detail:"不支持的文件类型。请使用 JSON 文件。",life:3e3});return}const R=JSON.parse(m.content);if(R&&R.nnidConfig&&R.fieldMapping){i.nnidConfig=R.nnidConfig,i.fieldMapping=R.fieldMapping,i.additionalContentFields=R.additionalContentFields||[];const k=new Set;R.nnidConfig.sourceField&&k.add(R.nnidConfig.sourceField),(v=R.fieldMapping.contentFields)==null||v.forEach(y=>k.add(y)),(w=R.fieldMapping.explainFields)==null||w.forEach(y=>k.add(y)),R.fieldMapping.answerField&&k.add(R.fieldMapping.answerField),($=R.additionalContentFields)==null||$.forEach(y=>k.add(y.key)),k.forEach(y=>{y&&!i.availableFields.includes(y)&&i.availableFields.push(y)}),f(),t.add({severity:"success",summary:"配置已导入",detail:"预处理配置已成功导入并应用。",life:3e3})}else t.add({severity:"error",summary:"导入失败",detail:"配置文件结构无效。",life:3e3});n.value=!1}catch(R){console.error("配置文件导入失败:",R),t.add({severity:"error",summary:"导入失败",detail:R.message||"无法解析配置文件内容。",life:3e3})}},C=()=>{if(!i.processedData.length){t.add({severity:"warn",summary:"无数据",detail:"没有可导入的处理数据。",life:3e3});return}o("processedDataImported",q.cloneDeep(i.processedData)),t.add({severity:"success",summary:"数据已加载",detail:`已加载 ${i.processedData.length} 道题。`,life:3e3})};ne(()=>{}),fe(()=>[q.cloneDeep(i.nnidConfig),q.cloneDeep(i.fieldMapping),q.cloneDeep(i.additionalContentFields)],()=>{f()},{deep:!0});const S=H(()=>i.availableFields.map(m=>({label:m,value:m})));return()=>r("div",{class:"stack-v gap-4 my-1.5rem"},[r(F,{header:"题库导入与预处理",toggleable:!0,class:"w-full bg-zinc-100/75! dark:bg-zinc-800/75!"},{default:()=>r("div",{class:"stack-v gap-6"},[r("div",{class:"flex justify-between items-center gap-2"},[r("span",{},"导入题目数据 (JSON 或 JSONL):"),r(V,{label:"上传文件",icon:"pi pi-upload",onClick:()=>l.value=!0})]),...i.originalData.length>0?[r(F,{header:"预处理配置",toggleable:!0,class:"mt-4 w-full"},{default:()=>r("div",{class:"stack-v gap-4 p-fluid"},[r(Te,{legend:"NNID 配置",toggleable:!0},{default:()=>r("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[r("div",{class:"flex flex-col gap-2"},[r("label",{for:"nnidSource"},"NNID 源字段"),r(Ce,{inputId:"nnidSource",options:S.value,modelValue:i.nnidConfig.sourceField,"onUpdate:modelValue":m=>i.nnidConfig.sourceField=m,placeholder:"选择 NNID 源",optionLabel:"label",optionValue:"value",class:"w-full"})]),r("div",{class:"flex flex-col gap-2"},[r("label",{for:"nnidPrefix"},"NNID 前缀"),r(J,{id:"nnidPrefix",modelValue:i.nnidConfig.prefix,"onUpdate:modelValue":m=>i.nnidConfig.prefix=m,placeholder:"输入 NNID 前缀"})])])}),r(Te,{legend:"字段映射",toggleable:!0},{default:()=>r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4"},[r("div",{class:"flex flex-col gap-2"},[r("label",{for:"contentFields"},"内容字段"),r(Ze,{inputId:"contentFields",options:S.value,modelValue:i.fieldMapping.contentFields,"onUpdate:modelValue":m=>i.fieldMapping.contentFields=m,placeholder:"选择内容字段",optionLabel:"label",optionValue:"value",display:"chip",class:"w-full"})]),r("div",{class:"flex flex-col gap-2"},[r("label",{for:"explainFields"},"解释字段 (可选)"),r(Ze,{inputId:"explainFields",options:S.value,modelValue:i.fieldMapping.explainFields,"onUpdate:modelValue":m=>i.fieldMapping.explainFields=m,placeholder:"选择解释字段",optionLabel:"label",optionValue:"value",display:"chip",class:"w-full"})]),r("div",{class:"flex flex-col gap-2"},[r("label",{for:"answerField"},"答案字段"),r(Ce,{inputId:"answerField",options:S.value,modelValue:i.fieldMapping.answerField,"onUpdate:modelValue":m=>i.fieldMapping.answerField=m,placeholder:"选择答案字段",optionLabel:"label",optionValue:"value",class:"w-full"})]),r("div",{class:"flex flex-col gap-2"},[r("label",{for:"answerField"},"手动添加字段选项（如果字段未出现在选项中）"),r("div",{class:"flex gap-2 mt-2 items-center"},[r(J,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,placeholder:"输入新选项名称",class:"flex-grow p-inputtext-sm",onKeydown:m=>{m.key==="Enter"&&(m.preventDefault(),s())}}),r(V,{icon:"pi pi-plus",size:"small",class:"p-button-sm",onClick:s,disabled:!a.value.trim(),ariaLabel:"添加新选项"})])])])}),r(Te,{legend:"附加额外键值对（到content字段中）",toggleable:!0},{default:()=>r("div",{class:"stack-v gap-3"},[...i.additionalContentFields.map((m,v)=>r("div",{key:v,class:"grid grid-cols-[1fr_1fr_auto] gap-2 items-center"},[r(J,{placeholder:"键",modelValue:m.key,"onUpdate:modelValue":w=>m.key=w}),r(J,{placeholder:"值",modelValue:m.value,"onUpdate:modelValue":w=>m.value=w}),r(V,{icon:"pi pi-times",severity:"danger",text:!0,rounded:!0,onClick:()=>u(v)})])),r(V,{label:"新增",icon:"pi pi-plus",outlined:!0,size:"small",onClick:g,class:"self-start"})])}),r("div",{class:"flex flex-col gap-2 mt-4"},[r("label",{for:"exportFilename"},"导出配置文件名"),r(J,{id:"exportFilename",modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,placeholder:"例如: my-config.json"})]),r("div",{class:"flex gap-2 mt-4"},[r(V,{label:"导入配置",icon:"pi pi-folder-open",class:"flex-1",outlined:!0,onClick:()=>n.value=!0}),r(V,{label:"导出配置",icon:"pi pi-download",class:"flex-1",onClick:p})])])}),i.previewSamples.original.length>0?r(F,{header:`数据预览 (显示 ${i.previewSamples.original.length} 条样本)`,toggleable:!0,class:"mt-4"},{default:()=>r("div",{class:"stack-v gap-4"},[...i.previewSamples.original.map((m,v)=>r(Te,{key:v,legend:`样本 ${v+1}`,toggleable:!0,collapsed:!1},{default:()=>r("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[r("div",{},[r("h4",{class:"font-semibold mb-2"},"原始数据:"),r("pre",{class:"bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs overflow-auto max-h-60"},JSON.stringify(m,null,2))]),r("div",{},[r("h4",{class:"font-semibold mb-2"},"处理后数据:"),r("pre",{class:"bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs overflow-auto max-h-60"},JSON.stringify(i.previewSamples.processed[v]||{},null,2))])])}))])}):null].filter(Boolean):[r("div",{class:"text-center text-gray-500 dark:text-gray-400 py-4"},"请上传文件以配置预处理并查看预览。")],i.processedData.length>0?r(V,{label:`加载 ${i.processedData.length} 道试题`,icon:"pi pi-upload",severity:"success",class:"mt-6 w-full md:w-auto self-end",onClick:C}):null])}),r(Je,{title:"导入题目文件",visible:l.value,acceptedFileTypes:".json,.jsonl,application/json",onFileUploaded:d,"onUpdate:visible":m=>{l.value=m}}),r(Je,{title:"导入配置文件",visible:n.value,acceptedFileTypes:".json,application/json",onFileUploaded:x,"onUpdate:visible":m=>{n.value=m}})])}}),Mo={name:"api.suanli.cn",desc:"免费算力",baseUrl:"https://api.suanli.cn/v1",docUrl:"https://qwq.aigpu.cn",defaultModel:"free:QwQ-32B",models:[{id:"free:QwQ-32B"}],modelsUrl:"/models",chatUrl:"/chat/completions",type:"ChatSupplier"},Vo=q.cloneDeep(He);Vo.unshift(Mo);const Ve={label:"[[<DEFAULT>]]"},Y0=j({setup(){const e=(()=>{const g=q.cloneDeep(He);return g.unshift(Mo),g})(),o=X({list:[]}),t=H(()=>q.uniqBy([...o.list,...e],"name")),l=X({selectedSupplier:Vo[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),n=X({name:"",desc:"",baseUrl:"",docUrl:"",defaultModel:"",modelsString:'[{"id":"default-model-id"}]',modelsUrl:"",chatUrl:"",type:"ChatSupplier"}),a=["ChatSupplier"],c=H(()=>{var u,p,x;if(!l.selectedSupplier)return{name:Ve.label};const g={name:(u=l.selectedSupplier)==null?void 0:u.defaultModel};return((x=l.selectedModelDict[(p=l.selectedSupplier)==null?void 0:p.name])==null?void 0:x.name)==Ve.label?g:l.selectedModelDict[l.selectedSupplier.name]??g}),i=H(()=>{var g;return(g=l.selectedSupplier)!=null&&g.name?l.supplierModelsDict[l.selectedSupplier.name]??[]:[]}),s=H(()=>[{name:Ve.label},...i.value.map(g=>({name:(g==null?void 0:g.label)??(g==null?void 0:g.name)??(g==null?void 0:g.id)}))]);function d(g){if(!g||g.trim()==="")return[];try{const u=JSON.parse(g);return Array.isArray(u)?u.filter(p=>typeof p=="object"&&p!==null&&(typeof p.id=="string"||typeof p.id=="number")):(alert("Invalid format for Models. Expected a JSON array of objects with an 'id' property."),[])}catch(u){return console.error("Error parsing models string:",u),alert(`Error parsing Models JSON: ${u.message}`),[]}}function f(){if(!n.name||!n.baseUrl||!n.type){alert("Supplier Name, Base URL, and Type are required.");return}const g=d(n.modelsString),u={name:n.name,desc:n.desc||"",baseUrl:n.baseUrl,docUrl:n.docUrl||"",defaultModel:n.defaultModel||"",models:g.map(p=>({...p,id:String(p.id)})),modelsUrl:n.modelsUrl||"",chatUrl:n.chatUrl||"",type:n.type};if(t.value.some(p=>p.name===u.name)){alert(`Supplier with name "${u.name}" already exists.`);return}o.list.push(u),xe("customSuppliersList",o.list),n.name="",n.desc="",n.baseUrl="",n.docUrl="",n.defaultModel="",n.modelsString='[{"id":"default-model-id"}]',n.modelsUrl="",n.chatUrl="",n.type="ChatSupplier",alert("自定义供应商已添加！")}return ne(async()=>{var p;const g=await je("customSuppliersList");g&&Array.isArray(g)&&(o.list=g);const u=await je("supplierForm");u&&(u.apiKeyDict&&(l.apiKeyDict=u.apiKeyDict),u.supplierModelsDict&&(l.supplierModelsDict=u.supplierModelsDict),u.selectedModelDict&&(l.selectedModelDict=u.selectedModelDict),(p=u.selectedSupplier)!=null&&p.name&&(l.selectedSupplier=t.value.find(x=>x.name===u.selectedSupplier.name))),!l.selectedSupplier&&t.value.length>0&&(l.selectedSupplier=t.value[0])}),()=>[r(F,{header:"模型配置",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var g;return r("div",{class:"stack-v"},[r(Ce,{name:"supplier",options:t.value,optionLabel:"name",placeholder:"选择供应商",fluid:!0,modelValue:l.selectedSupplier,"onUpdate:modelValue":u=>{l.selectedSupplier=u,xe("supplierForm",l)}}),r(J,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:l.selectedSupplier?l.apiKeyDict[l.selectedSupplier.name]:"","onUpdate:modelValue":u=>{l.selectedSupplier&&(l.apiKeyDict[l.selectedSupplier.name]=u,xe("supplierForm",l))}}),r("div",{class:"stack-h w-full"},[r(Ce,{name:"model",options:s.value,optionLabel:"name",placeholder:"选择模型",class:"grow-1",modelValue:c.value,"onUpdate:modelValue":u=>{l.selectedSupplier&&(l.selectedModelDict[l.selectedSupplier.name]=u,xe("supplierForm",l))}}),r(D,{icon:"pi pi-refresh",tooltip:"刷新模型列表",command:()=>{l.selectedSupplier?f0(l.selectedSupplier,l):alert("请先选择一个供应商。")}})]),((g=window==null?void 0:window.location)==null?void 0:g.hostname)!="localhost"?null:r(D,{size:"small",icon:"pi pi-cog",label:"debug",command:()=>{console.log({supplierForm:l,selectedModel:c.value,allSuppliers:t.value,customSuppliers:o.list})}})])}}),r(F,{header:"添加自定义供应商（目前仅支持OpenAI接口）",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>r("div",{class:"stack-v"},[r(J,{fluid:!0,placeholder:"名称 (必填)",modelValue:n.name,"onUpdate:modelValue":g=>n.name=g}),r(J,{fluid:!0,placeholder:"描述",modelValue:n.desc,"onUpdate:modelValue":g=>n.desc=g}),r(J,{fluid:!0,placeholder:"Base URL (必填, e.g., https://api.example.com/v1)",modelValue:n.baseUrl,"onUpdate:modelValue":g=>n.baseUrl=g}),r(J,{fluid:!0,placeholder:"文档 URL",modelValue:n.docUrl,"onUpdate:modelValue":g=>n.docUrl=g}),r(J,{fluid:!0,placeholder:"默认模型 ID",modelValue:n.defaultModel,"onUpdate:modelValue":g=>n.defaultModel=g}),r("div",{class:"text-sm opacity-80 fw-500 mt-0.5rem"},"模型列表 (JSON格式)"),r(K,{class:"w-full font-mono text-sm",placeholder:'[{"id":"model1-id", "name":"Model One (Optional)"}, {"id":"model2-id"}]',rows:3,modelValue:n.modelsString,"onUpdate:modelValue":g=>n.modelsString=g}),r(J,{fluid:!0,placeholder:"模型列表 API 路径 (e.g., /models)",modelValue:n.modelsUrl,"onUpdate:modelValue":g=>n.modelsUrl=g}),r(J,{fluid:!0,placeholder:"对话 API 路径 (e.g., /chat/completions)",modelValue:n.chatUrl,"onUpdate:modelValue":g=>n.chatUrl=g}),r(Ce,{class:"hidden!",options:a,placeholder:"类型 (必填)",fluid:!0,modelValue:n.type,"onUpdate:modelValue":g=>n.type=g}),r(D,{label:"添加供应商",icon:"pi pi-plus",class:"mt-0.5rem",command:f})])})]}});async function Lo(e,o){var c,i,s,d,f,g;console.log("循环总流程",(s=(i=(c=e==null?void 0:e.state)==null?void 0:c.notebook)==null?void 0:i.entries)==null?void 0:s.length);const t=e.state.totalCount??0,l=e.maxLoopCount;if(t>=l){e.end("maxLoopCount reached"),D0();return}const n=[];if(Object.values(e.state.quStateDict??{}).forEach(u=>u.isSimpleV||u.isSimpleT?(u.stateText="太简单已跳过",!1):u.isSkipV||u.isSkipT?(u.stateText="太困难已跳过",!1):(u.trainedCountT??0)>=e.maxVerifyCount?(u.stateText="练够了已跳过",!1):(u.correctCountV??0)>=e.maxCertifyCount?(u.stateText="验够了已跳过",!1):(n.push(u),!0)),!n.length){if(e.state.versionCertifyCount??0>=e.maxCertifyCount){e.end("all questions reached max verify/certify count"),zo();return}e.state.versionCertifyCount==null&&(e.state.versionCertifyCount=0),e.state.versionCertifyCount+=1}const a=n.map(u=>u.nnid);console.log((g=(f=(d=e==null?void 0:e.state)==null?void 0:d.notebook)==null?void 0:f.entries)==null?void 0:g.length),await K0(e,a,o)}async function K0(e,o,t){var d,f,g,u,p,x,C;e.修正做题初始状态(),await jo(e);const l=o.map(S=>e.getQuEntry(S));l.sort((S,m)=>{const v=e.getQuState(S.nnid),w=e.getQuState(m.nnid),$=v.trainedCountT??0,R=w.trainedCountT??0;return $-R}),o=l.map(S=>S.nnid);const n=e.batchSize;let a=!0,c=!0;const i=[];for(let S=0;S<l.length;S+=n)i.push({batchIndex:S,entries:l.slice(S,S+n),ids:o.slice(S,S+n)});const s=0;await((d=e==null?void 0:e.signalFn)==null?void 0:d.call(e,`循环核心流程 开始，
有${l.length}题，
共${i.length}个批次，
从批次[${s}]开始`,"info",1e4));for(let S=s;S<i.length;S++){const m=[];let v=!0,w=!0;if(e.state.lastBatchIndex=S,e.shouldStop){await((f=e==null?void 0:e.signalFn)==null?void 0:f.call(e,"程序应结束","error",2e3)),e.abortTraining();return}e.state.isProcessingBatch=!0,await((g=e==null?void 0:e.signalFn)==null?void 0:g.call(e,`批次 [${S+1} of ${i.length}] 开始`,"info",1e4));const $=i[S],R=$.entries,k=$.ids,y=await Promise.all(R.map(async I=>await Z0(e,I.nnid)));if(await Promise.all(y.map(async(I,O)=>{const _=k[O];if(I===1){a=!1,v=!1,await og(e,_);return}else if(I===0){a=!1,v=!1,c=!1,w=!1,await eg(e,_),m.push(_);return}else if(I===-1){c=!1,w=!1;return}else if(I===-2){c=!1,w=!1;return}})),console.log(JSON.parse(JSON.stringify(e.state))),!w&&!e.practiceOnlyMode)try{const I=e.getNotebook(),O=e.getNotebookVersion();await we(I,O);const{version:_}=e.initNewNotebookVersion();await X0(e,m),await we(e.getNotebook(),_)}catch(I){(u=e==null?void 0:e.signalFn)==null||u.call(e,"笔记更新失败","error",2e3),console.error(I),se(),e.state.isProcessingBatch=!1,e.abortTraining();return}else!w&&e.practiceOnlyMode&&await((p=e==null?void 0:e.signalFn)==null?void 0:p.call(e,"仅做题模式：跳过笔记更新","info",2e3));if(await(t==null?void 0:t()),e.state.isProcessingBatch=!1,e.trainingState===E.PREPARING_PAUSE){e.trainingState=E.PAUSED,(x=e.signalFn)==null||x.call(e,"训练已暂停，等待恢复"),e.state.lastBatchIndex=S+1,e.state.isProcessingBatch=!1;return}if(e.shouldStop){await((C=e==null?void 0:e.signalFn)==null?void 0:C.call(e,"程序应结束","error",2e3)),e.state.isProcessingBatch=!1,e.abortTraining();return}if(v){e.end("batchAllBugs"),Pe(8),se();return}}if(a){e.end("allBugs"),Pe(8),se();return}c&&(e.state.versionCertifyCount=(e.state.versionCertifyCount??0)+1),e.state.totalCount=(e.state.totalCount??0)+1,e.state.versionCount=(e.state.versionCount??0)+1,Oo(),await Lo(e,t)}async function X0(e,o){var l,n,a,c,i,s,d,f,g;Ao();const t=[];for(const u of o){const p=e.getQuData(u),x={operations:(n=(l=p==null?void 0:p.errorReport)==null?void 0:l.outputData)==null?void 0:n.operations};x&&t.push(x)}if(!t.length)return-1;try{const u={opPlans:t,qtBook:q.cloneDeep(e.getNotebook())};if((t==null?void 0:t.length)>1){const p=((a=e.customPrompts)==null?void 0:a.promptVersion)||ce;await H0(u,e.supplierForm,()=>{e.state.notebookEditPlan=q.pick(u,["processing","thinkingSpans","outputSpans","outputData"])},(c=e.customPrompts)==null?void 0:c.stage4_合并对笔记的修改_prompt,(i=e.customPrompts)==null?void 0:i.笔记介绍,(s=e.customPrompts)==null?void 0:s.笔记操作介绍,(d=e.customPrompts)==null?void 0:d.笔记介绍标记,(f=e.customPrompts)==null?void 0:f.笔记操作介绍标记),e.state.notebookEditPlan.outputData=u.outputData,No(),Re({promptVersion:p,version:e.getNotebookVersion(),data:Ie(u),selectedSupplier:(g=e.supplierForm)==null?void 0:g.selectedSupplier,type:"合并对笔记的修改",time:Date.now()}),await ae(200)}else e.state.notebookEditPlan={outputData:t[0]};return await jo(e),1}catch(u){return se(),console.error(u),-1}}async function jo(e){var t,l,n,a;if(((l=(t=e.state.notebookEditPlan)==null?void 0:t.outputData)==null?void 0:l.operations)==null)return;const o={operations:(a=(n=e.state.notebookEditPlan)==null?void 0:n.outputData)==null?void 0:a.operations,qtBook:q.cloneDeep(e.getNotebook())};U0(o),e.setNotebook(o.qtBook),await ae(30),e.state.notebookEditPlan={},await ae(100),Fo()}async function Z0(e,o){var d,f,g,u,p,x,C,S,m,v,w,$,R,k,y,I,O,_,b;await ae(200);const t=e.getQuEntry(o);if(!t)return-1;const l=e.getQuState(o);l.stateText="预备";const n=e.getQuData(o),a=e.getNotebook(),c=a.entries;n.judgeResponse={},n.response={},n.errorReport={};const i={qtBook:a,question:{content:t.content}},s={note:null,question:{content:t.content}};try{l.stateText="判断题型中";const A=((d=e.customPrompts)==null?void 0:d.promptVersion)||ce;if(await M0(i,e.supplierForm,()=>{n.judgeResponse=q.pick(i,["processing","thinkingSpans","outputSpans","outputData"])},(f=e.customPrompts)==null?void 0:f.stage0_判断题型_prompt),Re({promptVersion:A,version:e.getNotebookVersion(),data:Ie(i),selectedSupplier:(g=e.supplierForm)==null?void 0:g.selectedSupplier,type:"judgeResponse",time:Date.now()}),e.shouldStop)return l.stateText="中断",await((u=e==null?void 0:e.signalFn)==null?void 0:u.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(n.judgeResponse.outputData=i.outputData,((p=n.judgeResponse)==null?void 0:p.outputData)==null)throw l.stateText="报错",new Error("判断题型 时没有输出正确格式的数据");const M=((C=(x=n.judgeResponse)==null?void 0:x.outputData)==null?void 0:C.name)??((m=(S=n.judgeResponse)==null?void 0:S.outputData)==null?void 0:m.qtName),Q=c.find(U=>U.name===M);Q==null&&await((v=e==null?void 0:e.signalFn)==null?void 0:v.call(e,`没有找到题型「${M}」的笔记`,"warn",5e3)),s.note=Q,qo(),l.stateText="做题中";const T=(w=e.customPrompts)==null?void 0:w.stage1_根据笔记做题_prompt,h=(($=e.customPrompts)==null?void 0:$.promptVersion)||ce;if(await L0(s,e.supplierForm,()=>{n.response=q.pick(s,["processing","thinkingSpans","outputSpans","outputData"])},T),Re({promptVersion:h,version:e.getNotebookVersion(),data:Ie(s),selectedSupplier:(R=e.supplierForm)==null?void 0:R.selectedSupplier,type:"response",time:Date.now()}),e.shouldStop)return l.stateText="中断",await((k=e==null?void 0:e.signalFn)==null?void 0:k.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(n.response.outputData=s.outputData,((y=n.response)==null?void 0:y.outputData)==null)throw l.stateText="报错",new Error("根据笔记做题 时没有输出正确格式的数据");const B=JSON.stringify(t==null?void 0:t.answer),N=JSON.stringify((O=(I=n.response)==null?void 0:I.outputData)==null?void 0:O.answer);return B!=N&&(t==null?void 0:t.answer)!=((b=(_=n.response)==null?void 0:_.outputData)==null?void 0:b.answer)?(l.stateText="错误待分析",Ge(),0):(l.stateText="正确",Po(),1)}catch(A){return l.stateText="报错",se(),console.log({quEntry:t,quState:l}),console.error(A),-1}}async function eg(e,o){var g,u,p,x,C,S,m,v,w,$,R,k,y,I,O;const t=e.getQuState(o);if(!t||(t.trainedCountV=(t.trainedCountV??0)+1,t.trainedCountT=(t.trainedCountT??0)+1,t.errorCountV=(t.errorCountV??0)+1,t.errorCountT=(t.errorCountT??0)+1,t.errorCountV>=e.versionSkipThreshold&&(t.isSkipV=!0),t.errorCountT>=e.totalSkipThreshold&&(t.isSkipT=!0),t.isSkipV||t.isSkipT))return;if(e.shouldStop)return await((g=e==null?void 0:e.signalFn)==null?void 0:g.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(e.practiceOnlyMode){t.stateText="错误（仅做题模式）",Ge();return}const l=e.getQuEntry(o),n=e.getQuData(o),c=e.getNotebook().entries,i=(p=(u=n.judgeResponse)==null?void 0:u.outputData)==null?void 0:p.qtName,s=[];c.forEach(_=>{if(_.name===i)s.push(_);else{const b=q.pick(_,["name","desc","clue"]);s.push(b)}});const d={qtBook:{entries:s},errorCase:{question:l,errorOutput:q.omit((x=n.response)==null?void 0:x.outputData,["didFollow","reflection","noteAdvice"])}};await((C=e==null?void 0:e.signalFn)==null?void 0:C.call(e,`错误分析中[${l.nnid}]`,"warn",3e3)),n.errorReport={},t.stateText="错误分析中";const f=((S=e.customPrompts)==null?void 0:S.promptVersion)||ce;if(await J0(d,e.supplierForm,()=>{n.errorReport=q.pick(d,["processing","thinkingSpans","outputSpans","outputData"])},(m=e.customPrompts)==null?void 0:m.stage2_根据错题修改笔记_prompt,(v=e.customPrompts)==null?void 0:v.笔记介绍,(w=e.customPrompts)==null?void 0:w.笔记操作介绍,($=e.customPrompts)==null?void 0:$.笔记介绍标记,(R=e.customPrompts)==null?void 0:R.笔记操作介绍标记),await((k=e==null?void 0:e.signalFn)==null?void 0:k.call(e,`错误已分析了吗[${l.nnid}]`,"warn",3e3)),Re({promptVersion:f,version:e.getNotebookVersion(),data:Ie(d),selectedSupplier:(y=e.supplierForm)==null?void 0:y.selectedSupplier,type:"errorReport",time:Date.now()}),t.stateText="错误已分析",await((I=e==null?void 0:e.signalFn)==null?void 0:I.call(e,`错误已分析[${l.nnid}]`,"warn",3e3)),n.errorReport.outputData=d.outputData,((O=n.errorReport)==null?void 0:O.outputData)==null)throw se(),new Error("根据错题修改笔记 时没有输出正确格式的数据");Eo()}async function og(e,o){const t=e.getQuState(o);t&&(t.trainedCountV=(t.trainedCountV??0)+1,t.trainedCountT=(t.trainedCountT??0)+1,t.correctCountV=(t.correctCountV??0)+1,t.correctCountT=(t.correctCountT??0)+1,t.trainedCountV===t.correctCountV&&(t.isSimpleV=t.trainedCountV>=e.versionSimpleThreshold),t.trainedCountT===t.correctCountT&&(t.isSimpleT=t.trainedCountT>=e.totalSimpleThreshold))}const mo={batchSize:5,maxLoopCount:16,maxVerifyCount:20,maxCertifyCount:2,versionSimpleThreshold:2,totalSimpleThreshold:4,versionSkipThreshold:6,totalSkipThreshold:12,practiceOnlyMode:!1},rg={quCount:0,totalCount:0,versionCount:0,versionCertifyCount:0,quStateDict:{},quDataDict:{},notebook:{entries:[]},notebookVersion:"",notebookEditPlan:{},ended:!1,endReason:"",endTime:"",startTime:"",isProcessingBatch:!1,lastBatchIndex:0};class vo{constructor(o){Y(this,"_options",q.cloneDeep(mo));Y(this,"trainingState",E.IDLE);Y(this,"customPrompts",{});Y(this,"isSWOT",!0);Y(this,"signalFn");Y(this,"supplierForm");Y(this,"state",{quStateDict:{},quDataDict:{},notebook:{entries:[]},notebookVersion:"",notebookEditPlan:{}});Y(this,"quDict",{});this.loadOptions(o),this.resetState()}get options(){return this._options}get shouldStop(){return[E.ABORTING,E.ABORTED,E.ENDED].includes(this.trainingState)}get batchSize(){return this._options.batchSize??5}get maxLoopCount(){return this._options.maxLoopCount??30}get maxVerifyCount(){return this._options.maxVerifyCount??20}get maxCertifyCount(){return this._options.maxCertifyCount??2}get versionSimpleThreshold(){return this._options.versionSimpleThreshold??2}get totalSimpleThreshold(){return this._options.totalSimpleThreshold??4}get versionSkipThreshold(){return this._options.versionSkipThreshold??5}get totalSkipThreshold(){return this._options.totalSkipThreshold??10}get practiceOnlyMode(){return this._options.practiceOnlyMode??!1}get quEntries(){return Object.values(this.quDict)}getQuEntry(o){return this.quDict[o]}getQu(o){return this.getQuEntry(o)}getQuState(o){var t;return((t=this.state.quStateDict)==null?void 0:t[o])==null&&(this.state.quStateDict[o]={nnid:o,stateText:"预备"}),this.state.quStateDict[o]}getQuData(o){var t;return((t=this.state.quDataDict)==null?void 0:t[o])==null&&(this.state.quDataDict[o]={nnid:o}),this.state.quDataDict[o]}getNotebook(){return this.state.notebook}setNotebook(o){return this.state.notebook=o,this.state.notebook}getNotebookVersion(){return this.state.notebookVersion}updatePromptTemplates(o){o&&(this.customPrompts={stage0_判断题型_prompt:o.stage0_判断题型||void 0,stage1_根据笔记做题_prompt:o.stage1_根据笔记做题||void 0,stage2_根据错题修改笔记_prompt:o.stage2_根据错题修改笔记||void 0,stage4_合并对笔记的修改_prompt:o.stage4_合并对笔记的修改||void 0,笔记介绍:o.笔记介绍||void 0,笔记操作介绍:o.笔记操作介绍||void 0,笔记介绍标记:o.笔记介绍标记||void 0,笔记操作介绍标记:o.笔记操作介绍标记||void 0,promptVersion:o.version||void 0})}initNewNotebookVersion(){return this.state.notebookVersion=`${ie(6)}`,this.state.versionCount=0,this.state.versionCertifyCount=0,Object.values(this.state.quStateDict).forEach(o=>{o.trainedCountV=void 0,o.correctCountV=void 0,o.errorCountV=void 0,o.isSimpleV=void 0,o.isSkipV=void 0}),{version:this.state.notebookVersion,notebook:this.state.notebook}}修正做题初始状态(){Object.values(this.state.quStateDict).forEach(o=>{o.stateText=="错误待分析"&&(o.stateText="错误未分析"),o.stateText=="错误分析中"&&(o.stateText="错误未分析")})}resetOptions(){this._options=q.cloneDeep(mo)??{}}assignOptions(o){Object.assign(this._options,o??{})}loadOptions(o){this.resetOptions(),this.assignOptions(o)}resetState(){var l,n,a,c;const o=(n=(l=this==null?void 0:this.state)==null?void 0:l.notebook)==null?void 0:n.entries,t=(a=this==null?void 0:this.state)==null?void 0:a.notebookVersion;this.state=q.cloneDeep(rg)??{},(c=this==null?void 0:this.options)!=null&&c.practiceOnlyMode&&(this.state.notebook={entries:o??[]},this.state.notebookVersion=t??""),this.state.quCount=this.quEntries.length,this.loadQuEntries(this.quEntries,!0)}assignState(o){Object.assign(this.state,o??{})}loadState(o){this.resetState(),this.assignState(o)}resetQuEntries(){this.quDict={}}loadQuEntries(o,t=!1){this.resetQuEntries(),this.state.quStateDict==null&&(this.state.quStateDict={}),this.state.quDataDict==null&&(this.state.quDataDict={}),this.state.quCount=o.length;for(const l of o){const n=l.nnid;this.quDict[n]=l,(t||this.state.quStateDict[n]==null)&&(this.state.quStateDict[n]={nnid:n,stateText:"预备"}),(t||this.state.quDataDict[n]==null)&&(this.state.quDataDict[n]={nnid:n})}t&&(this.state.totalCount=0,this.state.versionCount=0,this.state.versionCertifyCount=0)}toJSON(o=!1){return{_options:this._options,quEntries:o?this.quEntries:[],state:this.state,trainingState:this.trainingState}}fromJSON(o,t=!1){this.loadOptions(o._options),this.loadState(o.state),[E.RUNNING,E.PREPARING_PAUSE,E.ABORTING].includes(o.trainingState)?this.trainingState=E.ABORTED:this.trainingState=o.trainingState;let l=!1;this.state.quStateDict==null&&(this.state.quStateDict={},l=!0),this.state.quDataDict==null&&(this.state.quDataDict={},l=!0),this.loadQuEntries(o.quEntries,t||l)}async start(o){var t;(this.trainingState===E.IDLE||this.trainingState===E.ENDED||this.trainingState===E.ABORTED)&&(this.trainingState=E.RUNNING,(t=this.signalFn)==null||t.call(this,"开始训练"),await this.restart(o))}async restart(o){this.resetStateManually(),this.state.startTime=new Date().toISOString(),this.trainingState=E.RUNNING,await this.continue(o)}async resetStateManually(){this.resetState(),this.state.quCount=this.quEntries.length,this.state.ended=!1,this.state.lastBatchIndex=0,this.state.startTime="",this.state.totalCount=0,this.state.versionCount=0,this.state.versionCertifyCount=0,this.state.isProcessingBatch=!1}async continue(o){var t,l,n;if(this.trainingState===E.ENDED){this.trainingState=E.RUNNING,(t=this.signalFn)==null||t.call(this,"训练本已结束，现在重新继续");return}this.trainingState===E.PAUSED&&(this.trainingState=E.RUNNING,(l=this.signalFn)==null||l.call(this,"从暂停状态恢复训练")),this.trainingState===E.ABORTED&&(this.trainingState=E.RUNNING,(n=this.signalFn)==null||n.call(this,"从中止状态恢复训练")),await Lo(this,o)}async requestPause({before:o,after:t}){var l;return await(o==null?void 0:o()),this.trainingState===E.RUNNING?(this.trainingState=E.PREPARING_PAUSE,(l=this.signalFn)==null||l.call(this,"准备暂停训练，等待当前批次完成..."),await(t==null?void 0:t()),!0):!1}async cancelPauseRequest(o){var t;return this.trainingState===E.PREPARING_PAUSE?(this.trainingState=E.RUNNING,(t=this.signalFn)==null||t.call(this,"已取消暂停请求，继续训练"),await(o==null?void 0:o()),!0):!1}resume(o){var t;return[E.PAUSED,E.ABORTED,E.ENDED].includes(this.trainingState)?((t=this.signalFn)==null||t.call(this,"恢复训练"),this.continue(o),!0):!1}async requestAbort(o="用户请求中止",{before:t,after:l}){var n;return await(t==null?void 0:t()),this.trainingState===E.RUNNING||this.trainingState===E.PAUSED||this.trainingState===E.PREPARING_PAUSE?(this.trainingState=E.ABORTING,(n=this.signalFn)==null||n.call(this,`请求中止训练: ${o}`),this.state.isProcessingBatch||this.abortTraining(void 0,l),!0):!1}finishTraining(o){this.trainingState=E.ENDED,this.end(o||"训练完成")}abortTraining(o,t){this.trainingState=E.ABORTED,this.end(o||"训练中止",t)}getTrainingStateText(){switch(this.trainingState){case E.IDLE:return"未开始";case E.RUNNING:return"训练中";case E.PREPARING_PAUSE:return"准备暂停";case E.PAUSED:return"已暂停";case E.ENDED:return"已结束";case E.ABORTED:return"已中止";default:return"未知状态"}}async end(o,t){var l,n;this.trainingState===E.ABORTING?(this.state.ended=!0,this.state.endReason=o||"训练中止",this.state.endTime=new Date().toISOString(),(l=this.signalFn)==null||l.call(this,`训练已中止: ${this.state.endReason}`),this.trainingState=E.ABORTED,await(t==null?void 0:t())):(this.state.ended=!0,this.state.endReason=o,this.state.endTime=new Date().toISOString(),(n=this.signalFn)==null||n.call(this,`训练已结束: ${this.state.endReason}`),this.trainingState=E.ENDED,await(t==null?void 0:t()))}async reset(o){var t;this.resetStateManually(),this.trainingState=E.IDLE,await((t=this.signalFn)==null?void 0:t.call(this,"训练已重置")),await(o==null?void 0:o())}}const tg=j({name:"AITrainingSystem",components:{TrainingControlPanel:to,QuestionCard:ao,CurrentNotePanel:no,NoteHistoryPanel:go,ChatRecordsPanel:fo,AccuracyPanel:po},setup(){const{t:e}=Ae(),o=(h,B)=>e(`AITrainingSystem.AITrainingSystem.${h}`,B),t=me(),l=X({selectedSupplier:He[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),n=X({activeTabIndex:0}),a=X({trainer:null,questions:[],promptTemplates:null}),c=P(!1),i=H(()=>{var h,B;return(B=(h=a==null?void 0:a.trainer)==null?void 0:h.state)==null?void 0:B.quStateDict}),s=H(()=>{var h,B;return(B=(h=a==null?void 0:a.trainer)==null?void 0:h.state)==null?void 0:B.quDataDict}),d=H(()=>{var h;return((h=a.trainer)==null?void 0:h.getTrainingStateText())||"未开始"}),f=()=>{a.questions=$r},g=h=>{a.questions=h,ge("questions",a.questions),(a==null?void 0:a.trainer)!=null&&a.trainer.loadQuEntries(a.questions,!1),console.log("appData.questions",a.questions)},u=()=>{console.log("appData",a)},p=()=>{console.log("UI State:",n)},x=async()=>{var B;if(a.questions&&a.questions.length&&await ge("questions",a.questions),!((B=a==null?void 0:a.trainer)!=null&&B.isSWOT))return;const h=a.trainer.toJSON(!1);await ge("trainer",h),console.log("json",h),console.log("appData.trainer",a.trainer)},C=async()=>{await ge("uiData",n),console.log("Saved UI data:",n)},S=async()=>{var h;await ge("promptTemplates",a.promptTemplates),t.add({severity:"success",summary:o("actions.promptTemplatesSaved"),detail:o("actions.promptTemplatesSavedDetail",{version:((h=a.promptTemplates)==null?void 0:h.version)||"未命名"}),life:2e3})},m=h=>{a.promptTemplates=h,a.trainer&&a.trainer.updatePromptTemplates(h)},v=async()=>{var U;if(!((U=a==null?void 0:a.trainer)!=null&&U.isSWOT))return;const h=a.trainer.toJSON(!1),B=new Blob([JSON.stringify(h)],{type:"application/json"}),N=`SWOT_Trainer_${new Date().toISOString()}.json`;Xe.saveAs(B,N),t.add({severity:"info",summary:o("actions.exportData"),detail:o("actions.exportedFile",{fileName:N}),life:1e3})},w=async()=>{const h=new Blob([JSON.stringify(a.questions)],{type:"application/json"}),B=`SWOT_Questions_${new Date().toISOString()}.json`;Xe.saveAs(h,B),t.add({severity:"info",summary:o("actions.exportData"),detail:o("actions.exportedFile",{fileName:B}),life:1e3})},$=()=>{c.value=!0},R=h=>{c.value=h},k=async()=>{a.trainer=new vo;const h=await Be("trainer");console.log("trainerJson",h),h&&(a.trainer.fromJSON(h),t.add({severity:"info",summary:o("actions.loaded"),detail:o("actions.loadedTrainerState"),life:1e3})),a.trainer.signalFn=(U,L="info",W=1e3)=>{t.add({severity:L??"info",summary:o("actions.swot"),detail:U,life:W??1e3})},a.trainer.supplierForm=l,console.log("appData.trainer",a.trainer);const B=await Be("promptTemplates");B?(a.promptTemplates=B,a.trainer&&a.trainer.updatePromptTemplates(B),console.log(o("actions.loadedPromptTemplates"),B)):(a.promptTemplates={version:ce,stage0_判断题型:qe,stage1_根据笔记做题:Ne,stage2_根据错题修改笔记:ze,stage4_合并对笔记的修改:Oe,笔记介绍:de,笔记操作介绍:ue,笔记介绍标记:Se,笔记操作介绍标记:$e},a.trainer&&a.trainer.updatePromptTemplates(a.promptTemplates));const N=await Be("questions");N!=null&&N.length?(a.questions=N,a.trainer.loadQuEntries(N,!1),t.add({severity:"info",summary:o("actions.loaded"),detail:o("actions.loadedSavedQuestions",{count:a.questions.length}),life:1e3})):(await f(),a.trainer.loadQuEntries(a.questions,!1),t.add({severity:"info",summary:o("actions.loadFromScratch"),detail:o("actions.loadedBuiltInQuestions",{count:a.questions.length}),life:1e3})),console.log("appData.questions",a.questions)},y=h=>{a.trainer&&a.trainer.assignOptions(h)},I=()=>{t.add({severity:"info",summary:o("actions.uiDemo"),detail:o("actions.errorAnalysisClicked"),life:1e3})},O=async h=>{var B,N;try{if(!h.content||typeof h.content!="string"){t.add({severity:"error",summary:o("actions.importFailed"),detail:o("actions.invalidFileContent"),life:3e3});return}const U=JSON.parse(h.content);if(!U){t.add({severity:"error",summary:o("actions.importFailed"),detail:o("actions.cannotParseJson"),life:3e3});return}if(a.trainer||(a.trainer=new vo),a.trainer.fromJSON(U),await ge("trainer",a.trainer.toJSON(!1)),a.trainer.loadQuEntries(a.questions,!1),(N=(B=a.trainer)==null?void 0:B.state)!=null&&N.notebook){const L=ie(6);a.trainer.state.notebookVersion=L,await we(a.trainer.state.notebook,L)}t.add({severity:"success",summary:o("actions.importSuccessful"),detail:o("actions.importSuccessfulDetail",{fileName:h.name}),life:3e3})}catch(U){console.error(o("actions.importDataFailed"),U),t.add({severity:"error",summary:o("actions.importFailed"),detail:U.message||o("actions.importErrorOccurred"),life:3e3})}},_=h=>{n.activeTabIndex=h,C()},b=async()=>{var h,B,N,U;if((B=(h=a.trainer)==null?void 0:h.state)!=null&&B.notebook)try{const L=ie(6);a.trainer.state.notebookVersion=L,await we((U=(N=a.trainer)==null?void 0:N.state)==null?void 0:U.notebook,L),t.add({severity:"success",summary:o("actions.noteSaved"),detail:o("actions.noteSavedDetail",{versionId:L}),life:2e3})}catch(L){console.error(o("actions.saveNoteFailed"),L),t.add({severity:"error",summary:o("actions.noteSaved"),detail:L.message||"未知错误",life:3e3})}},A=h=>{if(a.trainer){a.trainer.state.notebook=h;const B=ie(6);a.trainer.state.notebookVersion=B,t.add({severity:"info",summary:o("actions.noteUpdated"),detail:o("actions.noteUpdatedDetail",{versionId:B}),life:2e3})}},M=async()=>{var h,B,N,U;if((B=(h=a.trainer)==null?void 0:h.state)!=null&&B.notebook)try{const L=ie(6);a.trainer.state.notebookVersion=L,await we((U=(N=a.trainer)==null?void 0:N.state)==null?void 0:U.notebook,L),t.add({severity:"success",summary:o("actions.noteSaved"),detail:o("actions.noteSavedDetail",{versionId:L}),life:2e3})}catch(L){console.error(o("actions.saveNoteFailed"),L),t.add({severity:"error",summary:o("actions.noteSaved"),detail:L.message||"未知错误",life:3e3})}},Q=h=>{var B,N;a.trainer&&(console.log(o("actions.loadingNoteVersion"),h),(N=(B=h==null?void 0:h.data)==null?void 0:B.entries)!=null&&N.length?(t.add({severity:"info",summary:o("actions.loadingNoteVersion"),detail:o("actions.loadVersion",{key:h.key}),life:1e3}),a.trainer.state.notebook=h.data,a.trainer.state.notebookVersion=h.key):t.add({severity:"error",summary:o("actions.versionNoContent"),detail:o("actions.versionNotLoaded",{key:h.key}),life:3e3}))},T=h=>{console.log(o("actions.selectedChatRecord"),h)};return ne(async()=>{const h=await je("supplierForm");h!=null&&Object.assign(l,h);const B=await Be("uiData");B&&(Object.assign(n,B),console.log("Loaded UI data:",n)),await ae(1e3),await k()}),xo(async()=>{await C(),await x()}),()=>r("div",{class:"container mx-auto ==px-4 ==py-6"},[r(vr,{value:n.activeTabIndex,"onUpdate:value":_},{default:()=>[r(br,{class:"mb-3 max-w-100% overflow-auto"},{default:()=>[r(oe,{value:4,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.description")}),r(oe,{value:7,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.modelInterfaceConfig")}),r(oe,{value:3,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.questionBankConfig")}),r(oe,{value:2,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.promptConfig")}),r(oe,{value:0,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.trainingAndAnswering")}),r(oe,{value:1,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.noteHistory")}),r(oe,{value:6,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.chatRecords")}),r(oe,{value:5,pt:{root:{class:"font-bold"}}},{default:()=>o("tabs.storageManagement")})]}),r(hr,{},{default:()=>[r(re,{value:0},{default:()=>{var h,B;return[((h=window==null?void 0:window.location)==null?void 0:h.hostname)!="localhost"?null:r(F,{header:o("panels.debugPanel.header"),toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.debugPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.debugPanel.description"))]),r("div",{class:"stack-v"},[r("div",{class:"stack-h"},[r(D,{label:o("actions.saveAppData"),icon:"pi pi-play",onClick:x}),r(D,{label:o("actions.loadAppData"),icon:"pi pi-play",onClick:k}),r(D,{label:o("actions.printAppData"),icon:"pi pi-play",onClick:u}),r(D,{label:o("actions.printUiData"),icon:"pi pi-info",onClick:p}),r(D,{label:o("actions.saveUiData"),icon:"pi pi-save",onClick:C}),r(D,{label:o("actions.exportTrainerData"),icon:"pi pi-download",onClick:v}),r(D,{label:o("actions.toggleImportDialog"),icon:"pi pi-upload",onClick:$}),r(D,{label:o("actions.exportQuestions"),icon:"pi pi-play",onClick:w})])])]}),r("div",{class:"my-1.5rem! grid grid-cols-1 md:grid-cols-12 gap-4"},[r("div",{class:"col-span-1 md:col-span-6 xl:col-span-5 grid grid-cols-1 gap-4"},[r(F,{header:o("panels.trainingControlPanel.header"),toggleable:!0,class:["bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var N,U,L,W,ee;return[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.trainingControlPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.trainingControlPanel.description"))]),r(to,{options:(N=a.trainer)==null?void 0:N.options,state:(U=a.trainer)==null?void 0:U.state,isTraining:((L=a.trainer)==null?void 0:L.trainingState)===E.RUNNING,isPaused:((W=a.trainer)==null?void 0:W.trainingState)===E.PAUSED,isPreparingPause:((ee=a.trainer)==null?void 0:ee.trainingState)===E.PREPARING_PAUSE,trainingStateText:d.value,trainer:a.trainer,"onUpdate:options":y,onSaveData:x,"onSave-data":x})]}}),r(po,{state:(B=a.trainer)==null?void 0:B.state})]),r(F,{header:o("panels.questionNotesPanel.header"),toggleable:!0,class:["col-span-1 md:col-span-6 xl:col-span-7","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var N,U,L,W,ee,ve,be,he,ye,ke;return[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.questionNotesPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.questionNotesPanel.description"))]),r("div",{class:"stack-v"},[r(no,{class:"w-100%",note:((U=(N=a.trainer)==null?void 0:N.state)==null?void 0:U.notebook)??null,notebookEditPlan:((W=(L=a.trainer)==null?void 0:L.state)==null?void 0:W.notebookEditPlan)??null,version:(ve=(ee=a.trainer)==null?void 0:ee.state)==null?void 0:ve.notebookVersion,onSaveNote:b}),r(A0,{class:"w-100% mb-4",notebook:((he=(be=a.trainer)==null?void 0:be.state)==null?void 0:he.notebook)??null,version:(ke=(ye=a.trainer)==null?void 0:ye.state)==null?void 0:ke.notebookVersion,"onUpdate:notebook":A,onSave:M})])]}})]),r(F,{header:o("panels.currentLoopAnsweringPanel.header"),toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var N;return[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.currentLoopAnsweringPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.currentLoopAnsweringPanel.description"))]),r("div",{class:["stack-h"]},[(((N=a.trainer)==null?void 0:N.quEntries)??[]).map((U,L)=>{var W,ee,ve,be,he,ye,ke;return r(ao,{idx:L,class:"w-100% md:max-w-48% xl:max-w-32%",key:U.nnid,question:U,judgeResponse:(ee=(W=s.value)==null?void 0:W[U.nnid])==null?void 0:ee.judgeResponse,response:(be=(ve=s.value)==null?void 0:ve[U.nnid])==null?void 0:be.response,errorReport:(ye=(he=s.value)==null?void 0:he[U.nnid])==null?void 0:ye.errorReport,trainingState:(ke=i.value)==null?void 0:ke[U.nnid],state:"未知",onAnalyzeError:I})})])]}})]}}),r(re,{value:7},{default:()=>[r(F,{header:o("panels.modelInterfaceManagementPanel.header"),class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.modelInterfaceManagementPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.modelInterfaceManagementPanel.description"))]),r(Y0,{})]})]}),r(re,{value:1},{default:()=>[r(F,{header:o("panels.noteHistoryPanel.header"),class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var h,B;return[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.noteHistoryPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.noteHistoryPanel.description"))]),r(go,{class:"w-100%",currentVersion:(B=(h=a.trainer)==null?void 0:h.state)==null?void 0:B.notebookVersion,onSelectVersion:Q})]}})]}),r(re,{value:2},{default:()=>[r(F,{header:o("panels.promptTemplatesPanel.header"),class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.promptTemplatesPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.promptTemplatesPanel.description"))]),r(G0,{savedTemplates:a.promptTemplates,"onUpdate:templates":m,onSave:S})]})]}),r(re,{value:3},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.questionBankConfigPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.questionBankConfigPanel.description"))]),r(W0,{onProcessedDataImported:g})]}),r(re,{value:4},{default:()=>[r(F,{header:o("panels.memoBoardPanel.header"),toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[r(O0)]})]}),r(re,{value:6},{default:()=>[r(F,{header:o("panels.chatHistoryPanel.header"),class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.chatHistoryPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.chatHistoryPanel.description"))]),r(fo,{class:"w-100%",onSelectChat:T})]})]}),r(re,{value:5},{default:()=>[r("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[r("div",{class:"font-medium"},o("panels.storageManagementPanel.title")),r("div",{class:"text-sm opacity-80"},o("panels.storageManagementPanel.description"))]),r(h0,{class:"w-100%"})]})]})]}),r(Je,{visible:c.value,"onUpdate:visible":R,title:o("dialogs.importTrainerData"),acceptedFileTypes:"application/json",onFileUploaded:O})])}}),ag=[{path:"/:pathMatch(.*)*",name:"404",component:Ku},{path:"/",redirect:"/train"},{path:"/",name:"app-root",component:a0,children:[{path:"train",name:"app-train",component:tg}]}],ng=rr({history:tr(),routes:ag}),ig=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sg=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function cg(e,o){if(e==="__proto__"||e==="constructor"&&o&&typeof o=="object"&&"prototype"in o){dg(e);return}return o}function dg(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ug(e,o={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const t=e.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!sg.test(e)){if(o.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ig.test(e)||lg.test(e)){if(o.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,cg)}return JSON.parse(e)}catch(l){if(o.strict)throw l;return e}}function gg(e,o){if(e==null)return;let t=e;for(let l=0;l<o.length;l++){if(t==null||t[o[l]]==null)return;t=t[o[l]]}return t}function We(e,o,t){if(t.length===0)return o;const l=t[0];return t.length>1&&(o=We(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,l)?Number.isInteger(Number(t[1]))?[]:{}:e[l],o,Array.prototype.slice.call(t,1))),Number.isInteger(Number(l))&&Array.isArray(e)?e.slice()[l]:Object.assign({},e,{[l]:o})}function Jo(e,o){if(e==null||o.length===0)return e;if(o.length===1){if(e==null)return e;if(Number.isInteger(o[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(o[0],1);const t={};for(const l in e)t[l]=e[l];return delete t[o[0]],t}if(e[o[0]]==null){if(Number.isInteger(o[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const t={};for(const l in e)t[l]=e[l];return t}return We(e,Jo(e[o[0]],Array.prototype.slice.call(o,1)),[o[0]])}function Qo(e,o){return o.map(t=>t.split(".")).map(t=>[t,gg(e,t)]).filter(t=>t[1]!==void 0).reduce((t,l)=>We(t,l[1],l[0]),{})}function Ho(e,o){return o.map(t=>t.split(".")).reduce((t,l)=>Jo(t,l),e)}function bo(e,{storage:o,serializer:t,key:l,debug:n,pick:a,omit:c,beforeHydrate:i,afterHydrate:s},d,f=!0){try{f&&(i==null||i(d));const g=o.getItem(l);if(g){const u=t.deserialize(g),p=a?Qo(u,a):u,x=c?Ho(p,c):p;e.$patch(x)}f&&(s==null||s(d))}catch(g){n&&console.error("[pinia-plugin-persistedstate]",g)}}function ho(e,{storage:o,serializer:t,key:l,debug:n,pick:a,omit:c}){try{const i=a?Qo(e,a):e,s=c?Ho(i,c):i,d=t.serialize(s);o.setItem(l,d)}catch(i){n&&console.error("[pinia-plugin-persistedstate]",i)}}function fg(e,o,t){const{pinia:l,store:n,options:{persist:a=t}}=e;if(!a)return;if(!(n.$id in l.state.value)){const s=l._s.get(n.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const i=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(o);n.$hydrate=({runHooks:s=!0}={})=>{i.forEach(d=>{bo(n,d,e,s)})},n.$persist=()=>{i.forEach(s=>{ho(n.$state,s)})},i.forEach(s=>{bo(n,s,e),n.$subscribe((d,f)=>ho(f,s),{detached:!0})})}function pg(e={}){return function(o){fg(o,t=>({key:(e.key?e.key:l=>l)(t.key??o.store.$id),debug:t.debug??e.debug??!1,serializer:t.serializer??e.serializer??{serialize:l=>JSON.stringify(l),deserialize:l=>ug(l)},storage:t.storage??e.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),e.auto??!1)}}var mg=pg();const Go=ar();Go.use(mg);const vg={title:"Storage Management",usageCalculating:"Storage Usage: Calculating...",usagePrefix:"Storage Usage: ",notCalculated:"Not calculated",usageDetailsTitle:"Storage Usage Details",refreshTip:"Refresh storage information",calculatingDetails:"Calculating storage space usage...",errorDefault:"Error occurred while fetching storage information",unsupportedAPI:"The current browser does not support the Storage Estimation API, unable to obtain accurate storage size.",totalUsage:"Total Space Used",unknown:"Unknown",totalRecords:"Total Database Records",recordsSuffix:"records",qtBookBackupsTable:"Note History Versions Table",chatRecordsTable:"Chat Records Table",kvsTable:"Key-Value Store Table"},bg={memoBoard:{memoBoardContent:`
# AI SWOT: Practical demonstration of the System Prompt Learning paradigm.

SWOT (meaning "Small-Town Overachiever") is an AI training system focused on Self-Prompt Training, following the System Prompt Learning paradigm. It provides a comprehensive platform for users to train and manage AI models through the following features.

## Core Features

*   **Training and Answering:**
    *   Users can load question sets, and the AI will answer based on the provided notes.
    *   The system records the AI's answering performance, including accuracy, error analysis, etc.
    *   Users can control the training process, such as starting and pausing training, and adjusting training parameters.
*   **Note Management:**
    *   **Current Notes:** The system displays notes autonomously learned and recorded by the AI during the problem-solving process. Users can view these notes and observe how the AI iterates and optimizes its notes based on problem-solving results and error analysis.
    *   **Note History:** The system automatically saves historical versions of AI notes. Users can easily view the evolution of notes and restore to previous versions if needed.
    *   **Note Import/Export:** Supports importing and exporting note data.
*   **Prompt Configuration:**
    *   Users can edit and manage prompt templates used in various stages of the training process to optimize AI training effectiveness.
*   **Question Bank Configuration:**
    *   Users can manage question bank data for training or testing, supporting the import of processed data.
*   **Model Interface Configuration:**
    *   Manage AI model providers, API keys, and selected models.
*   **Conversation History:**
    *   Saves historical conversation records with the AI model, allowing users to easily review and analyze previous interactions.
*   **Storage Management:**
    *   View and manage various data stored locally by the system, including trainer status, question sets, prompt templates, etc. Supports data import and export.
*   **Debugging Tools:**
    *   Provides a series of debugging tools for developers to perform data operations and status checks.

## Design Philosophy

The SWOT system aims to enhance AI models' capabilities in specific knowledge domains by simulating a cycle of "problem-solving - learning - improving notes - problem-solving again." Users provide question sets, and the AI autonomously records and iterates on its notes during the problem-solving process. Through this learning cycle, the goal is to ultimately improve the model's performance. This design philosophy aligns with the [System Prompt Learning paradigm proposed by Andrej Karpathy](https://x.com/karpathy/status/1921368644069765486).

## Training Process Logic

- O Has the maximum number of cycles been reached?
  - Reached: End training
  - Not reached:
    - Is the set of all [not skipped, not simple, not reached maximum validation count] empty?
      - Yes: End training
      - No: Continue executing the core process
    - Core process: Process all [not skipped, not simple, not reached maximum validation count] questions in parallel
      - Did they all fail?
        - Yes: Forced end of training
        - No: Continue
      - For each correctly answered question:
        - This question version practice count += 1
        - This question total practice count += 1
        - This question version correct count += 1
        - This question total correct count += 1
        - If 'this question version practice count = this question version correct count >= version simple threshold', mark as [version simple question]
        - If 'this question total practice count = this question total correct count >= total simple threshold', mark as [total simple question]
      - For each incorrectly answered question:
        - This question version error count += 1
          - If version difficult threshold is reached, mark as [version skipped question]
        - This question total error count += 1
          - If total difficult threshold is reached, mark as [total skipped question]
      - Were all questions answered correctly?
        - All correct: Version validation count += 1
        - Not all correct: Do not increase validation count
      - For each incorrectly answered question:
        - Update notes
      - Total cycle count += 1
      - Return to O to continue the next cycle

Reference: [SpaCE2025](https://pku-space.github.io/SpaCE2025/)
`.trim()}},hg={trainingSystem:"AI Training System",modelProviderForm:{title:"Model Provider Form",description:"Manage AI model suppliers, API keys, and selected model statuses."},uiStateManagement:{title:"UI State Management - Persisted Across Sessions",description:"Manage user interface states, such as the currently active tab index."},applicationData:{title:"Application Data",description:"Store trainer instances, question sets, and prompt templates."},importDialog:{show:"Show/hide file upload dialog for importing trainer data."},trainingState:{notStarted:"Not Started"},actions:{loadTrainingQuestions:"Load Training Questions",loadTrainingQuestionsSummary:"Loaded",loadTrainingQuestionsDetail:"Loaded {count} questions",printAppData:"Print App Data",printUiData:"Print UI Data",saveAppData:"Save App Data",saveUiData:"Save UI Data",uiStateSaved:"UI State Saved",uiStateSavedDetail:"Saved current tab index: {index}",savePromptTemplates:"Save Prompt Templates",promptTemplatesSaved:"Prompt Templates Saved",promptTemplatesSavedDetail:"Saved version: {version}",updatePromptTemplates:"Update Prompt Templates",exportTrainerData:"Export Trainer Data",exportData:"Export Data",exportedFile:"Exported {fileName}",exportQuestions:"Export Questions",toggleImportDialog:"Toggle Import Dialog",updateImportDialogVisibility:"Update Import Dialog Visibility",loadAppData:"Load App Data",loaded:"Loaded",loadedTrainerState:"Loaded trainer state",swot:"SWOT",loadedPromptTemplates:"Loaded prompt templates:",defaultTemplates:"Default Templates",loadedSavedQuestions:"Loaded {count} saved questions",loadFromScratch:"Load from Scratch",loadedBuiltInQuestions:"Loaded {count} built-in questions",updateOptions:"Update Options",analyzeError:"Analyze Error",uiDemo:"UI Demo",errorAnalysisClicked:"Error analysis clicked",handleFileUploaded:"Handle File Uploaded",importFailed:"Import Failed",invalidFileContent:"Invalid file content",cannotParseJson:"Cannot parse JSON data",importSuccessful:"Import Successful",importSuccessfulDetail:"Successfully imported trainer data from file: {fileName}",importDataFailed:"Import data failed:",importErrorOccurred:"An error occurred while importing trainer data",handleTabChange:"Handle Tab Change",handleCurrentNotePanelSave:"Handle Current Note Panel Save",noteSaved:"Note Saved",noteSavedDetail:"Note saved, new version ID: {versionId}",saveNoteFailed:"Save note failed:",handleNotebookEditorUpdate:"Handle Notebook Editor Update",noteUpdated:"Note Updated",noteUpdatedDetail:"New version ID: {versionId}",handleNotebookEditorSave:"Handle Notebook Editor Save",handleSelectNoteVersion:"Handle Select Note Version",loadingNoteVersion:"Loading note version",loadVersion:"Load version: {key}",versionNoContent:"Version has no content",versionNotLoaded:"Version not loaded: {key}",handleSelectChat:"Handle Select Chat",selectedChatRecord:"Selected chat record"},lifecycle:{onMounted:"Component Mounted",onMountedDescription:"Initialize loading settings, UI state, and application data.",onUnmounted:"Component Unmounted",onUnmountedDescription:"Save UI state and application data."},tabs:{description:"Description",modelInterfaceConfig:"Model Interface Config",questionBankConfig:"Question Bank Config",promptConfig:"Prompt Config",trainingAndAnswering:"Training & Answering",noteHistory:"Note History",chatRecords:"Chat Records",storageManagement:"Storage Management"},panels:{debugPanel:{header:"DEBUG (Visible in Development Mode Only)",title:"Debug Tool Panel",description:"Provides various debugging and data operation buttons for saving/loading application state, exporting/importing trainer data, etc."},trainingControlPanel:{header:"Training Control",title:"Control AI Training Flow and Parameters",description:"Adjust training parameters, start/pause training, and monitor training progress in this panel."},accuracyPanel:{header:"Accuracy Statistics"},questionNotesPanel:{header:"Question Notes",title:"View and Edit Note Content for Training",description:"Notes are the core content for AI learning. Here you can view and edit notes, and track AI's suggestions for note modifications."},currentLoopAnsweringPanel:{header:"Current Loop's Answering Situation",title:"Display Questions and AI's Answers in the Current Training",description:"Here you can view each question processed by the AI in the current training round and its answer, including correct and incorrect cases."},modelInterfaceManagementPanel:{header:"Model Interface Management",title:"Manage Model Interfaces",description:"Manage model interfaces."},noteHistoryPanel:{header:"Note History Versions",title:"Manage and Restore Previous Note Versions",description:"All historical note versions are saved here. You can view the evolution of notes and restore to a previous version if needed."},promptTemplatesPanel:{header:"Prompt Template Management",title:"Configure Prompt Templates for Training",description:"Edit and manage prompt templates for various stages of the training process to optimize AI training effectiveness."},questionBankConfigPanel:{title:"Configure Question Bank",description:"Manage question bank data for training or testing, equipped with basic data format related functions."},memoBoardPanel:{header:"SWOT"},chatHistoryPanel:{header:"Chat History Records",title:"View and Manage Chat Records with AI Models",description:"Historical chat records with AI models are saved here. You can view and analyze previous interaction processes."},storageManagementPanel:{title:"Manage Local Storage Data",description:"View and manage various data stored locally by the system, including cleaning and backup functions."}},dialogs:{importTrainerData:"Import Trainer Data"}},yg={StorageInfoPanel:vg,MemoBoard:bg,AITrainingSystem:hg,moduleTitle:"AI Training System"},kg={AITrainingSystem:yg,message:{hello:"Hello, world"}},xg={title:"存储空间管理",usageCalculating:"存储占用: 计算中...",usagePrefix:"存储占用: ",notCalculated:"未计算",usageDetailsTitle:"存储空间使用情况",refreshTip:"刷新存储信息",calculatingDetails:"正在计算存储空间使用情况...",errorDefault:"获取存储信息时发生错误",unsupportedAPI:"当前浏览器不支持存储估算 API，无法获取精确存储大小",totalUsage:"总占用空间",unknown:"未知",totalRecords:"数据库记录总数",recordsSuffix:"条记录",qtBookBackupsTable:"笔记历史版本表",chatRecordsTable:"对话记录表",kvsTable:"键值存储表"},Cg={memoBoard:{memoBoardContent:`
# AI SWOT (小镇做题家) - 真正可运行的 System Prompt Learning 演示

SWOT (意为“小镇做题家”) 是一个专注于自我提示训练 (Self-Prompt Training) 、遵循了System Prompt Learning 范式的 AI 训练系统。它提供了一个全面的平台，用户可以通过以下功能来训练和管理 AI 模型。

## 核心功能

*   **训练与答题:**
    *   用户可以加载题集，AI 会根据提供的笔记进行答题。
    *   系统会记录 AI 的答题情况，包括正确率、错误分析等。
    *   用户可以控制训练过程，例如启动、暂停训练，并调整训练参数。
*   **笔记管理:**
    *   **当前笔记:** 系统展示 AI 在解题过程中自主学习并记录的笔记。用户可以查看这些笔记，并观察 AI 如何根据解题结果和错误分析来迭代和优化其笔记。
    *   **笔记历史:** 系统会自动保存 AI 笔记的各个历史版本。用户可以方便地查看笔记的演变过程，并在需要时恢复到之前的版本。
    *   **笔记导入/导出:** 支持笔记数据的导入和导出。
*   **提示词配置:**
    *   用户可以编辑和管理用于训练过程中各个阶段的提示词模板，以优化 AI 的训练效果。
*   **题库配置:**
    *   用户可以管理用于训练或测试的题库数据，支持导入处理后的数据。
*   **模型接口配置:**
    *   管理 AI 模型的供应商、API 密钥和所选模型。
*   **对话记录:**
    *   保存与 AI 模型的历史对话记录，方便用户查看和分析之前的交互过程。
*   **存储管理:**
    *   查看和管理系统在本地存储的各种数据，包括训练器状态、问题集、提示词模板等。支持数据的导入和导出。
*   **调试工具:**
    *   提供一系列调试工具，方便开发者进行数据操作和状态检查。

## 设计理念

SWOT 系统旨在通过模拟“做题-学习-改进笔记-再做题”的循环，帮助 AI 模型提升其在特定知识领域的能力。用户提供题集，AI 在解题过程中自主记录和迭代笔记，通过这个学习循环，最终达到提升模型表现的目的。这一设计思想与 [Andrej Karpathy 提出的 System Prompt Learning 范式](https://x.com/karpathy/status/1921368644069765486) 不谋而合。

## 训练流程逻辑

- O 是否达到最大循环次数
  - 达到：结束训练
  - 未达到：
    - 所有【未跳过、非简单、未达最大验证次数】是否为空集合
      - 是：结束训练
      - 否：继续执行核心流程
    - 核心流程 并行做所有【未跳过、非简单、未达最大验证次数】的题
      - 是否全都故障了
        - 是：被迫结束训练
        - 否：继续
      - 对于每道做对的题
        - 此题版本练习次数+=1
        - 此题总练习次数+=1
        - 此题版本正确次数+=1
        - 此题总正确次数+=1
        - 如果「此题版本练习次数=此题版本正确次数 >= 版本简单阈值」则标记为【版本简单题】
        - 如果「此题总练习次数=此题总正确次数 >= 总简单阈值」则标记为【总简单题】
      - 对于每道做错的题
        - 此题版本错误次数+=1
          - 如果达到版本难题阈值，则标记为【版本跳过题】
        - 此题总错误次数+=1
          - 如果达到总体难题阈值，则标记为【总体跳过题】
      - 是否全对
        - 全对：版本确证次数+=1
        - 非全对：不增加确证次数
      - 对于每道做错的题
        - 更新笔记
      - 总循环次数+=1
      - 返回 O 继续下一轮循环

参考： [SpaCE2025](https://pku-space.github.io/SpaCE2025/)
`.trim()}},wg={trainingSystem:"AI训练系统",modelProviderForm:{title:"模型供应商表单",description:"管理AI模型供应商、API密钥和所选模型的状态。"},uiStateManagement:{title:"UI状态管理 - 在会话之间保持",description:"管理用户界面状态，如当前活动标签页索引。"},applicationData:{title:"应用程序数据",description:"存储训练器实例、问题集和提示词模板。"},importDialog:{show:"显示/隐藏文件上传对话框，用于导入训练器数据。"},trainingState:{notStarted:"未开始"},actions:{loadTrainingQuestions:"加载训练题集",loadTrainingQuestionsSummary:"已加载",loadTrainingQuestionsDetail:"加载了 {count} 题",printAppData:"打印应用数据",printUiData:"打印UI数据",saveAppData:"保存应用数据",saveUiData:"保存UI数据",uiStateSaved:"UI状态已保存",uiStateSavedDetail:"已保存当前标签页索引: {index}",savePromptTemplates:"保存提示词模板",promptTemplatesSaved:"提示词模板已保存",promptTemplatesSavedDetail:"保存版本: {version}",updatePromptTemplates:"更新提示词模板",exportTrainerData:"导出训练器数据",exportData:"导出数据",exportedFile:"已导出 {fileName}",exportQuestions:"导出问题",toggleImportDialog:"切换导入对话框可见性",updateImportDialogVisibility:"更新导入对话框可见性",loadAppData:"加载应用数据",loaded:"已加载",loadedTrainerState:"已加载训练器状态",swot:"SWOT",loadedPromptTemplates:"加载的提示词模板:",defaultTemplates:"默认模板",loadedSavedQuestions:"加载了 {count} 条已保存的题目",loadFromScratch:"从头加载",loadedBuiltInQuestions:"加载了 {count} 条内置题目",updateOptions:"更新选项",analyzeError:"分析错误",uiDemo:"UI演示",errorAnalysisClicked:"错误分析点击",handleFileUploaded:"处理文件上传",importFailed:"导入失败",invalidFileContent:"文件内容无效",cannotParseJson:"无法解析 JSON 数据",importSuccessful:"导入成功",importSuccessfulDetail:"成功导入训练器数据，来自文件: {fileName}",importDataFailed:"导入数据失败:",importErrorOccurred:"导入训练器数据时发生错误",handleTabChange:"处理标签页变更",handleCurrentNotePanelSave:"处理当前笔记面板保存",noteSaved:"笔记保存",noteSavedDetail:"笔记已保存，新版本标识: {versionId}",saveNoteFailed:"保存笔记失败:",handleNotebookEditorUpdate:"处理笔记编辑器更新",noteUpdated:"笔记已更新",noteUpdatedDetail:"新版本标识: {versionId}",handleNotebookEditorSave:"处理笔记编辑器保存",handleSelectNoteVersion:"处理笔记历史版本选择",loadingNoteVersion:"准备加载笔记版本",loadVersion:"加载版本: {key}",versionNoContent:"版本无内容",versionNotLoaded:"版本无内容，未加载: {key}",handleSelectChat:"处理对话记录选择",selectedChatRecord:"选择对话记录"},lifecycle:{onMounted:"组件挂载",onMountedDescription:"初始化加载设置、UI状态和应用数据。",onUnmounted:"组件卸载",onUnmountedDescription:"保存UI状态和应用数据。"},tabs:{description:"说明",modelInterfaceConfig:"模型接口配置",questionBankConfig:"题库配置",promptConfig:"提示词配置",trainingAndAnswering:"训练与答题",noteHistory:"笔记历史",chatRecords:"对话记录",storageManagement:"存储管理"},panels:{debugPanel:{header:"DEBUG（仅开发模式可见）",title:"调试工具面板",description:"这里提供各种调试和数据操作按钮，用于保存/加载应用状态、导出/导入训练器数据等"},trainingControlPanel:{header:"训练控制",title:"控制AI训练流程和参数",description:"在此面板可调整训练参数、启动/暂停训练，并监控训练进度"},accuracyPanel:{header:"正确率统计"},questionNotesPanel:{header:"题目笔记",title:"查看和编辑用于训练的笔记内容",description:"笔记是AI学习的核心内容，在这里可以查看和编辑笔记，追踪AI对笔记的修改建议"},currentLoopAnsweringPanel:{header:"本次循环的答题情况",title:"展示当前训练中的问题及AI的回答",description:"在这里可以查看本轮训练中AI处理的每个问题及其回答，包括正确与错误的情况"},modelInterfaceManagementPanel:{header:"模型接口管理",title:"对模型接口进行管理",description:"管理模型接口"},noteHistoryPanel:{header:"笔记历史版本",title:"管理和恢复之前的笔记版本",description:"这里保存了所有历史笔记版本，可以查看笔记的演变过程，并在需要时恢复到之前的版本"},promptTemplatesPanel:{header:"提示词模板管理",title:"配置用于训练的提示词模板",description:"在这里可以编辑和管理用于训练过程中各个阶段的提示词模板，以优化AI的训练效果"},questionBankConfigPanel:{title:"对题库进行配置",description:"在这里可以管理用于训练或测试的题库数据，配备了基础的数据格式相关功能"},memoBoardPanel:{header:"SWOT"},chatHistoryPanel:{header:"对话历史记录",title:"查看和管理与AI模型的对话记录",description:"这里保存了与AI模型的历史对话记录，可以查看和分析之前的交互过程"},storageManagementPanel:{title:"管理本地存储数据",description:"在这里可以查看和管理系统在本地存储的各种数据，包括清理和备份功能"}},dialogs:{importTrainerData:"导入训练器数据"}},Sg={StorageInfoPanel:xg,MemoBoard:Cg,AITrainingSystem:wg,moduleTitle:"AI 训练系统模块"},$g={AITrainingSystem:Sg,message:{hello:"你好，世界"}},Tg=nr({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:kg,zh:$g}}),Z=ir(Rr);Z.use(yr,{ripple:!0,theme:{preset:Yu,options:{prefix:"p",darkModeSelector:`.${Le}`,cssLayer:!1}}});Z.use(ng);Z.use(Go);Z.use(kr);Z.use(xr);Z.use(Cr);Z.use(Tg);Z.directive("tooltip",wo);Z.mount("#app");
