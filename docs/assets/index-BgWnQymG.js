var Go=Object.defineProperty;var Wo=(e,r,a)=>r in e?Go(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a;var W=(e,r,a)=>Wo(e,typeof r!="symbol"?r+"":r,a);import{Q as bo,r as q,c as J,R as L,S as Ho,U as o,V as vo,W as Yo,a as te,X as ho,w as ue,Y as yo,Z as Ge,_ as Ko,y as Xo,s as Zo,d as Y,$ as er,a0 as or,a1 as rr,a2 as tr,a3 as ar}from"./vue-BfAo3U34.js";import{l as oe,c as nr,n as ae,a as We,F as He}from"./tools1-CSK6V4E_.js";import{_ as P}from"./SpaCE2025-EGHunPcn.js";import{s as ir,a as lr,b as sr,d as cr,c as V,e as M,f as dr,g as ur,u as ge,h as Be,i as fr,j as Oe,k as gr,l as ko,m as fe,n as H,o as j,T as xo,p as $e,q as ke,r as Ye,t as pr,v as mr,w as Z,x as br,y as ee,P as vr,z as hr,D as yr,C as kr}from"./primevue-BkG5CYY_.js";import{u as xr}from"./vueuse-CmiLtAoi.js";import{D as Co}from"./tools2-Q6sTcaEI.js";import{M as wo}from"./markdown-utils-BMSQkwth.js";import{O as Cr}from"./openai-Dpgyc7nP.js";import{S as wr}from"./SpaCE2024-HkPd1yTV.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();const Fe="my-app-dark",$o=bo("darkMode",()=>{const e=q(Fe),r=q(!1),a=J(()=>`.${e.value}`),t=J(()=>document.documentElement.classList.contains(Fe)),i=()=>{document.documentElement.classList.add(e.value),r.value=!0},l=()=>{document.documentElement.classList.remove(e.value),r.value=!1};return{className:e,isOn:r,darkModeClass:a,isDarkMode:t,turnOn:i,turnOff:l,toggle:()=>{document.documentElement.classList.toggle(e.value),r.value=!r.value},turn:()=>{r.value?i():l()}}},{persist:{serializer:{deserialize:oe.parse,serialize:oe.stringify},pick:["isOn"]}}),$r={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},Sr={state:()=>P.cloneDeep($r),getters:{},actions:{setLocale(e,r){var a;e=(e??"").toLowerCase(),(a=this.availableLocales)!=null&&a.includes(e)||(e=this.locale),r!=null&&(r.value=e),this.locale=e}},persist:{serializer:{deserialize:oe.parse,serialize:oe.stringify}}},So=bo("systemSettingsStore",Sr),Br=L({setup(){const e=$o(),{turn:r}=e,a=So(),{setLocale:t}=a;return Ho(()=>{r(),t()}),()=>[o(vo),o(ir),o(lr),o(sr)]}}),Tr=L({setup(){return()=>o(Br)}});var Rr=(...e)=>cr(...e),Dr={transitionDuration:"{transition.duration}"},Er={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},qr={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},zr={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},Ir={root:Dr,panel:Er,header:qr,content:zr},Pr={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Nr={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Or={padding:"{list.padding}",gap:"{list.gap}"},_r={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Ar={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Vr={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Fr={borderRadius:"{border.radius.sm}"},Ur={padding:"{list.option.padding}"},Mr={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},Lr={root:Pr,overlay:Nr,list:Or,option:_r,optionGroup:Ar,dropdown:Vr,chip:Fr,emptyMessage:Ur,colorScheme:Mr},jr={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},Jr={size:"1rem"},Qr={borderColor:"{content.background}",offset:"-0.75rem"},Gr={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},Wr={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},Hr={root:jr,icon:Jr,group:Qr,lg:Gr,xl:Wr},Yr={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},Kr={size:"0.5rem"},Xr={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},Zr={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},et={fontSize:"1rem",minWidth:"2rem",height:"2rem"},ot={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},rt={root:Yr,dot:Kr,sm:Xr,lg:Zr,xl:et,colorScheme:ot},tt={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},at={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},nt={primitive:tt,semantic:at},it={borderRadius:"{content.border.radius}"},lt={root:it},st={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},ct={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},dt={color:"{navigation.item.icon.color}"},ut={root:st,item:ct,separator:dt},ft={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},gt={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},pt={root:ft,colorScheme:gt},mt={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},bt={padding:"1.25rem",gap:"0.5rem"},vt={gap:"0.5rem"},ht={fontSize:"1.25rem",fontWeight:"500"},yt={color:"{text.muted.color}"},kt={root:mt,body:bt,caption:vt,title:ht,subtitle:yt},xt={transitionDuration:"{transition.duration}"},Ct={gap:"0.25rem"},wt={padding:"1rem",gap:"0.5rem"},$t={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},St={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},Bt={root:xt,content:Ct,indicatorList:wt,indicator:$t,colorScheme:St},Tt={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Rt={width:"2.5rem",color:"{form.field.icon.color}"},Dt={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Et={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},qt={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},zt={color:"{form.field.icon.color}"},It={root:Tt,dropdown:Rt,overlay:Dt,list:Et,option:qt,clearIcon:zt},Pt={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Nt={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Ot={root:Pt,icon:Nt},_t={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},At={width:"2rem",height:"2rem"},Vt={size:"1rem"},Ft={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},Ut={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},Mt={root:_t,image:At,icon:Vt,removeIcon:Ft,colorScheme:Ut},Lt={transitionDuration:"{transition.duration}"},jt={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Jt={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},Qt={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},Gt={root:Lt,preview:jt,panel:Jt,colorScheme:Qt},Wt={size:"2rem",color:"{overlay.modal.color}"},Ht={gap:"1rem"},Yt={icon:Wt,content:Ht},Kt={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Xt={padding:"{overlay.popover.padding}",gap:"1rem"},Zt={size:"1.5rem",color:"{overlay.popover.color}"},ea={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},oa={root:Kt,content:Xt,icon:Zt,footer:ea},ra={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},ta={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},aa={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},na={mobileIndent:"1rem"},ia={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},la={borderColor:"{content.border.color}"},sa={root:ra,list:ta,item:aa,submenu:na,submenuIcon:ia,separator:la},ca={transitionDuration:"{transition.duration}"},da={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ua={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},fa={fontWeight:"600"},ga={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},pa={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ma={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ba={fontWeight:"600"},va={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},ha={color:"{primary.color}"},ya={width:"0.5rem"},ka={width:"1px",color:"{primary.color}"},xa={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Ca={size:"2rem"},wa={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},$a={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},Sa={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Ba={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Ta={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Ra={root:ca,header:da,headerCell:ua,columnTitle:fa,row:ga,bodyCell:pa,footerCell:ma,columnFooter:ba,footer:va,dropPoint:ha,columnResizer:ya,resizeIndicator:ka,sortIcon:xa,loadingIcon:Ca,rowToggleButton:wa,filter:$a,paginatorTop:Sa,paginatorBottom:Ba,colorScheme:Ta},Da={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},Ea={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},qa={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},za={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},Ia={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Pa={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},Na={root:Da,header:Ea,content:qa,footer:za,paginatorTop:Ia,paginatorBottom:Pa},Oa={transitionDuration:"{transition.duration}"},_a={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},Aa={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},Va={gap:"0.5rem",fontWeight:"500"},Fa={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ua={color:"{form.field.icon.color}"},Ma={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},La={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},ja={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},Ja={margin:"0.5rem 0 0 0"},Qa={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},Ga={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Wa={margin:"0.5rem 0 0 0"},Ha={padding:"0.375rem",borderRadius:"{content.border.radius}"},Ya={margin:"0.5rem 0 0 0"},Ka={padding:"0.375rem",borderRadius:"{content.border.radius}"},Xa={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},Za={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},en={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},on={root:Oa,panel:_a,header:Aa,title:Va,dropdown:Fa,inputIcon:Ua,selectMonth:Ma,selectYear:La,group:ja,dayView:Ja,weekDay:Qa,date:Ga,monthView:Wa,month:Ha,yearView:Ya,year:Ka,buttonbar:Xa,timePicker:Za,colorScheme:en},rn={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},tn={padding:"{overlay.modal.padding}",gap:"0.5rem"},an={fontSize:"1.25rem",fontWeight:"600"},nn={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},ln={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},sn={root:rn,header:tn,title:an,content:nn,footer:ln},cn={borderColor:"{content.border.color}"},dn={background:"{content.background}",color:"{text.color}"},un={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},fn={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},gn={root:cn,content:dn,horizontal:un,vertical:fn},pn={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},mn={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},bn={root:pn,item:mn},vn={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},hn={padding:"{overlay.modal.padding}"},yn={fontSize:"1.5rem",fontWeight:"600"},kn={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},xn={padding:"{overlay.modal.padding}"},Cn={root:vn,header:hn,title:yn,content:kn,footer:xn},wn={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},$n={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},Sn={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},Bn={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Tn={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},Rn={toolbar:wn,toolbarItem:$n,overlay:Sn,overlayOption:Bn,content:Tn},Dn={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},En={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},qn={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},zn={padding:"0"},In={root:Dn,legend:En,toggleIcon:qn,content:zn},Pn={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},Nn={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},On={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},_n={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},An={gap:"0.5rem"},Vn={height:"0.25rem"},Fn={gap:"0.5rem"},Un={root:Pn,header:Nn,content:On,file:_n,fileList:An,progressbar:Vn,basic:Fn},Mn={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},Ln={active:{top:"-1.25rem"}},jn={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},Jn={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},Qn={root:Mn,over:Ln,in:jn,on:Jn},Gn={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},Wn={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Hn={size:"1.5rem"},Yn={background:"{content.background}",padding:"1rem 0.25rem"},Kn={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Xn={size:"1rem"},Zn={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},ei={gap:"0.5rem",padding:"1rem"},oi={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ri={background:"rgba(0, 0, 0, 0.5)"},ti={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},ai={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ni={size:"1.5rem"},ii={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},li={root:Gn,navButton:Wn,navIcon:Hn,thumbnailsContent:Yn,thumbnailNavButton:Kn,thumbnailNavButtonIcon:Xn,caption:Zn,indicatorList:ei,indicatorButton:oi,insetIndicatorList:ri,insetIndicatorButton:ti,closeButton:ai,closeButtonIcon:ni,colorScheme:ii},si={color:"{form.field.icon.color}"},ci={icon:si},di={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},ui={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},fi={root:di,input:ui},gi={transitionDuration:"{transition.duration}"},pi={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},mi={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},bi={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},vi={root:gi,preview:pi,toolbar:mi,action:bi},hi={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},yi={handle:hi},ki={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},xi={fontWeight:"500"},Ci={size:"1rem"},wi={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},$i={root:ki,text:xi,icon:Ci,colorScheme:wi},Si={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},Bi={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},Ti={root:Si,display:Bi},Ri={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Di={borderRadius:"{border.radius.sm}"},Ei={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},qi={root:Ri,chip:Di,colorScheme:Ei},zi={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},Ii={addon:zi},Pi={transitionDuration:"{transition.duration}"},Ni={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},Oi={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},_i={root:Pi,button:Ni,colorScheme:Oi},Ai={gap:"0.5rem"},Vi={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},Fi={root:Ai,input:Vi},Ui={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Mi={root:Ui},Li={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ji={background:"{primary.color}"},Ji={background:"{content.border.color}"},Qi={color:"{text.muted.color}"},Gi={root:Li,value:ji,range:Ji,text:Qi},Wi={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},Hi={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Yi={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Ki={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Xi={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},Zi={padding:"{list.option.padding}"},el={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},ol={root:Wi,list:Hi,option:Yi,optionGroup:Ki,checkmark:Xi,emptyMessage:Zi,colorScheme:el},rl={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},tl={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},al={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},nl={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},il={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},ll={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},sl={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},cl={borderColor:"{content.border.color}"},dl={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ul={root:rl,baseItem:tl,item:al,overlay:nl,submenu:il,submenuLabel:ll,submenuIcon:sl,separator:cl,mobileButton:dl},fl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},gl={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},pl={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},ml={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},bl={borderColor:"{content.border.color}"},vl={root:fl,list:gl,item:pl,submenuLabel:ml,separator:bl},hl={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},yl={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},kl={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},xl={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},Cl={borderColor:"{content.border.color}"},wl={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},$l={root:hl,baseItem:yl,item:kl,submenu:xl,separator:Cl,mobileButton:wl},Sl={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},Bl={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},Tl={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},Rl={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},Dl={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},El={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},ql={root:{borderWidth:"1px"}},zl={content:{padding:"0"}},Il={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},Pl={root:Sl,content:Bl,text:Tl,icon:Rl,closeButton:Dl,closeIcon:El,outlined:ql,simple:zl,colorScheme:Il},Nl={borderRadius:"{content.border.radius}",gap:"1rem"},Ol={background:"{content.border.color}",size:"0.5rem"},_l={gap:"0.5rem"},Al={size:"0.5rem"},Vl={size:"1rem"},Fl={verticalGap:"0.5rem",horizontalGap:"1rem"},Ul={root:Nl,meters:Ol,label:_l,labelMarker:Al,labelIcon:Vl,labelList:Fl},Ml={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Ll={width:"2.5rem",color:"{form.field.icon.color}"},jl={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Jl={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Ql={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},Gl={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Wl={color:"{form.field.icon.color}"},Hl={borderRadius:"{border.radius.sm}"},Yl={padding:"{list.option.padding}"},Kl={root:Ml,dropdown:Ll,overlay:jl,list:Jl,option:Ql,optionGroup:Gl,chip:Hl,clearIcon:Wl,emptyMessage:Yl},Xl={gap:"1.125rem"},Zl={gap:"0.5rem"},es={root:Xl,controls:Zl},os={gutter:"0.75rem",transitionDuration:"{transition.duration}"},rs={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},ts={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},as={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},ns={root:os,node:rs,nodeToggleButton:ts,connector:as},is={outline:{width:"2px",color:"{content.background}"}},ls={root:is},ss={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},cs={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ds={color:"{text.muted.color}"},us={maxWidth:"2.5rem"},fs={root:ss,navButton:cs,currentPageReport:ds,jumpToPageInput:us},gs={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},ps={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},ms={padding:"0.375rem 1.125rem"},bs={fontWeight:"600"},vs={padding:"0 1.125rem 1.125rem 1.125rem"},hs={padding:"0 1.125rem 1.125rem 1.125rem"},ys={root:gs,header:ps,toggleableHeader:ms,title:bs,content:vs,footer:hs},ks={gap:"0.5rem",transitionDuration:"{transition.duration}"},xs={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},Cs={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},ws={indent:"1rem"},$s={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},Ss={root:ks,panel:xs,item:Cs,submenu:ws,submenuIcon:$s},Bs={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},Ts={color:"{form.field.icon.color}"},Rs={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},Ds={gap:"0.5rem"},Es={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},qs={meter:Bs,icon:Ts,overlay:Rs,content:Ds,colorScheme:Es},zs={gap:"1.125rem"},Is={gap:"0.5rem"},Ps={root:zs,controls:Is},Ns={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Os={padding:"{overlay.popover.padding}"},_s={root:Ns,content:Os},As={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},Vs={background:"{primary.color}"},Fs={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},Us={root:As,value:Vs,label:Fs},Ms={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},Ls={colorScheme:Ms},js={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Js={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},Qs={root:js,icon:Js},Gs={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ws={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},Hs={root:Gs,icon:Ws},Ys={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},Ks={colorScheme:Ys},Xs={transitionDuration:"{transition.duration}"},Zs={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ec={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},oc={root:Xs,bar:Zs,colorScheme:ec},rc={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},tc={width:"2.5rem",color:"{form.field.icon.color}"},ac={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},nc={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},ic={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},lc={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},sc={color:"{form.field.icon.color}"},cc={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},dc={padding:"{list.option.padding}"},uc={root:rc,dropdown:tc,overlay:ac,list:nc,option:ic,optionGroup:lc,clearIcon:sc,checkmark:cc,emptyMessage:dc},fc={borderRadius:"{form.field.border.radius}"},gc={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},pc={root:fc,colorScheme:gc},mc={borderRadius:"{content.border.radius}"},bc={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},vc={root:mc,colorScheme:bc},hc={transitionDuration:"{transition.duration}"},yc={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},kc={background:"{primary.color}"},xc={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Cc={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},wc={root:hc,track:yc,range:kc,handle:xc,colorScheme:Cc},$c={gap:"0.5rem",transitionDuration:"{transition.duration}"},Sc={root:$c},Bc={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},Tc={root:Bc},Rc={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},Dc={background:"{content.border.color}"},Ec={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},qc={root:Rc,gutter:Dc,handle:Ec},zc={transitionDuration:"{transition.duration}"},Ic={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},Pc={padding:"0.5rem",gap:"1rem"},Nc={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Oc={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},_c={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},Ac={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},Vc={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},Fc={root:zc,separator:Ic,step:Pc,stepHeader:Nc,stepTitle:Oc,stepNumber:_c,steppanels:Ac,steppanel:Vc},Uc={transitionDuration:"{transition.duration}"},Mc={background:"{content.border.color}"},Lc={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},jc={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Jc={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},Qc={root:Uc,separator:Mc,itemLink:Lc,itemLabel:jc,itemNumber:Jc},Gc={transitionDuration:"{transition.duration}"},Wc={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},Hc={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Yc={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},Kc={height:"1px",bottom:"-1px",background:"{primary.color}"},Xc={root:Gc,tablist:Wc,item:Hc,itemIcon:Yc,activeBar:Kc},Zc={transitionDuration:"{transition.duration}"},ed={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},od={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},rd={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},td={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ad={height:"1px",bottom:"-1px",background:"{primary.color}"},nd={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},id={root:Zc,tablist:ed,tab:od,tabpanel:rd,navButton:td,activeBar:ad,colorScheme:nd},ld={transitionDuration:"{transition.duration}"},sd={background:"{content.background}",borderColor:"{content.border.color}"},cd={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},dd={background:"{content.background}",color:"{content.color}"},ud={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},fd={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},gd={root:ld,tabList:sd,tab:cd,tabPanel:dd,navButton:ud,colorScheme:fd},pd={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},md={size:"0.75rem"},bd={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},vd={root:pd,icon:md,colorScheme:bd},hd={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},yd={gap:"0.25rem"},kd={margin:"2px 0"},xd={root:hd,prompt:yd,commandResponse:kd},Cd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},wd={root:Cd},$d={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},Sd={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},Bd={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Td={mobileIndent:"1rem"},Rd={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},Dd={borderColor:"{content.border.color}"},Ed={root:$d,list:Sd,item:Bd,submenu:Td,submenuIcon:Rd,separator:Dd},qd={minHeight:"5rem"},zd={eventContent:{padding:"1rem 0"}},Id={eventContent:{padding:"0 1rem"}},Pd={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},Nd={color:"{content.border.color}",size:"2px"},Od={event:qd,horizontal:zd,vertical:Id,eventMarker:Pd,eventConnector:Nd},_d={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},Ad={size:"1.125rem"},Vd={padding:"{overlay.popover.padding}",gap:"0.5rem"},Fd={gap:"0.5rem"},Ud={fontWeight:"500",fontSize:"1rem"},Md={fontWeight:"500",fontSize:"0.875rem"},Ld={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},jd={size:"1rem"},Jd={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},Qd={root:_d,icon:Ad,content:Vd,text:Fd,summary:Ud,detail:Md,closeButton:Ld,closeIcon:jd,colorScheme:Jd},Gd={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},Wd={disabledColor:"{form.field.disabled.color}"},Hd={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},Yd={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},Kd={root:Gd,icon:Wd,content:Hd,colorScheme:Yd},Xd={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},Zd={borderRadius:"50%",size:"1rem"},eu={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},ou={root:Xd,handle:Zd,colorScheme:eu},ru={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},tu={root:ru},au={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},nu={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},iu={root:au,colorScheme:nu},lu={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},su={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},cu={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},du={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},uu={size:"2rem"},fu={margin:"0 0 0.5rem 0"},gu={root:lu,node:su,nodeIcon:cu,nodeToggleButton:du,loadingIcon:uu,filter:fu},pu={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},mu={width:"2.5rem",color:"{form.field.icon.color}"},bu={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},vu={padding:"{list.padding}"},hu={padding:"{list.option.padding}"},yu={borderRadius:"{border.radius.sm}"},ku={color:"{form.field.icon.color}"},xu={root:pu,dropdown:mu,overlay:bu,tree:vu,emptyMessage:hu,chip:yu,clearIcon:ku},Cu={transitionDuration:"{transition.duration}"},wu={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},$u={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},Su={fontWeight:"600"},Bu={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},Tu={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},Ru={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},Du={fontWeight:"600"},Eu={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},qu={width:"0.5rem"},zu={width:"1px",color:"{primary.color}"},Iu={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Pu={size:"2rem"},Nu={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ou={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},_u={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Au={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Vu={root:Cu,header:wu,headerCell:$u,columnTitle:Su,row:Bu,bodyCell:Tu,footerCell:Ru,columnFooter:Du,footer:Eu,columnResizer:qu,resizeIndicator:zu,sortIcon:Iu,loadingIcon:Pu,nodeToggleButton:Nu,paginatorTop:Ou,paginatorBottom:_u,colorScheme:Au},Fu={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},Uu={loader:Fu},Mu=Object.defineProperty,Lu=Object.defineProperties,ju=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Ju=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,Xe=(e,r,a)=>r in e?Mu(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,Ze,Gu=(Ze=((e,r)=>{for(var a in r||(r={}))Ju.call(r,a)&&Xe(e,a,r[a]);if(Ke)for(var a of Ke(r))Qu.call(r,a)&&Xe(e,a,r[a]);return e})({},nt),Lu(Ze,ju({components:{accordion:Ir,autocomplete:Lr,avatar:Hr,badge:rt,blockui:lt,breadcrumb:ut,button:pt,card:kt,carousel:Bt,cascadeselect:It,checkbox:Ot,chip:Mt,colorpicker:Gt,confirmdialog:Yt,confirmpopup:oa,contextmenu:sa,datatable:Ra,dataview:Na,datepicker:on,dialog:sn,divider:gn,dock:bn,drawer:Cn,editor:Rn,fieldset:In,fileupload:Un,floatlabel:Qn,galleria:li,iconfield:ci,iftalabel:fi,image:vi,imagecompare:yi,inlinemessage:$i,inplace:Ti,inputchips:qi,inputgroup:Ii,inputnumber:_i,inputotp:Fi,inputtext:Mi,knob:Gi,listbox:ol,megamenu:ul,menu:vl,menubar:$l,message:Pl,metergroup:Ul,multiselect:Kl,orderlist:es,organizationchart:ns,overlaybadge:ls,paginator:fs,panel:ys,panelmenu:Ss,password:qs,picklist:Ps,popover:_s,progressbar:Us,progressspinner:Ls,radiobutton:Qs,rating:Hs,ripple:Ks,scrollpanel:oc,select:uc,selectbutton:pc,skeleton:vc,slider:wc,speeddial:Sc,splitbutton:Tc,splitter:qc,stepper:Fc,steps:Qc,tabmenu:Xc,tabs:id,tabview:gd,tag:vd,terminal:xd,textarea:wd,tieredmenu:Ed,timeline:Od,toast:Qd,togglebutton:Kd,toggleswitch:ou,toolbar:tu,tooltip:iu,tree:gu,treeselect:xu,treetable:Vu,virtualscroller:Uu}})));const Wu=Rr(Gu,{semantic:{primary:{50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},colorScheme:{light:{primary:{color:"{zinc.950}",inverseColor:"#ffffff",hoverColor:"{zinc.900}",activeColor:"{zinc.800}"},highlight:{background:"{zinc.950}",focusBackground:"{zinc.700}",color:"#ffffff",focusColor:"#ffffff"}},dark:{primary:{color:"{zinc.50}",inverseColor:"{zinc.950}",hoverColor:"{zinc.100}",activeColor:"{zinc.200}"},highlight:{background:"rgba(250, 250, 250, .16)",focusBackground:"rgba(250, 250, 250, .24)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"}}}}}),Hu=L({name:"NotFoundView",setup(){const e=Yo();return()=>o("div",{class:"container"},[o("div",{class:["my-4rem"]}),o(V,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[o("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[o(M,{label:"go app",onClick:()=>{e.push({name:"app"})}}),o(M,{label:"go home",onClick:()=>{e.push({name:"home"})}}),o(M,{label:"go root",onClick:()=>{e.push({name:"root"})}})])]})])}});function Yu(e={}){const{threshold:r=50,topOffset:a=20,pixelsPerRem:t=16,immediate:i=!0,target:l=window,throttle:c=300}=e,n=q(!1),s=q(0),d=a*t,{y:p,isScrolling:f,arrivedState:u}=xr(l,{throttle:c,behavior:"smooth"}),g=q(null),x=()=>{g.value&&g.value(),g.value=ue(p,m=>{const v=m-s.value;v>r?n.value=!0:v<-r&&(n.value=!1),(m===0||m<d)&&(n.value=!1),s.value=m})},$=()=>{x()},B=()=>{g.value&&(g.value(),g.value=null)};return i&&(te($),ho(B)),{isCollapsed:n,scrollY:p,isScrolling:f,arrivedState:u,setup:$,cleanup:B,toggle:()=>{n.value=!n.value},collapse:()=>{n.value=!0},expand:()=>{n.value=!1}}}const Ku="SWOT",Xu="https://github.com/ziioai/swot",Zu="https://github.com/ziioai/swot",e0=[{label:"模型配置",name:"app-config",icon:"pi pi-cog"},{label:"SWOT",name:"app-train",icon:"pi pi-book"}],o0=[{label:"Reka",url:"https://reka-ui.com/docs/components/editable",target:"_blank"},{label:"shadcn/vue",url:"https://shadcn-vue.com/docs/installation/manual.html",target:"_blank"},{label:"Vite CN",url:"https://cn.vite.dev/guide/",target:"_blank"},{label:"Vite EN",url:"https://vite.dev/guide/",target:"_blank"},{label:"VitePress",url:"https://vitepress.dev/zh/guide/getting-started",target:"_blank"},{label:"Volta",url:"https://docs.volta.sh/guide/",target:"_blank"},{label:"tailwindcss",url:"https://tailwindcss.com/docs/installation/using-vite",target:"_blank"},{label:"Embla Carousel",url:"https://www.embla-carousel.com/examples/predefined/",target:"_blank"},{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB入门",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}],r0=L({name:"AppView",setup(){const{locale:e}=yo({useScope:"global"}),r=$o(),{toggle:a}=r,{isOn:t}=Ge(r),i=So(),{setLocale:l}=i,{availableLocales:c,locale:n}=Ge(i),s=q(e0),d=q(s.value[0].label),p=Ko();ue(()=>p.name,()=>{d.value=`${String(p.name??"")}`},{immediate:!0}),ue(()=>n==null?void 0:n.value,u=>{e!=null&&e.value!==u&&(e.value=u??"en")},{immediate:!0});const{isCollapsed:f}=Yu({threshold:25,topOffset:20,pixelsPerRem:12});return()=>{var u,g,x;return o("div",{class:["==bg-var-p-zinc-800 overflow-auto","py-1rem"]},[o("div",{class:[f.value?"top--6rem":"top-0","left-0","fixed z-100 w-100% min-h-2rem p-0.5rem","bg-white dark:bg-zinc-900 bg-opacity-60"],style:{"-webkit-backdrop-filter":"blur(8px) saturate(200%)","backdrop-filter":"blur(8px) saturate(200%)",transition:"top 0.5s ease-in-out"}},[o(dr,{class:["xl:max-w-1280px lg:max-w-1024px md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((u=window==null?void 0:window.location)==null?void 0:u.hostname)!="localhost=="?null:{label:"Dev Ref",icon:"pi pi-external-link",items:o0},((g=window==null?void 0:window.location)==null?void 0:g.hostname)!="localhost=="?null:{label:"Dev",icon:"pi pi-github",url:Xu,target:"_blank"},{label:"GitHub",icon:"pi pi-github",url:Zu,target:"_blank"},{label:"theme",icon:`pi pi-${t.value?"moon":"sun"}`,command:()=>{a()}},{label:n.value,icon:"pi pi-language",items:(x=c==null?void 0:c.value)==null?void 0:x.map($=>({label:$,icon:"pi pi-flag",command:()=>{l($,e)}}))}].filter($=>$!=null),pt:{rootList:{class:"ml-auto! ==flex-nowrap! ==overflow-x-auto!"}}},{start:()=>o("span",{class:"font-bold mx-0.5rem"},Ku)})]),o("div",{class:["z-80","my-5rem","md:rounded-0.5rem md:border-2 xl:max-w-1280px lg:max-w-1024px md:max-w-768px md:mx-auto","w-100% ==p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","min-h-80vh"]},[o(vo)])])}}}),R=L({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(e){const r=Zo("tooltip");return()=>{const{label:a,tip:t,command:i,class:l,tooltipProps:c,direction:n,focus:s,...d}=e;return t!=null&&t.length?Xo(o(M,{label:a,severity:"secondary",onClick:i,outlined:!0,...d,class:["p-var-p-button-padding-y!",l]}),[[r,{value:t??a,showDelay:300,hideDelay:300,...c},n??"bottom",{[n??"bottom"]:!0,focus:s}]]):o(M,{label:a,severity:"secondary",onClick:i,outlined:!0,...d,class:["p-var-p-button-padding-y!",l]})}}});var z=(e=>(e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.PREPARING_PAUSE=2]="PREPARING_PAUSE",e[e.PAUSED=3]="PAUSED",e[e.ABORTING=4]="ABORTING",e[e.ABORTED=5]="ABORTED",e[e.ENDED=6]="ENDED",e))(z||{});const t0=L({name:"NumberInputField",props:{label:{type:String,required:!0},modelValue:{type:Number,required:!0},description:{type:Function,required:!1},showButtons:{type:Boolean,default:!0},id:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:r}){return()=>{var a;return o("div",{class:"flex-auto"},[o("label",{class:"block mb-2",for:e.id},e.label),o(ur,{showButtons:e.showButtons,modelValue:e.modelValue,class:"w-100%",id:e.id,inputId:e.id,"onUpdate:modelValue":t=>r("update:modelValue",t)}),o("p",{class:"text-xs opacity-60 my-2"},(a=e==null?void 0:e.description)==null?void 0:a.call(e,e.modelValue))])}}}),eo=L({name:"TrainingControlPanel",props:{options:{type:Object,required:!1},state:{type:Object,required:!1},trainingStateText:{type:String,default:"未知状态"},isTraining:{type:Boolean,default:!1},isPaused:{type:Boolean,default:!1},isPreparingPause:{type:Boolean,default:!1},trainer:{type:Object,default:null}},emits:["start-training","continue-training","pause-training","cancel-pause","stop-training","reset-training","update:options","save-data"],setup(e,{emit:r}){const a=ge(),t=(v,w)=>{r("update:options",{[v]:w})},i=(v,w)=>{r("update:options",{[v]:w})},l=async()=>{r("save-data")},c=async()=>{await l()},n=async()=>{await l()},s=async()=>{await l()},d=async()=>{await l()},p=async()=>{await l()},f=async()=>{if(!e.trainer){r("start-training");return}a.add({severity:"info",summary:"开始训练",detail:"已经开始训练",life:1e3}),await e.trainer.start(c)},u=()=>{if(!e.trainer){r("reset-training");return}e.trainer.reset(n),a.add({severity:"info",summary:"重置训练",detail:"已经重置训练",life:1e3})},g=async()=>{if(!e.trainer){r("continue-training");return}a.add({severity:"info",summary:"继续训练",detail:"从暂停状态恢复训练",life:1e3}),await e.trainer.resume(c)},x=()=>{if(!e.trainer){r("pause-training");return}e.trainer.trainingState===z.RUNNING&&(e.trainer.requestPause({before:d,after:p}),a.add({severity:"info",summary:"准备暂停",detail:"等待当前批次完成后暂停",life:1e3}))},$=()=>{if(!e.trainer){r("cancel-pause");return}e.trainer.trainingState===z.PREPARING_PAUSE&&(e.trainer.cancelPauseRequest(s),a.add({severity:"info",summary:"取消暂停",detail:"已取消暂停请求",life:1e3}))},B=()=>{if(!e.trainer){r("stop-training");return}e.trainer.requestAbort("用户手动停止训练",{before:d,after:p}),a.add({severity:"info",summary:"停止训练",detail:"正在停止训练...",life:1e3})};function m(v,w,S){var D;return o(t0,{label:v,modelValue:((D=e==null?void 0:e.options)==null?void 0:D[w])??0,"onUpdate:modelValue":k=>t(w,k),description:S})}return()=>o("div",{class:"space-y-4"},[o(V,{header:"训练状态",toggleable:!0,collapsed:!1},{default:()=>o("div",{class:"flex flex-wrap gap-4"},[o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},[JSON.stringify(P.omit(e.state,["quStateDict","quDataDict","notebook","notebookEditPlan"]),null,2)]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},[JSON.stringify(e.options,null,2)])])}),o("div",{class:"space-y-3"},[o("div",{class:"flex items-center justify-between mb-2 p-2 rounded"},[o("span",{class:"font-medium"},"当前状态:"),o("span",{class:["px-2 py-1 rounded-lg text-white",{未知状态:"bg-gray-500",未开始:"bg-gray-500",训练中:"bg-green-500",准备暂停:"bg-orange-500",已暂停:"bg-yellow-500",中止中:"bg-red-500",已中止:"bg-gray-500",结束中:"bg-gray-500",已结束:"bg-gray-500"}[e.trainingStateText??""]??"bg-gray-500"]},e.trainingStateText)]),["未开始"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"primary",label:"开始",icon:"pi pi-play",class:"w-full",onClick:f}),["训练中"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"warning",label:"暂停",icon:"pi pi-pause",class:"w-full",onClick:x}),["准备暂停"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"info",label:"取消暂停",icon:"pi pi-times",class:"w-full",onClick:$}),["已暂停","已中止","已结束"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"info",label:"继续",icon:"pi pi-play",class:"w-full",onClick:g}),["已暂停"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"danger",label:"停止",icon:"pi pi-stop",class:"w-full",onClick:B}),["未开始","已暂停","已中止","已结束","未知状态"].includes(e.trainingStateText)&&o(R,{outlined:!1,severity:"danger",label:"重置",icon:"pi pi-refresh",class:"w-full",onClick:u})]),o(Be),o(V,{header:"题目标记阈值设置",toggleable:!0,collapsed:!0},{default:()=>o("div",{class:"flex flex-wrap gap-4"},[o("div",{},"一道题通常被视为【未跳过的非简单题】，除非它满足以下条件之一："),m("版本简单题阈值","versionSimpleThreshold",v=>`使用当前版本的笔记，某道题累计做了 ${v} 次且全都做对了，就会被判定为【版本简单题】，笔记更新前不再做这道题。`),m("总体简单题阈值","totalSimpleThreshold",v=>`在整个训练过程中，某道题累计做了 ${v} 次且全都做对了，就会被判定为【总体简单题】，训练过程中不再做这道题。`),m("版本困难题阈值","versionSkipThreshold",v=>`使用当前版本的笔记，某道题累计做错 ${v} 次，就会被判定为【版本难题】，笔记更新前不再做这道题。`),m("总体困难题阈值","totalSkipThreshold",v=>`在整个训练过程中，某道题累计做错 ${v} 次，就会被判定为【总体难题】，训练过程中不再做这道题。`)])}),o(V,{header:"训练过程参数设置",toggleable:!0,collapsed:!0},{default:()=>{var v;return o("div",{class:"flex flex-wrap gap-4"},[o("div",{class:"flex-auto mb-2 field-checkbox"},[o("div",{class:"flex items-center gap-2"},[o(fr,{id:"practiceOnlyMode",modelValue:((v=e==null?void 0:e.options)==null?void 0:v.practiceOnlyMode)??!1,binary:!0,"onUpdate:modelValue":w=>i("practiceOnlyMode",w)}),o("label",{class:"font-medium cursor-pointer",for:"practiceOnlyMode"},"仅做题模式（不更新笔记）")]),o("p",{class:"text-xs opacity-60 mt-1 ml-4"},"开启后只进行题目练习，不会对错题进行分析和更新笔记，节省资源和时间。")]),o(Be),m("并发数","batchSize",w=>`每次同时做 ${w} 道题。`),m("每题最做多少次","maxVerifyCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但有可能模型反复尝试后仍然无法达成这个目标，因此我们设置一次训练中每道题最做 ${w} 遍，否则就跳过这道题。此设置与【题目标记阈值】是相互补充的关系，谁先达成就执行谁。`),m("训练过程最多循环多少次","maxLoopCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但有可能模型反复修改笔记仍然无法达成这个目标，因此我们设置它最多把训练过程重复 ${w} 遍，避免无限循环。`),m("最大确证次数","maxCertifyCount",w=>`理想情况下，我们的训练目标是让模型能根据笔记把所有训练题都做对，但是只做对1次可能并不能让人放心，所以我们要进行"确证"，即每道题要做对 ${w} 次，才算是真的通过。`)])}})])}}),oo=L({name:"QuestionCard",props:{swot:{type:Object,required:!1},idx:{type:Number,required:!1},state:{type:String,required:!1},question:{type:Object,required:!0},judgeResponse:{type:Object,required:!1,default:null},response:{type:Object,required:!1,default:null},errorReport:{type:Object,required:!1,default:null},trainingState:{type:Object,required:!0}},emits:["analyze-error"],setup(e,{emit:r}){const a=()=>r("analyze-error",e.question.nnid),t=()=>e.trainingState.isSkipT?"总体难题":e.trainingState.isSkipV?"版本难题":e.trainingState.isSimpleT?"总体简单题":e.trainingState.isSimpleV?"版本简单题":"未跳过的非简单题",i={预备:"secondary",中断:"contrast",报错:"contrast",判断题型中:"secondary",做题中:"secondary",正确:"success",错误待分析:"contrast",错误分析中:"secondary",错误已分析:"warn",错误未分析:"danger","错误（仅做题模式）":"danger",太简单已跳过:"info",太困难已跳过:"danger",练够了已跳过:"info",验够了已跳过:"success"},l={预备:"未知",中断:"未知",报错:"未知",判断题型中:"未知",做题中:"未知",正确:"正确",错误待分析:"错误",错误分析中:"错误",错误已分析:"错误",错误未分析:"错误","错误（仅做题模式）":"错误",太简单已跳过:"跳过",太困难已跳过:"跳过",练够了已跳过:"跳过",验够了已跳过:"跳过"},c=Y({collapsed:!1});return()=>{var n;return o(V,{toggleable:!0,collapsed:c.collapsed||!["判断题型中","做题中","错误分析中","==错误已分析"].includes((n=e==null?void 0:e.trainingState)==null?void 0:n.stateText)},{header:()=>{var s,d;return o("div",{class:"stack-h items-center"},[o("div",{class:"font-bold"},[`[${e.idx??" "}] ${e.question.nnid}`]),o(Oe,{value:((s=e==null?void 0:e.trainingState)==null?void 0:s.stateText)??"预备",severity:i[((d=e==null?void 0:e.trainingState)==null?void 0:d.stateText)??"预备"]??"secondary",class:"ml-2"})])},default:()=>{var s,d,p,f,u,g,x,$,B,m,v;return o("div",{class:"stack-v"},[o(Oe,{value:t(),severity:"secondary"}),o("div",{class:[]},["题面字段"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[JSON.stringify(e.question.content,null,2)]),o("div",{class:[]},["答案字段"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.question.answer,null,2)]),((s=e.question)==null?void 0:s.explain)!=null&&[o("div",{class:[]},["解释字段"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[JSON.stringify(e.question.explain,null,2)])],o("div",{class:["mt-2 font-bold opacity-80"]},["题型判断"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((d=e==null?void 0:e.judgeResponse)==null?void 0:d.outputData)==null&&JSON.stringify((e==null?void 0:e.judgeResponse)??null),JSON.stringify(((p=e==null?void 0:e.judgeResponse)==null?void 0:p.outputData)??null,null,2)]),o("div",{class:["mt-2 font-bold opacity-80"]},["作答"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((f=e==null?void 0:e.response)==null?void 0:f.outputData)==null&&JSON.stringify((e==null?void 0:e.response)??null),JSON.stringify(((u=e==null?void 0:e.response)==null?void 0:u.outputData)??null,null,2)]),o("div",{class:["stack-h gap-1rem!"]},[o("div",{class:["stack-v"]},[o("div",{class:["mt-2 font-bold opacity-80"]},["参考答案"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.question.answer,null,2)])]),o("div",{class:["stack-v"]},[o("div",{class:["mt-2 font-bold opacity-80"]},["作答答案"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(((x=(g=e==null?void 0:e.response)==null?void 0:g.outputData)==null?void 0:x.answer)??null,null,2)])])]),o("div",{class:["mt-2 stack-h-center"]},[o("div",{class:["font-bold opacity-80"]},["正误："]),o(Oe,{value:l[(($=e==null?void 0:e.trainingState)==null?void 0:$.stateText)??"未知"]??"未知",severity:i[((B=e==null?void 0:e.trainingState)==null?void 0:B.stateText)??"预备"]??"secondary"})]),o("div",{class:["mt-2 font-bold opacity-80"]},["错误分析"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((m=e==null?void 0:e.errorReport)==null?void 0:m.outputData)==null&&JSON.stringify((e==null?void 0:e.errorReport)??null),JSON.stringify(((v=e==null?void 0:e.errorReport)==null?void 0:v.outputData)??null,null,2)]),o("div",{class:["mt-2 font-bold opacity-80"]},[o(R,{label:"手动更新笔记",icon:"pi pi-save",class:"mr-0.5rem",onClick:a})]),o("div",{class:["mt-2 font-bold opacity-80"]},["状态"]),o("div",{class:[]},[`版本 : 做了 ${e.trainingState.trainedCountV??0} 次，正确 ${e.trainingState.correctCountV??0} 次，错误 ${e.trainingState.errorCountV??0} 次`]),o("div",{class:[]},[`总计 : 做了 ${e.trainingState.trainedCountT??0} 次，正确 ${e.trainingState.correctCountT??0} 次，错误 ${e.trainingState.errorCountT??0} 次`]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%"]},[JSON.stringify(e.trainingState,null,2)])])}})}}}),ro=L({name:"CurrentNotePanel",props:{version:{type:String,required:!1},note:{type:Object,required:!1},notebookEditPlan:{type:Object,required:!1}},emits:["save-note"],setup(e,{emit:r}){return()=>{const a=()=>{var t,i;return o("div",{class:["stack-v"]},[(i=(t=e==null?void 0:e.note)==null?void 0:t.entries)==null?void 0:i.map((l,c)=>o("div",{key:`[${c}]${l==null?void 0:l.name}`,class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%",l!=null&&l.deleted?"bg-red-100/75! border-l-4 border-l-red-500":"bg-zinc-100/75! dark:bg-zinc-800/75!"]},[o("div",{class:["mt-2 font-bold opacity-80"]},[(l==null?void 0:l.deleted)&&o("i",{class:"pi pi-trash mr-2 text-red-500"}),o("span",{class:l!=null&&l.deleted?"line-through text-red-600":""},[`【${l==null?void 0:l.name}】`]),(l==null?void 0:l.deleted)&&o("span",{class:"ml-2 text-xs bg-red-100 text-red-600 py-0.5 px-1 rounded"},["已删除"])]),o("div",{class:["mt-2 font-bold opacity-80"]},["name,desc,clue"]),JSON.stringify(P.pick(l??null,["name","desc","clue"]),null,2),o("div",{class:["mt-2 font-bold opacity-80"]},["steps"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"]},[JSON.stringify((l==null?void 0:l.steps)??null,null,2)]),o("div",{class:["mt-2 font-bold opacity-80"]},["tips"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"]},[JSON.stringify((l==null?void 0:l.tips)??null,null,2)]),o("div",{class:["mt-2 font-bold opacity-80"]},["tools"]),((l==null?void 0:l.tools)??[]).map((n,s)=>o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"],key:`[${s}]${n==null?void 0:n.name}`},[JSON.stringify(n)])),o("div",{class:["mt-2 font-bold opacity-80"]},["datums"]),((l==null?void 0:l.datums)??[]).map((n,s)=>o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","w-100%"],key:`[${s}][${n==null?void 0:n.idx}][${n==null?void 0:n.query}]`},[JSON.stringify(n)]))]))])};return o(V,{toggleable:!0},{header:()=>o("div",{class:"stack-h items-center"},[o("div",{class:"font-bold"},[(e==null?void 0:e.version)??"???"])]),default:()=>{var t,i;return o("div",{class:[]},[o("div",{class:[]},[o("div",{class:["mt-2 font-bold opacity-80"]},["笔记修改计划"]),o("div",{class:["p-panel p-0.5rem","flex-auto whitespace-pre-wrap overflow-auto","bg-zinc-100/75!","dark:bg-zinc-800/75!","w-100%","max-h-12rem"]},[((t=e==null?void 0:e.notebookEditPlan)==null?void 0:t.outputData)==null&&JSON.stringify((e==null?void 0:e.notebookEditPlan)??null),JSON.stringify(((i=e==null?void 0:e.notebookEditPlan)==null?void 0:i.outputData)??null,null,2)])]),o("div",{class:["mt-2 font-bold opacity-80"]},["笔记内容"]),o("div",{class:["overflow-auto","max-h-80vh"]},[a()]),o("div",{class:["mt-2 font-bold opacity-80"]},[o(R,{label:"手动保存版本",icon:"pi pi-save",class:"mr-0.5rem",onClick:()=>r("save-note")}),o(R,{label:"复制",icon:"pi pi-copy",class:"mr-0.5rem",onClick:()=>{nr.copy(JSON.stringify({version:(e==null?void 0:e.version)??null,notebook:(e==null?void 0:e.note)??null},null,2))}})])])}})}}}),Le=new Co("DB-of-SWOT-Demo");Le.version(1).stores({kvs:"++id, &key, value",chatRecords:"++id, &key",qtBookBackups:"++id, &key"});Le.version(2).stores({kvs:"++id, &key, value",chatRecords:"++id, &key, isMarked",qtBookBackups:"++id, &key, isMarked"});const N=Le,Se=async e=>{var a;const r=(a=await N.kvs.get({key:e}))==null?void 0:a.value;return r==null?null:oe.parse(r)},de=async(e,r)=>{const a=oe.stringify(r);await N.kvs.put({id:e,key:e,value:a})},Bo=async e=>await N.chatRecords.put(P.cloneDeep(e)),to=async(e=0,r=10)=>await N.chatRecords.orderBy("id").reverse().offset(e).limit(r).toArray(),_e=async()=>await N.chatRecords.count(),a0=async e=>(await N.chatRecords.delete(e),!0),Te=async e=>await Bo({key:ae(12),data:e}),Re=e=>{var a,t;const r=P.cloneDeep(e);return r!=null&&r.outputData&&typeof r.outputData!="string"&&(r.outputSpans=void 0),r!=null&&r.thinkingData&&typeof r.thinkingData!="string"&&(r.thinkingSpans=void 0),(a=r==null?void 0:r.outputSpans)!=null&&a.length||(r.outputSpans=void 0),(t=r==null?void 0:r.thinkingSpans)!=null&&t.length||(r.thinkingSpans=void 0),r},ao=async(e=0,r=10)=>{const a=performance.now();try{const t=window.performance.memory?window.performance.memory.usedJSHeapSize:"Not available";console.log(`
开始获取备份数据 (offset=${e}, limit=${r})`);const i=await N.qtBookBackups.orderBy("id").reverse().offset(e).limit(r).toArray(),c=performance.now()-a,n=window.performance.memory?window.performance.memory.usedJSHeapSize:"Not available";if(console.log(`获取备份数据成功: ${i.length} 条记录`),console.log(`获取备份数据耗时: ${c.toFixed(2)} ms`),t!=="Not available"){const s=n-t;console.log(`内存使用变化: ${ne(s)} (${ne(t)} -> ${ne(n)})`)}return i}catch(t){const i=performance.now();throw console.error(`获取备份数据失败，耗时 ${(i-a).toFixed(2)} ms`,t),t}},Ae=async()=>{console.log("获取备份数据计数");const e=performance.now();try{const r=await N.qtBookBackups.count(),t=performance.now()-e;return console.log(`获取备份数据计数成功: ${r} 条记录`),console.log(`获取备份数据计数耗时: ${t.toFixed(2)} ms`),r}catch(r){const a=performance.now();throw console.error(`获取备份数据计数失败，耗时 ${(a-e).toFixed(2)} ms`,r),r}},n0=async e=>(await N.qtBookBackups.delete(e),!0),xe=async(e,r)=>{r=r??(e==null?void 0:e.version)??(e==null?void 0:e.notebookVersion)??ae();const a=await N.qtBookBackups.get({key:r});return a!=null?(await N.qtBookBackups.update(a.id,{key:r,data:P.cloneDeep(e)}),a.id):await N.qtBookBackups.put({key:r,data:P.cloneDeep(e)})},no=async()=>{console.log(`
开始获取存储信息`);const e=performance.now();try{const r=await N.kvs.count(),a=await N.chatRecords.count(),t=await N.qtBookBackups.count();if(navigator.storage&&navigator.storage.estimate){const i=await navigator.storage.estimate(),l=i.usage||0,c=i.quota||0,n=c?l/c*100:0,d=performance.now()-e;return console.log(`获取存储信息成功: ${ne(l)} / ${ne(c)}`),console.log(`存储使用百分比: ${n.toFixed(2)}%`),console.log(`KVS 表记录数: ${r}`),console.log(`ChatRecords 表记录数: ${a}`),console.log(`QtBookBackups 表记录数: ${t}`),console.log(`总记录数: ${r+a+t}`),console.log(`获取存储信息耗时: ${d.toFixed(2)} ms`),{total:{bytes:l,formatted:ne(l),percentUsed:n.toFixed(2)+"%",quota:{bytes:c,formatted:ne(c)}},tableCounts:{kvs:r,chatRecords:a,qtBookBackups:t,total:r+a+t}}}else{const l=performance.now()-e;return console.log("获取存储信息失败: 浏览器不支持 StorageManager API"),console.log(`获取存储信息耗时: ${l.toFixed(2)} ms`),{total:{bytes:0,formatted:"未知 (浏览器不支持存储估算)",percentUsed:"未知",quota:{bytes:0,formatted:"未知"}},tableCounts:{kvs:r,chatRecords:a,qtBookBackups:t,total:r+a+t},unsupported:!0}}}catch(r){console.error("获取存储信息时出错:",r);const t=performance.now()-e;return console.log(`获取存储信息失败，耗时 ${t.toFixed(2)} ms`),{error:!0,message:`获取存储信息失败: ${(r==null?void 0:r.message)||"未知错误"}`}}};function ne(e){if(e===0)return"0 Bytes";const r=1024,a=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,t)).toFixed(2))+" "+a[t]}const i0=async(e,r)=>{console.log(`更新对话记录标记状态: ID=${e}, isMarked=${r}`);const a=performance.now();try{if(!await N.chatRecords.get(e))return console.error(`对话记录不存在: ID=${e}`),null;await N.chatRecords.update(e,{isMarked:r});const i=performance.now();return console.log(`更新对话记录标记状态成功: ID=${e}, 耗时: ${(i-a).toFixed(2)} ms`),e}catch(t){const i=performance.now();throw console.error(`更新对话记录标记状态失败: ID=${e}, 耗时: ${(i-a).toFixed(2)} ms`,t),t}},l0=async(e,r)=>{console.log(`更新笔记备份标记状态: ID=${e}, isMarked=${r}`);const a=performance.now();try{if(!await N.qtBookBackups.get(e))return console.error(`笔记备份不存在: ID=${e}`),null;await N.qtBookBackups.update(e,{isMarked:r});const i=performance.now();return console.log(`更新笔记备份标记状态成功: ID=${e}, 耗时: ${(i-a).toFixed(2)} ms`),e}catch(t){const i=performance.now();throw console.error(`更新笔记备份标记状态失败: ID=${e}, 耗时: ${(i-a).toFixed(2)} ms`,t),t}},io=async(e,r={})=>{const{batchSize:a=100,progressCallback:t}=r;console.log("开始批量删除对话记录: 条件=",e,`批大小=${a}`);const i=performance.now();try{const l=await N.chatRecords.count();if(l===0)return console.log("数据库中无记录，无需删除"),0;let c=0,n=0,s=Date.now();if(typeof e!="function"&&"isMarked"in e){const p=e.isMarked;let f=[];if(p===!0?f=await N.chatRecords.filter(g=>g.isMarked===!0).toArray():f=await N.chatRecords.filter(g=>g.isMarked!==!0).toArray(),f.length===0)return console.log(`没有找到符合条件(isMarked=${p})的记录，无需删除`),0;const u=f.map(g=>g.id);for(let g=0;g<u.length;g+=a){const x=u.slice(g,g+a);await N.chatRecords.bulkDelete(x),c+=x.length,n+=x.length;const $=Date.now();t&&($-s>1e3||n===l)&&(t(n,l),s=$),console.log(`批量删除进度: ${n}/${l} (${(n/l*100).toFixed(2)}%), 已删除: ${c}`)}}else{let p=!0,f=[];for(;p;){f=await N.chatRecords.offset(n).limit(a).toArray(),f.length<a&&(p=!1);const u=typeof e=="function"?f.filter(e):[];if(n+=f.length,u.length>0){const x=u.map($=>$.id);await N.chatRecords.bulkDelete(x),c+=u.length}const g=Date.now();t&&(g-s>1e3||!p)&&(t(n,l),s=g),console.log(`批量处理进度: ${n}/${l} (${(n/l*100).toFixed(2)}%), 已删除: ${c}`)}}const d=performance.now();return console.log(`批量删除对话记录成功: 共删除了${c}条记录, 耗时: ${(d-i).toFixed(2)} ms`),c}catch(l){const c=performance.now();throw console.error(`批量删除对话记录失败, 耗时: ${(c-i).toFixed(2)} ms`,l),l}},lo=async(e,r={})=>{const{batchSize:a=100,progressCallback:t}=r;console.log("开始批量删除笔记备份: 条件=",e,`批大小=${a}`);const i=performance.now();try{const l=await N.qtBookBackups.count();if(l===0)return console.log("数据库中无笔记备份记录，无需删除"),0;let c=0,n=0,s=Date.now();if(typeof e!="function"&&"isMarked"in e){const p=e.isMarked;let f=[];if(p===!0?f=await N.qtBookBackups.filter(g=>g.isMarked===!0).toArray():f=await N.qtBookBackups.filter(g=>g.isMarked!==!0).toArray(),f.length===0)return console.log(`没有找到符合条件(isMarked=${p})的笔记备份记录，无需删除`),0;const u=f.map(g=>g.id);for(let g=0;g<u.length;g+=a){const x=u.slice(g,g+a);await N.qtBookBackups.bulkDelete(x),c+=x.length,n+=x.length;const $=Date.now();t&&($-s>1e3||n===l)&&(t(n,l),s=$),console.log(`批量删除笔记备份进度: ${n}/${l} (${(n/l*100).toFixed(2)}%), 已删除: ${c}`)}}else{let p=!0,f=[];for(;p;){f=await N.qtBookBackups.offset(n).limit(a).toArray(),f.length<a&&(p=!1);const u=typeof e=="function"?f.filter(e):[];if(n+=f.length,u.length>0){const x=u.map($=>$.id);await N.qtBookBackups.bulkDelete(x),c+=u.length}const g=Date.now();t&&(g-s>1e3||!p)&&(t(n,l),s=g),console.log(`批量处理笔记备份进度: ${n}/${l} (${(n/l*100).toFixed(2)}%), 已删除: ${c}`)}}const d=performance.now();return console.log(`批量删除笔记备份成功: 共删除了${c}条记录, 耗时: ${(d-i).toFixed(2)} ms`),c}catch(l){const c=performance.now();throw console.error(`批量删除笔记备份失败, 耗时: ${(c-i).toFixed(2)} ms`,l),l}},s0=async(e={})=>{const{progressCallback:r,useClear:a=!1}=e;console.log(`开始删除所有对话记录 ${a?"(使用clear方法)":"(使用批量删除)"}`);const t=performance.now();try{const i=await N.chatRecords.count();if(i===0)return console.log("数据库中无记录，无需删除"),0;if(a){await N.chatRecords.clear(),r&&r(i,i);const l=performance.now();return console.log(`删除所有对话记录成功: 删除了${i}条记录, 耗时: ${(l-t).toFixed(2)} ms`),i}else{let c=0,n=Date.now();for(;c<i;){const d=await N.chatRecords.orderBy("id").limit(1e3).primaryKeys();if(d.length>0){await N.chatRecords.bulkDelete(d),c+=d.length;const p=Date.now();r&&(p-n>1e3||c>=i)&&(r(c,i),n=p),console.log(`删除进度: ${c}/${i} (${(c/i*100).toFixed(2)}%)`)}else break}const s=performance.now();return console.log(`批量删除所有对话记录成功: 删除了${c}条记录, 耗时: ${(s-t).toFixed(2)} ms`),c}}catch(i){const l=performance.now();throw console.error(`删除所有对话记录失败, 耗时: ${(l-t).toFixed(2)} ms`,i),i}},c0=async(e={})=>{const{progressCallback:r,useClear:a=!1}=e;console.log(`开始删除所有笔记备份 ${a?"(使用clear方法)":"(使用批量删除)"}`);const t=performance.now();try{const i=await N.qtBookBackups.count();if(i===0)return console.log("数据库中无笔记备份记录，无需删除"),0;if(a){await N.qtBookBackups.clear(),r&&r(i,i);const l=performance.now();return console.log(`删除所有笔记备份成功: 删除了${i}条记录, 耗时: ${(l-t).toFixed(2)} ms`),i}else{let c=0,n=Date.now();for(;c<i;){const d=await N.qtBookBackups.orderBy("id").limit(1e3).primaryKeys();if(d.length>0){await N.qtBookBackups.bulkDelete(d),c+=d.length;const p=Date.now();r&&(p-n>1e3||c>=i)&&(r(c,i),n=p),console.log(`删除笔记备份进度: ${c}/${i} (${(c/i*100).toFixed(2)}%)`)}else break}const s=performance.now();return console.log(`批量删除所有笔记备份成功: 删除了${c}条记录, 耗时: ${(s-t).toFixed(2)} ms`),c}}catch(i){const l=performance.now();throw console.error(`删除所有笔记备份失败, 耗时: ${(l-t).toFixed(2)} ms`,i),i}};class d0{constructor(r){this.loadFromDict(r),this._api=new Cr({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0})}loadFromDict(r){this.baseURL=(r==null?void 0:r.baseURL)??(r==null?void 0:r.baseUrl)??"https://api.openai.com/v1",this.apiKey=(r==null?void 0:r.apiKey)??"",this.defaultModel=(r==null?void 0:r.defaultModel)??"deepseek-chat",this.modelsURL=(r==null?void 0:r.modelsURL)??(r==null?void 0:r.modelsUrl)??"/models"}setAPIKey(r){this.apiKey=r,this._api.apiKey=r}setBaseURL(r){this.baseURL=r,this._api.baseURL=r}setModelsUrl(r){this.modelsURL=r}async listModels(){const r=await fetch(`${this.baseURL}${this.modelsURL}`,{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}async createChat__(r,a){return this._api.chat.completions.create(r,a)}async fetchChatResponse(r,a){return await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,...(a==null?void 0:a.headers)??{}},body:JSON.stringify(r)})}async createChat(r,a){const t=await this.fetchChatResponse(r,a);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}async*createChatStream(r,a){var t;try{const i=await this.fetchChatResponse(r,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=i.body.getReader(),c=new TextDecoder("utf-8");let n="";for(;;){const{done:s,value:d}=await l.read();if(s)break;const p=c.decode(d,{stream:!0});n+=p;const f=n.split(`
`);n=f.pop()??"";for(const u of f)if((t=u.trim())!=null&&t.length&&u.trim()!=": keep-alive")try{const g=u.trim().slice(5).trim();if(g=="[DONE]"){yield{done:!0};continue}yield JSON.parse(g)}catch(g){console.error("Error parsing JSON:",g,u)}}}catch(i){throw console.error("Error streaming LLM JSON data:",i),i}}async*chatStream(r,a=void 0,t=[],i={},l=!1){var c,n;for await(const s of this.createChatStream({model:this.defaultModel,messages:[...a!=null&&a.length?[{role:"system",content:a}]:[],...t??[],...l?[]:[{role:"user",content:r}]],temperature:.6,stream:!0,...i??{}})){const d=(n=(c=s==null?void 0:s.choices)==null?void 0:c[0])==null?void 0:n.delta;if(d!=null&&(yield d),s.done){yield{done:!0};break}}}async chat(r,a=void 0,t=[],i={}){var l;const c=await this.createChat({model:this.defaultModel,messages:[...a!=null&&a.length?[{role:"system",content:a}]:[],...t??[],{role:"user",content:r}],temperature:.6,...i??{}}),{choices:n=[]}=c;return(l=n==null?void 0:n[0])==null?void 0:l.message}async*chatWithLifeCycle(r,a,t,i,l){const{chunkProcessor:c,resultProcessor:n,onStart:s,onBeforeUpdate:d,onAfterUpdate:p,onDone:f,onEnd:u,onCancel:g,onErrorInUpdate:x,onError:$,shouldContinue:B}=l??{};let m="initialization",v=P.cloneDeep(t),w,S=-1;m="beforeStart";const D=await(s==null?void 0:s({result:v}));m="afterStart",v=(D==null?void 0:D.result)??v;try{m="beforeLoop";for await(let y of this.chatStream("",r,a,i,!0))try{if(S+=1,y==null)continue;m=`beforeBeforeUpdate_${S}`;const E=await(d==null?void 0:d({result:v,chunk:y,idx:S}));v=(E==null?void 0:E.result)??v,y=(E==null?void 0:E.chunk)??y,m=`beforeChunkProcessor_${S}`,w=await(c==null?void 0:c(v,y)),yield{result:v,chunk:y,processedChunk:w},m=`beforeAfterUpdate_${S}`;const O=await(p==null?void 0:p({result:v,chunk:y,processedChunk:w,idx:S}));if(v=(O==null?void 0:O.result)??v,y=(O==null?void 0:O.chunk)??y,w=(O==null?void 0:O.processedChunk)??w,m=`afterAfterUpdate_${S}`,y!=null&&y.done){m=`beforeDone_${S}`;const F=await(f==null?void 0:f({result:v,chunk:y,processedChunk:w}));v=(F==null?void 0:F.result)??v,y=(F==null?void 0:F.chunk)??y,w=(F==null?void 0:F.processedChunk)??w,m=`afterDone_${S}`;break}if(B!=null&&!await B({result:v,chunk:y,processedChunk:w,idx:S})){m=`beforeCancel_${S}`,await(g==null?void 0:g({result:v,chunk:y,processedChunk:w,idx:S})),m=`afterCancel_${S}`;break}}catch(E){if(await(x==null?void 0:x({error:E,result:v,chunk:y,processedChunk:w,idx:S,state:m})))continue;throw E}m="afterLoop",m="beforeFinalResult";const k=await(n==null?void 0:n(v));return m="beforeEnd",await(u==null?void 0:u({finalResult:k,result:v,processedChunk:w,idx:S})),m="afterEnd",k}catch(k){if(!await($==null?void 0:$({error:k,result:v,processedChunk:w,idx:S,state:m})))throw console.error("Stream processing error:",k),new Error(`Chat stream failed: ${k.message}`)}}}const je=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"阿里云百炼",type:"ChatSupplier",desc:"阿里云百炼",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"智增增",type:"ChatSupplier",desc:"智增增",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"硅基流动",type:"ChatSupplier",desc:"硅基流动",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"智谱清言",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()}];wo({breaks:!0,linkify:!0});const To=new Co("DBOfPureKnowDemo");To.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title",demoEntries:"++id, input"});const Ro=To,Ue=async e=>{var a;const r=(a=await Ro.kvs.get({key:e}))==null?void 0:a.value;return r==null?null:oe.parse(r)},ye=async(e,r)=>{const a=oe.stringify(r);await Ro.kvs.put({id:e,key:e,value:a})},re=async e=>new Promise(r=>{setTimeout(()=>{r({})},e)}),u0=async(e,r)=>{var i;const a=r.apiKeyDict,t=r.supplierModelsDict;try{const l=`Bearer ${a[e.name]}`;console.log({supplier:e,apiKeyDict:a,Authorization:l});let c;try{const d=await fetch(`${e.baseUrl}${e.modelsUrl}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);c={data:await d.json()},console.log(c)}catch(d){try{const p=await fetch(`${e.baseUrl}${e.modelsUrl}`,{headers:{Authorization:l}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);c={data:await p.json()},console.log(c)}catch(p){console.warn(d),console.warn(p)}}let n=((i=c==null?void 0:c.data)==null?void 0:i.data)??[];console.log({models:n}),n!=null&&n.length||(n=(e==null?void 0:e.models)??[]);const s={...t};s[e.name]=n,r.supplierModelsDict=s,ye("supplierForm",r)}catch(l){console.warn(l)}};async function f0(e,r,a,t,i={},l=null,c,n,s,d){var m,v,w,S,D,k,y,E,O,F;const p=(w=(v=r==null?void 0:r.selectedModelDict)==null?void 0:v[(m=r==null?void 0:r.selectedSupplier)==null?void 0:m.name])==null?void 0:w.name,f=(D=(S=a==null?void 0:a.trim)==null?void 0:S.call(a))!=null&&D.length?`${p=="free:QwQ-32B"?`这是一个简单任务，请不要过度思考，尽量直接输出答案。

----------

`:""}${a}${p=="free:QwQ-32B"?`

----------

这是一个简单任务，请不要过度思考，尽量直接输出答案。`:""}`:"",u={chunkProcessor:async(h,A)=>(await(n==null?void 0:n(e,i,h,A)),A),resultProcessor:async h=>(await(s==null?void 0:s(e,i,h)),h),onAfterUpdate:async()=>{await(d==null?void 0:d())}};await(c==null?void 0:c(e,i));const g={baseURL:(k=r==null?void 0:r.selectedSupplier)==null?void 0:k.baseUrl,apiKey:r==null?void 0:r.apiKeyDict[(y=r==null?void 0:r.selectedSupplier)==null?void 0:y.name],defaultModel:(F=(O=r==null?void 0:r.selectedModelDict)==null?void 0:O[(E=r==null?void 0:r.selectedSupplier)==null?void 0:E.name])==null?void 0:F.name},x=new d0(g),$={},B=x.chatWithLifeCycle(f,[{role:"user",content:t(e)}],$,l??{max_tokens:2e3,temperature:1},u);for await(const h of B);}const g0=async e=>{e.processing=!0,e.thinkingSpans=[],e.outputSpans=[]};async function Ne(e,r,a,t,i,l,c=p0){var d,p,f;const n={},s=(f=(p=t==null?void 0:t.selectedModelDict)==null?void 0:p[(d=t==null?void 0:t.selectedSupplier)==null?void 0:d.name])==null?void 0:f.name;await f0(a,t,e,r,n,Object.assign({max_tokens:s=="free:QwQ-32B"?8e3:4e3,model:s,temperature:1},{}),g0,async(u,g,x,$)=>{$.reasoning_content&&u.thinkingSpans.push($.reasoning_content),$.content&&u.outputSpans.push($.content)},c,async()=>{await(l==null?void 0:l()),a.processing=!1})}async function p0(e,r,a){const t=e.outputSpans.join("");console.log(e.outputSpans),console.log(t);const i=m0(t);console.log(i),P.isString(i)||(e.outputData=i)}const m0=e=>{const r=e.trim().replace(/\<think\>[\s\S]*\<\/think\>/g,"").trim().replace(/^```[^\n]*|```$/g,"").trim();try{return We.parse(r)}catch(a){try{return We.parse(r.slice(1))}catch(t){return console.error({error1:a,error2:t}),r}}},so=L({name:"NoteHistoryPanel",props:{currentVersion:{type:String,required:!1}},emits:["select-version"],setup(e,{emit:r}){const a=q([]),t=q(!1),i=q(0),l=q(0),c=q(10),n=q(!1),s=q(!1),d=q(""),p=q(""),f=q(()=>Promise.resolve()),u=q(!1),g=q(0),x=q(""),$=q(null),B=q(!1),m=async(b=!0)=>{if(t.value){console.warn("[loadBackups] Loading already in progress, skipping new load request");return}t.value=!0;try{const T=await new Promise(I=>{window.requestIdleCallback?window.requestIdleCallback(()=>{ao(l.value,c.value).then(I)}):ao(l.value,c.value).then(I)});if(a.value=T||[],b){const I=await new Promise(_=>{window.requestIdleCallback?window.requestIdleCallback(()=>{Ae().then(_)}):Ae().then(_)});i.value=I}}catch(T){console.error("Failed to load notebook backups:",T)}finally{t.value=!1}},v=b=>{l.value=b.first,c.value=b.rows,m(!1)},w=async()=>{t.value=!0;try{const b=await Ae();i.value=b,t.value=!1;const T=Math.floor(l.value/c.value),I=Math.ceil(b/c.value);b===0?l.value=0:T>=I&&(l.value=(I-1)*c.value),m(!1)}catch(b){t.value=!1,console.error("Failed to reload notebook backups:",b),m(!0)}},S=b=>{r("select-version",b)},D=b=>{$.value=b,B.value=!0},k=(b,T,I)=>{d.value=b,p.value=T,f.value=I,s.value=!0},y=async()=>{s.value=!1,await f.value()},E=async b=>{try{const T=!(b.isMarked??!1);await l0(b.id,T);const I=a.value.findIndex(_=>_.id===b.id);I!==-1&&(a.value[I].isMarked=T,a.value=[...a.value])}catch(T){console.error("Failed to mark/unmark backup:",T)}},O=async b=>{k("确认删除",`确定要删除版本 ${b.key} 吗？`,async()=>{try{await n0(b.id),w()}catch(T){console.error("Failed to delete backup:",T)}})},F=()=>{k("确认批量删除","确定要删除所有已标记的笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,g.value=0,x.value="正在删除已标记的笔记版本...";try{await lo({isMarked:!0},{progressCallback:(b,T)=>{g.value=Math.round(b/T*100)}})}catch(b){console.error("Failed to delete marked backups:",b)}finally{u.value=!1,w()}})},h=()=>{k("确认批量删除","确定要删除所有未标记的笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,g.value=0,x.value="正在删除未标记的笔记版本...";try{await lo({isMarked:!1},{progressCallback:(b,T)=>{g.value=Math.round(b/T*100)}})}catch(b){console.error("Failed to delete unmarked backups:",b)}finally{u.value=!1,w()}})},A=()=>{k("确认批量删除","确定要删除所有笔记版本吗？此操作不可恢复！",async()=>{u.value=!0,g.value=0,x.value="正在删除所有笔记版本...";try{await c0({progressCallback:(b,T)=>{g.value=Math.round(b/T*100)}})}catch(b){console.error("Failed to delete all backups:",b)}finally{u.value=!1,w()}})},U=b=>{var I;return(I=b==null?void 0:b.data)!=null&&I.entries&&b.data.entries.filter(_=>!_.deleted).map(_=>_.name).join(", ")||"无题型"},C=b=>b!=null&&b.data?JSON.stringify(b.data).length:0;return te(async()=>{await re(1500),setTimeout(async()=>{await m(),n.value=!0},1e3)}),()=>o(V,{toggleable:!0,collapsed:!1},{header:()=>o("div",{class:"stack-h items-center! justify-between w-full"},[o("div",{class:"font-bold"},["笔记历史版本"])]),default:()=>o("div",{class:[]},[o("div",{class:["stack-h mb-2 flex-wrap"]},[o(R,{label:"刷新",icon:"pi pi-refresh",class:"mr-0.5rem",loading:t.value,onClick:w}),o("div",{class:"flex gap-1 ml-auto"},[o(R,{label:"删除已标记",icon:"pi pi-trash",disabled:t.value,onClick:F}),o(R,{label:"删除未标记",icon:"pi pi-trash",disabled:t.value,onClick:h}),o(R,{label:"删除全部",icon:"pi pi-trash",disabled:t.value,onClick:A})])]),u.value&&o("div",{class:"my-2"},[o("div",{class:"text-sm mb-1"},[x.value]),o(gr,{value:g.value,showValue:!0})]),(!n.value||t.value)&&o("div",{class:"my-2 text-center"},["加载中..."]),n.value&&!t.value&&o("div",{class:"border-1 border-gray-200 dark:border-gray-700 rounded overflow-hidden"},[o("div",{class:"stack-h bg-gray-100 dark:bg-gray-800 p-2 font-bold border-b-1 dark:border-gray-700"},[o("div",{class:"flex-1 text-center"},["编号"]),o("div",{class:"flex-1 text-center"},["版本标识"]),o("div",{class:"flex-1 text-center"},["题型与字符数"]),o("div",{class:"flex-1 text-center"},["标记"]),o("div",{class:"flex-1 text-center"},["操作"])]),a.value.length===0?o("div",{class:"p-4 text-center text-gray-500 dark:text-gray-400"},["没有历史记录"]):a.value.map(b=>o("div",{key:b.id,class:"stack-h p-3 border-b-1 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 items-center!"},[o("div",{class:"flex-1 text-center"},[`${b.id}`]),o("div",{class:"flex-1 text-center"},[b.key]),o("div",{class:"flex-1"},[o("div",{class:"text-sm whitespace-normal"},[`题型: ${U(b)}`]),o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[`字符数: ${C(b)}`])]),o("div",{class:"flex-1 flex justify-center"},[o(R,{icon:b.isMarked?"pi pi-check-circle":"pi pi-circle",tip:b.isMarked?"取消标记":"标记此版本",class:b.isMarked?"p-button-success":"p-button-secondary",onClick:()=>E(b)})]),o("div",{class:"flex-1 flex justify-center gap-2"},[o(R,{icon:"pi pi-eye",tip:"查看详情",onClick:()=>D(b)}),o(R,{icon:"pi pi-arrow-right-arrow-left",tip:"加载此版本到当前状态",onClick:()=>S(b)}),o(R,{icon:"pi pi-trash",tip:"删除此版本",class:"p-button-danger",onClick:()=>O(b)})])]))]),n.value&&o(ko,{first:l.value,rows:c.value,totalRecords:i.value,rowsPerPageOptions:[5,10,20],template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPage:v,class:"mt-2"}),o(fe,{header:d.value,visible:s.value,modal:!0,closable:!0,style:{width:"450px"},onHide:()=>{s.value=!1}},{default:()=>[o("div",{class:"p-4"},[o("p",{},[p.value])]),o("div",{class:"flex justify-end p-3 pt-0 gap-2"},[o(M,{label:"取消",class:"p-button-text",onClick:()=>{s.value=!1}}),o(M,{label:"确认",class:"p-button-danger",onClick:y})])]}),o(fe,{header:"笔记版本详情",visible:B.value,style:{width:"80vw"},modal:!0,"onUpdate:visible":b=>{B.value=b}},{default:()=>{var b;return $.value&&o("div",{class:"p-3"},[o("h3",{class:"mb-2 font-bold"},[`ID: ${$.value.id} | 标识: ${$.value.key}`]),(b=$.value.data)!=null&&b.entries&&Array.isArray($.value.data.entries)?o("div",{class:"mb-4"},[o("h4",{class:"font-bold mb-2"},["题型列表"]),...$.value.data.entries.map((T,I)=>o("div",{key:I,class:`p-3 mb-2 rounded ${T.deleted?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"}`},[o("div",{class:"font-bold mb-1 flex items-center"},[T.deleted&&o("i",{class:"pi pi-trash mr-2 text-red-500"}),o("span",{class:T.deleted?"line-through text-red-600":""},[`【${T==null?void 0:T.name}】`]),T.deleted&&o("span",{class:"ml-2 text-xs bg-red-100 text-red-600 py-0.5 px-1 rounded"},["已删除"])]),o("div",{class:"text-sm mb-1"},[`描述: ${T.desc||"无"}`]),o("div",{class:"text-sm"},[`线索: ${T.clue||"无"}`])]))]):o("div",{class:"mb-4 text-gray-500"},["没有题型数据"]),o("div",{},[o("h4",{class:"font-bold mb-2"},["原始数据"]),o("div",{class:"p-3 bg-gray-100 dark:bg-gray-800 rounded overflow-auto max-h-60vh"},[o("pre",{class:"text-xs overflow-auto max-h-60vh"},[JSON.stringify($.value.data,null,2)])])]),o("div",{class:"flex justify-end mt-4"},[o(M,{label:"关闭",icon:"pi pi-times",onClick:()=>{B.value=!1}})])])}})])})}}),b0=L({name:"StorageInfoPanel",setup(){const{t:e}=yo(),r=q(null),a=q(!1),t=async(i=!1)=>{if(!(!i&&a.value)){a.value=!0;try{r.value=await new Promise(l=>{window.requestIdleCallback?window.requestIdleCallback(()=>{no().then(l)}):no().then(l)})}catch(l){console.error("Failed to get storage size:",l),r.value={error:!0,message:e("AITrainingSystem.StorageInfoPanel.errorDefault")}}finally{a.value=!1}}};return te(async()=>{await re(1500),setTimeout(async()=>{t()},1e3)}),()=>o(V,{toggleable:!0,collapsed:!1},{header:()=>{var i,l;return o("div",{class:"stack-h items-center! justify-between w-full"},[o("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.title")]),o("div",{class:"text-sm text-gray-500 dark:text-gray-400 flex items-center"},[a.value?o("span",{class:"flex items-center"},[o("i",{class:"pi pi-spin pi-spinner mr-1"}),e("AITrainingSystem.StorageInfoPanel.usageCalculating")]):`${e("AITrainingSystem.StorageInfoPanel.usagePrefix")}${((l=(i=r.value)==null?void 0:i.total)==null?void 0:l.formatted)||e("AITrainingSystem.StorageInfoPanel.notCalculated")}`])])},default:()=>{var i,l,c,n,s,d,p,f,u,g;return o("div",{class:[]},[o("div",{class:"p-3 border-1 border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-800"},[o("div",{class:"flex justify-between items-center mb-2"},[o("h4",{class:"text-md font-bold m-0"},[e("AITrainingSystem.StorageInfoPanel.usageDetailsTitle")]),o(R,{icon:"pi pi-refresh",tip:e("AITrainingSystem.StorageInfoPanel.refreshTip"),loading:a.value,onClick:()=>{t(!0)}})]),a.value&&o("div",{class:"flex items-center text-blue-500 dark:text-blue-400 mb-2"},[o("i",{class:"pi pi-spin pi-spinner mr-2"}),e("AITrainingSystem.StorageInfoPanel.calculatingDetails")]),((i=r.value)==null?void 0:i.error)&&o("div",{class:"text-red-500 dark:text-red-400"},[r.value.message||e("AITrainingSystem.StorageInfoPanel.errorDefault")]),((l=r.value)==null?void 0:l.unsupported)&&o("div",{class:"text-orange-500 dark:text-orange-400 mb-2"},[e("AITrainingSystem.StorageInfoPanel.unsupportedAPI")]),!a.value&&r.value&&!r.value.error&&o("div",{class:"grid grid-cols-2 gap-2"},[o("div",{class:"col-span-2 flex justify-between border-b-1 dark:border-gray-700 pb-1 mb-2"},[o("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.totalUsage")]),o("div",{},[`${((c=r.value.total)==null?void 0:c.formatted)||e("AITrainingSystem.StorageInfoPanel.unknown")} / 
                   ${((s=(n=r.value.total)==null?void 0:n.quota)==null?void 0:s.formatted)||e("AITrainingSystem.StorageInfoPanel.unknown")} 
                   (${((d=r.value.total)==null?void 0:d.percentUsed)||"0%"})`])]),o("div",{class:"col-span-2 flex justify-between border-b-1 dark:border-gray-700 pb-1 mb-1"},[o("div",{class:"font-bold"},[e("AITrainingSystem.StorageInfoPanel.totalRecords")]),o("div",{},[`${((p=r.value.tableCounts)==null?void 0:p.total)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),o("div",{class:"col-span-2 flex justify-between"},[o("div",{},[e("AITrainingSystem.StorageInfoPanel.qtBookBackupsTable")]),o("div",{class:""},[`${((f=r.value.tableCounts)==null?void 0:f.qtBookBackups)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),o("div",{class:"col-span-2 flex justify-between"},[o("div",{},[e("AITrainingSystem.StorageInfoPanel.chatRecordsTable")]),o("div",{class:""},[`${((u=r.value.tableCounts)==null?void 0:u.chatRecords)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])]),o("div",{class:"col-span-2 flex justify-between"},[o("div",{},[e("AITrainingSystem.StorageInfoPanel.kvsTable")]),o("div",{class:""},[`${((g=r.value.tableCounts)==null?void 0:g.kvs)||0} ${e("AITrainingSystem.StorageInfoPanel.recordsSuffix")}`])])])])])}})}}),co=L({name:"ChatRecordsPanel",props:{currentChatId:{type:String,required:!1}},emits:["select-chat"],setup(e,{emit:r}){const a=q([]),t=q(!1),i=q(0),l=q(0),c=q(10),n=q(null),s=q(!1),d=q(!1),p=q(!1),f=q(""),u=q(""),g=q(()=>Promise.resolve()),x=q(!1),$=q(0),B=q(0),m=q(""),v=async(h=!0)=>{if(t.value){console.warn("[loadChatRecords] Loading already in progress, skipping new load request");return}t.value=!0;try{const A=await new Promise(U=>{window.requestIdleCallback?window.requestIdleCallback(()=>{to(l.value,c.value).then(U)}):to(l.value,c.value).then(U)});if(a.value=A||[],h){const U=await new Promise(C=>{window.requestIdleCallback?window.requestIdleCallback(()=>{_e().then(C)}):_e().then(C)});i.value=U}}catch(A){console.error("Failed to load chat records:",A)}finally{t.value=!1}},w=h=>{l.value=h.first,c.value=h.rows,v(!1)},S=async()=>{t.value=!0;try{const h=await _e();i.value=h,t.value=!1;const A=Math.floor(l.value/c.value),U=Math.ceil(h/c.value);h===0?l.value=0:A>=U&&(l.value=(U-1)*c.value),v(!1)}catch(h){t.value=!1,console.error("Failed to reload chat records:",h),v(!0)}},D=h=>{n.value=h,s.value=!0},k=h=>{r("select-chat",h)},y=async h=>{if(confirm(`确定要删除对话记录 ${h.key} 吗？`))try{await a0(h.id),S()}catch(A){console.error("Failed to delete chat record:",A)}},E=(h,A,U)=>{f.value=h,u.value=A,g.value=U,p.value=!0},O=h=>{var U,C;return h!=null&&h.data?(C=(U=h==null?void 0:h.data)==null?void 0:U.data)!=null&&C.outputData?JSON.stringify(h.data.data.outputData).substring(0,50)+"...":`字段: ${Object.keys(h.data).join(", ")}`:"无内容"},F=h=>h!=null&&h.data?JSON.stringify(h.data).length:0;return te(async()=>{await re(1500),setTimeout(async()=>{await v(),d.value=!0},1e3)}),()=>o(V,{toggleable:!0,collapsed:!1},{header:()=>o("div",{class:"stack-h items-center! justify-between w-full"},[o("div",{class:"font-bold"},["对话历史记录"])]),default:()=>o("div",{class:[]},[o("div",{class:["stack-h mb-2 flex-wrap gap-1"]},[o(R,{label:"刷新",icon:"pi pi-refresh",class:"mr-0.5rem",loading:t.value,onClick:S}),o(R,{label:"添加演示记录",icon:"pi pi-plus",onClick:async()=>{const h={messages:[{role:"system",content:"你是一个智能AI助手。"},{role:"user",content:"你好，请介绍一下自己。"},{role:"assistant",content:"你好！我是一个AI助手，我可以帮助你回答问题、提供信息和协助完成各种任务。我的知识库涵盖了广泛的主题，包括科学、历史、艺术、技术等多个领域。请告诉我你需要什么帮助，我会尽力为你提供支持！"}],model:"gpt-4",timestamp:new Date().toISOString(),metadata:{source:"demo",created:new Date().toISOString()}};try{await Bo({key:`demo-${new Date().getTime()}`,data:h}),S()}catch(A){console.error("Failed to add demo chat record:",A)}}}),o("div",{class:"flex gap-1 ml-auto"},[o(R,{label:"删除已标记",icon:"pi pi-bookmark-fill",class:"ml-2",disabled:x.value,onClick:()=>{E("删除所有已标记的记录","确定要删除所有已标记的对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除已标记记录...",$.value=0,B.value=0;const h=await io({isMarked:!0},{progressCallback:(A,U)=>{$.value=A,B.value=U}});console.log(`成功删除 ${h} 条已标记记录`),m.value=`成功删除 ${h} 条已标记记录`,S()}catch(h){console.error("删除已标记记录失败:",h),m.value=`删除失败: ${(h==null?void 0:h.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}}),o(R,{label:"删除未标记",icon:"pi pi-bookmark",disabled:x.value,onClick:()=>{E("删除所有未标记的记录","确定要删除所有未标记的对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除未标记记录...",$.value=0,B.value=0;const h=await io({isMarked:!1},{progressCallback:(A,U)=>{$.value=A,B.value=U}});console.log(`成功删除 ${h} 条未标记记录`),m.value=`成功删除 ${h} 条未标记记录`,S()}catch(h){console.error("删除未标记记录失败:",h),m.value=`删除失败: ${(h==null?void 0:h.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}}),o(R,{label:"删除全部",icon:"pi pi-trash",disabled:x.value,onClick:()=>{E("删除所有记录","确定要删除所有对话记录吗？此操作不可撤销。",async()=>{try{x.value=!0,m.value="正在删除所有记录...",$.value=0,B.value=0;const h=await s0({useClear:!1,progressCallback:(A,U)=>{$.value=A,B.value=U}});console.log(`成功删除全部 ${h} 条记录`),m.value=`成功删除全部 ${h} 条记录`,S()}catch(h){console.error("删除所有记录失败:",h),m.value=`删除失败: ${(h==null?void 0:h.message)||"未知错误"}`}finally{setTimeout(()=>{x.value=!1},1500)}})}})])]),(!d.value||t.value)&&o("div",{class:"my-2 text-center"},["加载中..."]),x.value&&o("div",{class:"my-2"},[o("div",{class:"text-center mb-1"},[m.value]),o("div",{class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},[o("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${B.value?$.value/B.value*100:0}%`}})]),B.value>0&&o("div",{class:"text-xs text-center mt-1"},[`${$.value} / ${B.value} (${Math.round($.value/B.value*100)}%)`])]),d.value&&!t.value&&o("div",{class:"border-1 border-gray-200 dark:border-gray-700 rounded overflow-hidden"},[o("div",{class:"stack-h bg-gray-100 dark:bg-gray-800 p-2 font-bold border-b-1 dark:border-gray-700"},[o("div",{class:"flex-1 text-center"},["编号"]),o("div",{class:"flex-1 text-center"},["标识"]),o("div",{class:"flex-1 text-center"},["内容摘要"]),o("div",{class:"flex-1 text-center"},["操作"])]),a.value.length===0?o("div",{class:"p-4 text-center text-gray-500 dark:text-gray-400"},["没有对话记录"]):a.value.map(h=>o("div",{key:h.id,class:"stack-h p-3 border-b-1 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 items-center!"},[o("div",{class:"flex-1 text-center"},[`${h.id}`]),o("div",{class:"flex-1 text-center"},[h.key]),o("div",{class:"flex-1"},[o("div",{class:"text-sm whitespace-normal"},[O(h)]),o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[`字符数: ${F(h)}`])]),o("div",{class:"flex-1 flex justify-center gap-2"},[o(R,{icon:"pi pi-eye",tip:"查看详情",onClick:()=>D(h)}),o(R,{icon:"pi pi-arrow-right-arrow-left",tip:"加载此对话记录",onClick:()=>k(h)}),o(R,{icon:h.isMarked?"pi pi-bookmark-fill":"pi pi-bookmark",tip:h.isMarked?"取消标记":"标记",class:h.isMarked?"p-button-success":"",onClick:async()=>{try{const A=!h.isMarked;await i0(h.id,A);const U=a.value.findIndex(C=>C.id===h.id);U!==-1&&(a.value[U].isMarked=A)}catch(A){console.error("标记/取消标记对话记录失败:",A)}}}),o(R,{icon:"pi pi-trash",tip:"删除此记录",class:"p-button-danger",onClick:()=>y(h)})])]))]),d.value&&o(ko,{first:l.value,rows:c.value,totalRecords:i.value,rowsPerPageOptions:[5,10,20],template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPage:w,class:"mt-2"}),o(fe,{header:"对话记录详情",visible:s.value,style:{width:"80vw"},modal:!0,"onUpdate:visible":h=>{s.value=h}},{default:()=>n.value&&o("div",{class:"p-3"},[o("h3",{class:"mb-2 font-bold"},[`ID: ${n.value.id} | 标识: ${n.value.key}`]),n.value.data.messages&&Array.isArray(n.value.data.messages)?o("div",{class:"mb-4"},[o("h4",{class:"font-bold mb-2"},["对话内容"]),...n.value.data.messages.map((h,A)=>o("div",{key:A,class:`p-3 mb-2 rounded ${h.role==="user"?"bg-blue-100 dark:bg-blue-900":h.role==="system"?"bg-gray-100 dark:bg-gray-800":"bg-green-100 dark:bg-green-900"}`},[o("div",{class:"font-bold mb-1"},[h.role==="user"?"用户":h.role==="system"?"系统":h.role==="assistant"?"助手":h.role]),o("div",{class:"whitespace-pre-wrap"},[h.content])]))]):null,o("div",{},[o("h4",{class:"font-bold mb-2"},["原始数据"]),o("div",{class:"p-3 bg-gray-100 dark:bg-gray-800 rounded ==overflow-auto ==max-h-60vh"},[o("pre",{class:"text-xs overflow-auto max-h-60vh"},[JSON.stringify(n.value.data,null,2)])])]),o("div",{class:"flex justify-end mt-4"},[o(M,{label:"关闭",icon:"pi pi-times",onClick:()=>{s.value=!1}})])])}),o(fe,{header:f.value,visible:p.value,style:{width:"30vw"},modal:!0,"onUpdate:visible":h=>{p.value=h}},{default:()=>o("div",{class:"p-3"},[o("div",{class:"mb-4"},[u.value]),o("div",{class:"flex justify-end gap-2"},[o(M,{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:()=>{p.value=!1}}),o(M,{label:"确认",icon:"pi pi-check",class:"p-button-danger",onClick:async()=>{p.value=!1;try{await g.value(),S()}catch(h){console.error("确认操作失败:",h)}}})])])})])})}});class v0{constructor(){W(this,"audioContext");this.audioContext=new AudioContext}getAudioContext(){return this.audioContext}createTone(r){const{type:a,frequency:t,startTime:i,duration:l,gainEnvelope:c,connect:n}=r,s=this.audioContext.createOscillator();s.type=a,s.frequency.value=t;const d=this.audioContext.createGain();d.gain.value=0,s.connect(d),d.connect(n),c.forEach(u=>{const g=i+u.time;isFinite(g)?d.gain.linearRampToValueAtTime(u.value,g):(console.warn("非法的时间值:",{startTime:i,pointTime:u.time,sum:g}),d.gain.linearRampToValueAtTime(u.value,i||this.audioContext.currentTime))});const p=isFinite(i)?i:this.audioContext.currentTime,f=isFinite(i+l)?i+l:this.audioContext.currentTime+(isFinite(l)?l:1);return s.start(p),s.stop(f),{oscillator:s,gainNode:d}}createNoise(r){const{duration:a,startTime:t,gainEnvelope:i,connect:l,decayRate:c=0}=r,n=this.audioContext.sampleRate*a,s=this.audioContext.createBuffer(1,n,this.audioContext.sampleRate),d=s.getChannelData(0);for(let x=0;x<n;x++)c>0?d[x]=(Math.random()*2-1)*Math.max(0,1-x/(n*c)):d[x]=Math.random()*2-1;const p=this.audioContext.createBufferSource();p.buffer=s;const f=this.audioContext.createGain();f.gain.value=0,p.connect(f),f.connect(l),i.forEach(x=>{const $=t+x.time;isFinite($)?f.gain.linearRampToValueAtTime(x.value,$):(console.warn("噪声音效中非法的时间值:",{startTime:t,pointTime:x.time,sum:$}),f.gain.linearRampToValueAtTime(x.value,t||this.audioContext.currentTime))});const u=isFinite(t)?t:this.audioContext.currentTime,g=isFinite(t+a)?t+a:this.audioContext.currentTime+(isFinite(a)?a:1);return p.start(u),p.stop(g),{noiseSource:p,gainNode:f}}createFilter(r){const{type:a,frequency:t,Q:i=1}=r,l=this.audioContext.createBiquadFilter();return l.type=a,l.frequency.value=t,l.Q.value=i,l}createReverb(r){const{duration:a,decayRate:t}=r,i=this.audioContext.createConvolver(),l=this.audioContext.sampleRate*a,c=this.audioContext.createBuffer(2,l,this.audioContext.sampleRate);for(let n=0;n<2;n++){const s=c.getChannelData(n);for(let d=0;d<l;d++)s[d]=(Math.random()*2-1)*Math.pow(1-d/l,t)}return i.buffer=c,i}}function h0(e){const r=new v0,a=r.getAudioContext(),t=a.createGain();t.gain.value=e.masterVolume||1,t.connect(a.destination);let i=t;e.effects&&e.effects.length>0&&e.effects.slice().reverse().forEach(l=>{if(l.type==="filter"){const c=r.createFilter(l.params);c.connect(i),i=c}else if(l.type==="reverb"){const c=r.createReverb(l.params);c.connect(i),i=c}}),e.elements&&e.elements.forEach(l=>{if(l.type==="tone"){const c=l,n=r.createTone({type:c.oscillatorType,frequency:c.frequency,startTime:a.currentTime+c.startTime,duration:c.duration,gainEnvelope:c.gainEnvelope,connect:i});if(c.vibrato){const s=a.createOscillator();s.frequency.value=c.vibrato.frequency;const d=a.createGain();d.gain.value=c.vibrato.depth,s.connect(d),d.connect(n.oscillator.frequency),s.start(a.currentTime+c.vibrato.startTime),s.stop(a.currentTime+c.vibrato.startTime+c.vibrato.duration)}}else if(l.type==="noise"){const c=l;r.createNoise({duration:c.duration,startTime:a.currentTime+c.startTime,gainEnvelope:c.gainEnvelope,connect:i,decayRate:c.decayRate})}else if(l.type==="frequencyRamp"){const c=l,n=a.createOscillator();n.type=c.oscillatorType;const s=isFinite(a.currentTime+c.startTime)?a.currentTime+c.startTime:a.currentTime,d=isFinite(a.currentTime+c.startTime+c.duration)?a.currentTime+c.startTime+c.duration:a.currentTime+(isFinite(c.duration)?c.duration:1);n.frequency.setValueAtTime(c.startFrequency,s),n.frequency.linearRampToValueAtTime(c.endFrequency,d);const p=a.createGain();p.gain.value=0,n.connect(p),p.connect(i),c.gainEnvelope.forEach(f=>{const u=a.currentTime+c.startTime+f.time;isFinite(u)?p.gain.linearRampToValueAtTime(f.value,u):(console.warn("频率斜坡中非法的时间值:",{contextTime:a.currentTime,startTime:c.startTime,pointTime:f.time,sum:u}),p.gain.linearRampToValueAtTime(f.value,a.currentTime))}),n.start(s),n.stop(d)}}),e.type}const G=e=>{h0(e)},y0={type:"composite",masterVolume:1,elements:[{type:"tone",oscillatorType:"sine",frequency:1046.5,startTime:0,duration:.35,gainEnvelope:[{time:0,value:0},{time:.005,value:.4},{time:.3,value:.01}]},{type:"tone",oscillatorType:"sine",frequency:1318.51,startTime:0,duration:.35,gainEnvelope:[{time:0,value:0},{time:.005,value:.4},{time:.3,value:.01}]}]},Do=()=>G(y0),k0={type:"composite",masterVolume:1,elements:[{type:"frequencyRamp",oscillatorType:"triangle",startFrequency:180,endFrequency:70,startTime:0,duration:.5,gainEnvelope:[{time:0,value:0},{time:.02,value:.7},{time:.1,value:.5},{time:.5,value:0}]}]},Je=()=>G(k0),x0={type:"composite",masterVolume:1,elements:[{type:"noise",startTime:0,duration:.25,gainEnvelope:[{time:0,value:0},{time:.01,value:.85},{time:.05,value:.5},{time:.15,value:.2},{time:.25,value:0}],decayRate:.3},{type:"tone",oscillatorType:"triangle",frequency:120,startTime:.01,duration:.3,gainEnvelope:[{time:0,value:0},{time:.01,value:.7},{time:.1,value:.3},{time:.3,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:350,startTime:.01,duration:.2,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.08,value:.25},{time:.2,value:0}],vibrato:{frequency:30,depth:15,startTime:.01,duration:.18}},{type:"noise",startTime:.14,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.45},{time:.05,value:.2},{time:.15,value:0}],decayRate:.4},{type:"tone",oscillatorType:"triangle",frequency:180,startTime:.15,duration:.25,gainEnvelope:[{time:0,value:0},{time:.01,value:.4},{time:.1,value:.15},{time:.25,value:0}]}],effects:[{type:"reverb",params:{duration:.8,decayRate:25.64}}]},Eo=()=>G(x0),C0={type:"composite",masterVolume:1,elements:[{type:"noise",startTime:0,duration:.2,gainEnvelope:[{time:0,value:0},{time:.005,value:.5},{time:.1,value:.2},{time:.18,value:.001}],decayRate:.15},{type:"tone",oscillatorType:"triangle",frequency:4e3,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.002,value:.2},{time:.1,value:.001}]}]},qo=()=>G(C0),w0={type:"composite",masterVolume:1,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:800,endFrequency:150,startTime:0,duration:.6,gainEnvelope:[{time:0,value:0},{time:.05,value:.5},{time:.4,value:.3},{time:.6,value:0}]},{type:"frequencyRamp",oscillatorType:"triangle",startFrequency:700,endFrequency:100,startTime:.1,duration:.6,gainEnvelope:[{time:0,value:0},{time:.05,value:.3},{time:.45,value:.15},{time:.6,value:0}]},{type:"noise",startTime:.05,duration:.7,gainEnvelope:[{time:0,value:0},{time:.2,value:.1},{time:.5,value:.2},{time:.7,value:0}],decayRate:.1}],effects:[{type:"reverb",params:{duration:1.2,decayRate:2.3}}]},zo=()=>G(w0),$0={type:"composite",masterVolume:1,elements:[{type:"tone",oscillatorType:"square",frequency:392,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.3},{time:.15,value:0}]},{type:"tone",oscillatorType:"square",frequency:261.63,startTime:.15,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.6},{time:.2,value:.3},{time:.25,value:0}]},{type:"tone",oscillatorType:"sawtooth",frequency:196,startTime:.16,duration:.22,gainEnvelope:[{time:0,value:0},{time:.02,value:.15},{time:.18,value:.08},{time:.22,value:0}]},{type:"noise",startTime:.15,duration:.2,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.15,value:.1},{time:.2,value:0}],decayRate:.3},{type:"tone",oscillatorType:"sine",frequency:110,startTime:.15,duration:.3,gainEnvelope:[{time:0,value:0},{time:.05,value:.25},{time:.2,value:.15},{time:.3,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:1046.5,startTime:.01,duration:.1,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.08,value:.05},{time:.1,value:0}]}],effects:[{type:"filter",params:{type:"bandpass",frequency:3200,Q:.8}},{type:"reverb",params:{duration:2.25,decayRate:20.5}}]},ie=()=>G($0),S0={type:"composite",masterVolume:.7,elements:[{type:"tone",oscillatorType:"sine",frequency:523.25,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:659.25,startTime:.15,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:783.99,startTime:.3,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.15,value:.001}]},{type:"tone",oscillatorType:"sine",frequency:1046.5,startTime:.45,duration:.7,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.4,value:.3},{time:.7,value:.001}],vibrato:{frequency:6,depth:5,startTime:.2,duration:.5}},{type:"tone",oscillatorType:"triangle",frequency:523.25,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.2},{time:.6,value:.2},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:659.25,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.14},{time:.6,value:.14},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:783.99,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.12},{time:.6,value:.12},{time:1,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:1046.5,startTime:.45,duration:1.1,gainEnvelope:[{time:0,value:0},{time:.1,value:.1},{time:.6,value:.1},{time:1,value:.001}]},...Array.from({length:8},(e,r)=>({type:"tone",oscillatorType:"sine",frequency:2e3+3e3*(r/8),startTime:.7+r*.08,duration:.12,gainEnvelope:[{time:0,value:0},{time:.01,value:.1},{time:.1,value:.001}]}))],effects:[{type:"reverb",params:{duration:2,decayRate:.2}}]},B0=()=>G(S0),T0={type:"composite",masterVolume:.7,elements:[{type:"tone",oscillatorType:"square",frequency:523.25,startTime:0,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:659.25,startTime:.15,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:783.99,startTime:.3,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.5},{time:.12,value:.2},{time:.15,value:.001}]},{type:"tone",oscillatorType:"square",frequency:1046.5,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.01,value:.6},{time:.3,value:.4},{time:.4,value:.001}],vibrato:{frequency:8,depth:7,startTime:.1,duration:.3}},{type:"tone",oscillatorType:"sawtooth",frequency:1046.5*1.5,startTime:.45,duration:.35,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.2,value:.1},{time:.35,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:523.25,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.15},{time:.3,value:.1},{time:.4,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:659.25,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.1},{time:.3,value:.07},{time:.4,value:.001}]},{type:"tone",oscillatorType:"triangle",frequency:783.99,startTime:.45,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.08},{time:.3,value:.05},{time:.4,value:.001}]},...Array.from({length:5},(e,r)=>({type:"tone",oscillatorType:"square",frequency:2500+2e3*(r/5),startTime:.7+r*.05,duration:.08,gainEnvelope:[{time:0,value:0},{time:.01,value:.15},{time:.06,value:.05},{time:.08,value:.001}]}))],effects:[{type:"filter",params:{type:"highpass",frequency:800,Q:.7}},{type:"reverb",params:{duration:2.25,decayRate:20.5}}]},Io=()=>G(T0),R0={type:"composite",masterVolume:.7,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:900,endFrequency:650,startTime:0,duration:.5,gainEnvelope:[{time:0,value:0},{time:.05,value:.6},{time:.2,value:.5},{time:.4,value:.3},{time:.5,value:0}]},{type:"tone",oscillatorType:"triangle",frequency:820,startTime:.02,duration:.45,gainEnvelope:[{time:0,value:0},{time:.03,value:.3},{time:.2,value:.25},{time:.45,value:0}],vibrato:{frequency:14,depth:12,startTime:.05,duration:.4}},{type:"tone",oscillatorType:"sine",frequency:1800,startTime:.03,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.15},{time:.2,value:.1},{time:.4,value:0}]},{type:"noise",startTime:.01,duration:.45,gainEnvelope:[{time:0,value:0},{time:.05,value:.1},{time:.25,value:.06},{time:.45,value:0}],decayRate:.2}],effects:[{type:"reverb",params:{duration:2.25,decayRate:20.5}},{type:"filter",params:{type:"bandpass",frequency:2600,Q:1.2}}]},Po=()=>G(R0),D0={type:"composite",masterVolume:.8,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:120,endFrequency:105,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.5},{time:.2,value:.4},{time:.3,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:115,endFrequency:125,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.55},{time:.15,value:.45},{time:.25,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:130,endFrequency:110,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.6},{time:.2,value:.4},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:600,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.1},{time:.25,value:.08},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:650,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.12},{time:.2,value:.08},{time:.25,value:0}]},{type:"tone",oscillatorType:"sine",frequency:580,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.11},{time:.25,value:.07},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1e3,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.07},{time:.25,value:.05},{time:.3,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1100,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.08},{time:.2,value:.06},{time:.25,value:0}]},{type:"tone",oscillatorType:"sine",frequency:950,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.06},{time:.25,value:.04},{time:.3,value:0}]},{type:"noise",startTime:.02,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.1},{time:.08,value:.05},{time:.1,value:0}],decayRate:.5},{type:"noise",startTime:.35,duration:.08,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.06,value:.05},{time:.08,value:0}],decayRate:.6},{type:"noise",startTime:.65,duration:.12,gainEnvelope:[{time:0,value:0},{time:.02,value:.11},{time:.1,value:.04},{time:.12,value:0}],decayRate:.5},{type:"tone",oscillatorType:"triangle",frequency:120,startTime:0,duration:.3,gainEnvelope:[{time:0,value:0},{time:.02,value:.2},{time:.25,value:.15},{time:.3,value:0}],vibrato:{frequency:5.5,depth:3,startTime:.01,duration:.28}},{type:"tone",oscillatorType:"triangle",frequency:115,startTime:.35,duration:.25,gainEnvelope:[{time:0,value:0},{time:.02,value:.22},{time:.2,value:.16},{time:.25,value:0}],vibrato:{frequency:5.8,depth:4,startTime:.01,duration:.23}},{type:"tone",oscillatorType:"triangle",frequency:125,startTime:.65,duration:.3,gainEnvelope:[{time:0,value:0},{time:.03,value:.25},{time:.25,value:.15},{time:.3,value:0}],vibrato:{frequency:5.2,depth:3.5,startTime:.02,duration:.27}}]},No=()=>G(D0),E0={type:"composite",masterVolume:.8,elements:[{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:210,endFrequency:195,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.3},{time:.08,value:.2},{time:.1,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:200,endFrequency:205,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.45},{time:.1,value:.35},{time:.15,value:0}]},{type:"frequencyRamp",oscillatorType:"sawtooth",startFrequency:220,endFrequency:180,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.4},{time:.08,value:.2},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:950,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.12},{time:.08,value:.08},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:980,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.14},{time:.12,value:.1},{time:.15,value:0}]},{type:"tone",oscillatorType:"sine",frequency:920,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.13},{time:.08,value:.07},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1700,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.09},{time:.08,value:.05},{time:.1,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1800,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.11},{time:.12,value:.07},{time:.15,value:0}]},{type:"tone",oscillatorType:"sine",frequency:1650,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.08},{time:.08,value:.04},{time:.1,value:0}]},{type:"noise",startTime:0,duration:.05,gainEnvelope:[{time:0,value:0},{time:.01,value:.12},{time:.04,value:.04},{time:.05,value:0}],decayRate:.6},{type:"noise",startTime:.25,duration:.04,gainEnvelope:[{time:0,value:0},{time:.01,value:.14},{time:.03,value:.05},{time:.04,value:0}],decayRate:.7},{type:"tone",oscillatorType:"triangle",frequency:210,startTime:0,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.2},{time:.08,value:.12},{time:.1,value:0}],vibrato:{frequency:6.8,depth:4,startTime:.01,duration:.08}},{type:"tone",oscillatorType:"triangle",frequency:205,startTime:.1,duration:.15,gainEnvelope:[{time:0,value:0},{time:.02,value:.25},{time:.12,value:.18},{time:.15,value:0}],vibrato:{frequency:7.2,depth:5,startTime:.01,duration:.13}},{type:"tone",oscillatorType:"triangle",frequency:215,startTime:.25,duration:.1,gainEnvelope:[{time:0,value:0},{time:.02,value:.22},{time:.08,value:.15},{time:.1,value:0}],vibrato:{frequency:7,depth:4.5,startTime:.01,duration:.08}}]},Oo=()=>G(E0);[...Array.from({length:8},(e,r)=>({type:"frequencyRamp",oscillatorType:"sine",startFrequency:120,endFrequency:30,startTime:r*.5,duration:.15,gainEnvelope:[{time:0,value:0},{time:.01,value:.8},{time:.05,value:.3},{time:.15,value:0}]})),...Array.from({length:16},(e,r)=>({type:"noise",startTime:r*.25,duration:.05,gainEnvelope:[{time:0,value:0},{time:.01,value:r%2===0?.2:.07},{time:.05,value:0}],decayRate:.8})),...Array.from({length:4},(e,r)=>[{type:"tone",oscillatorType:"sawtooth",frequency:[98,110,98,123][r],startTime:r*1,duration:.4,gainEnvelope:[{time:0,value:0},{time:.05,value:.45},{time:.2,value:.2},{time:.4,value:0}]},{type:"tone",oscillatorType:"sawtooth",frequency:[98,110,98,123][r],startTime:r*1+.5,duration:.3,gainEnvelope:[{time:0,value:0},{time:.05,value:.3},{time:.2,value:.1},{time:.3,value:0}]}]).flat(),...Array.from({length:16},(e,r)=>({type:"tone",oscillatorType:"square",frequency:[523.25,587.33,659.25,783.99,880,783.99,659.25,587.33][r%8],startTime:r*.25,duration:.2,gainEnvelope:[{time:0,value:0},{time:.02,value:.15},{time:.18,value:.05},{time:.2,value:0}]}))];function q0(e=8){const r=[261.63,293.66,329.63,349.23,392,440,493.88,523.25,587.33,659.25,698.46,783.99],a=["sine","square","triangle","sawtooth"],t=n=>n[Math.floor(Math.random()*n.length)],i=(n,s)=>{const d=n+Math.random()*(s-n);return isFinite(d)?d:(n+s)/2},l=()=>{const n=[];for(let s=0;s<e;s++)Math.random()<.7&&n.push({type:"tone",oscillatorType:t(a),frequency:t(r),startTime:s*.5,duration:i(.2,.4),gainEnvelope:[{time:0,value:0},{time:.05,value:i(.2,.5)},{time:.3,value:.1},{time:.4,value:0}],...Math.random()<.2?{vibrato:{frequency:i(4,8),depth:i(3,10),startTime:.1,duration:.3}}:{}});if(Math.random()<.6){const s=t(r.slice(0,5)),d=Math.floor(i(0,e/2))*.5,p=i(1.5,e*.5);n.push({type:"tone",oscillatorType:"sine",frequency:s,startTime:d,duration:p,gainEnvelope:[{time:0,value:0},{time:.3,value:.15},{time:p-.5,value:.15},{time:p,value:0}]}),n.push({type:"tone",oscillatorType:"sine",frequency:s*1.26,startTime:d,duration:p,gainEnvelope:[{time:0,value:0},{time:.3,value:.12},{time:p-.5,value:.12},{time:p,value:0}]}),n.push({type:"tone",oscillatorType:"sine",frequency:s*1.5,startTime:d,duration:p,gainEnvelope:[{time:0,value:0},{time:.3,value:.1},{time:p-.5,value:.1},{time:p,value:0}]})}if(Math.random()<.4)for(let s=0;s<e;s+=2)n.push({type:"noise",startTime:s*.5,duration:.1,gainEnvelope:[{time:0,value:0},{time:.01,value:.2},{time:.1,value:0}],decayRate:.5});return Math.random()<.3&&n.push({type:"frequencyRamp",oscillatorType:t(a),startFrequency:i(400,800),endFrequency:i(200,600),startTime:i(0,e*.3)*.5,duration:i(.8,1.5),gainEnvelope:[{time:0,value:0},{time:.1,value:.2},{time:.7,value:.1},{time:1,value:0}]}),n},c=()=>{const n=[];if(Math.random()<.7){const s=["lowpass","highpass","bandpass"];n.push({type:"filter",params:{type:t(s),frequency:i(500,5e3),Q:i(.5,3)}})}return Math.random()<.6&&n.push({type:"reverb",params:{duration:i(.5,2.5),decayRate:i(.1,.4)}}),n};return{name:"随机曲谱",type:"composite",masterVolume:i(.7,1),elements:l(),effects:c()}}const De=(e=8)=>{const r=q0(e);return G(r),r},z0=wo({breaks:!0,linkify:!0});function I0(e){return z0.render(e.trim())}const P0=`
# SWOT (小镇做题家) - AI 训练系统

SWOT (意为“小镇做题家”) 是一个专注于自我提示训练 (Self-Prompt Training) 的 AI 训练系统。它提供了一个全面的平台，用户可以通过以下功能来训练和管理 AI 模型。

## 核心功能

*   **训练与答题:**
    *   用户可以加载题集，AI 会根据提供的笔记进行答题。
    *   系统会记录 AI 的答题情况，包括正确率、错误分析等。
    *   用户可以控制训练过程，例如启动、暂停训练，并调整训练参数。
*   **笔记管理:**
    *   **当前笔记:** 系统展示 AI 在解题过程中自主学习并记录的笔记。用户可以查看这些笔记，并观察 AI 如何根据解题结果和错误分析来迭代和优化其笔记。
    *   **笔记历史:** 系统会自动保存 AI 笔记的各个历史版本。用户可以方便地查看笔记的演变过程，并在需要时恢复到之前的版本。
    *   **笔记导入/导出:** 支持笔记数据的导入和导出。
*   **提示词配置:**
    *   用户可以编辑和管理用于训练过程中各个阶段的提示词模板，以优化 AI 的训练效果。
*   **题库配置:**
    *   用户可以管理用于训练或测试的题库数据，支持导入处理后的数据。
*   **模型接口配置:**
    *   管理 AI 模型的供应商、API 密钥和所选模型。
*   **对话记录:**
    *   保存与 AI 模型的历史对话记录，方便用户查看和分析之前的交互过程。
*   **存储管理:**
    *   查看和管理系统在本地存储的各种数据，包括训练器状态、问题集、提示词模板等。支持数据的导入和导出。
*   **调试工具:**
    *   提供一系列调试工具，方便开发者进行数据操作和状态检查。

## 设计理念

SWOT 系统旨在通过模拟“做题-学习-改进笔记-再做题”的循环，帮助 AI 模型提升其在特定知识领域的能力。用户提供题集，AI 在解题过程中自主记录和迭代笔记，通过这个学习循环，最终达到提升模型表现的目的。


## 训练流程逻辑

- O 是否达到最大循环次数
  - 达到：结束训练
  - 未达到：
    - 所有【未跳过、非简单、未达最大验证次数】是否为空集合
      - 是：结束训练
      - 否：继续执行核心流程
    - 核心流程 并行做所有【未跳过、非简单、未达最大验证次数】的题
      - 是否全都故障了
        - 是：被迫结束训练
        - 否：继续
      - 对于每道做对的题
        - 此题版本练习次数+=1
        - 此题总练习次数+=1
        - 此题版本正确次数+=1
        - 此题总正确次数+=1
        - 如果「此题版本练习次数=此题版本正确次数 >= 版本简单阈值」则标记为【版本简单题】
        - 如果「此题总练习次数=此题总正确次数 >= 总简单阈值」则标记为【总简单题】
      - 对于每道做错的题
        - 此题版本错误次数+=1
          - 如果达到版本难题阈值，则标记为【版本跳过题】
        - 此题总错误次数+=1
          - 如果达到总体难题阈值，则标记为【总体跳过题】
      - 是否全对
        - 全对：版本确证次数+=1
        - 非全对：不增加确证次数
      - 对于每道做错的题
        - 更新笔记
      - 总循环次数+=1
      - 返回 O 继续下一轮循环

参考： [SpaCE2025](https://pku-space.github.io/SpaCE2025/)
`,N0=L({name:"MemoBoard",setup(){return()=>o("div",{class:"stack-v"},[o("div",{class:"markdown-body",innerHTML:I0(P0)}),o("div",{class:"stack-h hidden!"},[o(R,{label:"播放叮咚声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Do}),o(R,{label:"播放咕嘟声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Je}),o(R,{label:"播放咔哒声",icon:"pi pi-play",class:"mr-0.5rem",onClick:qo}),o(R,{label:"播放坠落声",icon:"pi pi-play",class:"mr-0.5rem",onClick:zo}),o(R,{label:"播放报错声",icon:"pi pi-play",class:"mr-0.5rem",onClick:ie}),o(R,{label:"播放哐当声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Eo}),o(R,{label:"播放猫叫声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Po}),o(R,{label:"播放男人说话声",icon:"pi pi-play",class:"mr-0.5rem",onClick:No}),o(R,{label:"播放女人说话声",icon:"pi pi-play",class:"mr-0.5rem",onClick:Oo})]),o("div",{class:"stack-h hidden!"},[o(R,{label:"播放喇叭式胜利音效",icon:"pi pi-play",class:"mr-0.5rem",onClick:Io}),o(R,{label:"播放随机曲谱",icon:"pi pi-play",class:"mr-0.5rem",onClick:()=>{De(16)}}),o(R,{label:"播放随机曲谱64",icon:"pi pi-play",class:"mr-0.5rem",onClick:()=>{De(64)}})])])}}),uo=L({name:"AccuracyPanel",props:{state:{type:Object,required:!1}},setup(e){const r=J(()=>{var p;if(!((p=e.state)!=null&&p.quStateDict))return{total:0,correct:0,incorrect:0,rate:0};const l=Object.values(e.state.quStateDict),c=l.length,n=l.filter(f=>(f.trainedCountT||0)>0&&(f.correctCountT||0)>(f.trainedCountT||0)-(f.correctCountT||0)).length,s=c-n,d=c>0?n/c*100:0;return{total:c,correct:n,incorrect:s,rate:d}}),a=J(()=>{var f;if(!((f=e.state)!=null&&f.quStateDict))return{total:0,correct:0,incorrect:0,rate:0};const l=Object.values(e.state.quStateDict),n=l.filter(u=>(u.trainedCountV||0)>0).length,s=l.filter(u=>(u.trainedCountV||0)>0&&(u.correctCountV||0)>(u.trainedCountV||0)-(u.correctCountV||0)).length,d=n-s,p=n>0?s/n*100:0;return{total:n,correct:s,incorrect:d,rate:p}}),t=J(()=>{var u;if(!((u=e.state)!=null&&u.quStateDict))return{total:0,simpleV:0,simpleT:0,skipV:0,skipT:0,active:0};const l=Object.values(e.state.quStateDict),c=l.length,n=l.filter(g=>g.isSimpleV).length,s=l.filter(g=>g.isSimpleT).length,d=l.filter(g=>g.isSkipV).length,p=l.filter(g=>g.isSkipT).length,f=l.filter(g=>!g.isSimpleV&&!g.isSimpleT&&!g.isSkipV&&!g.isSkipT).length;return{total:c,simpleV:n,simpleT:s,skipV:d,skipT:p,active:f}}),i=(l,c,n="",s="")=>o("div",{class:"flex-1 mb-2 text-center p-2 bg-zinc-200/50 dark:bg-zinc-700/50 rounded-lg",title:s},[o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},l),o("div",{class:"text-xl font-bold"},`${c}${n}`)]);return()=>o(V,{header:"做题统计数据",toggleable:!0,class:["bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"space-y-4"},[o("div",{class:"mb-2"},[o("h3",{class:"text-md font-medium mb-2"},"总体统计"),o("div",{class:"flex gap-2"},[i("题目总数",r.value.total,"题","题库中的题目总数"),i("最新正确",r.value.correct,"题","按最新答题结果计算的正确题目数"),i("正确率",r.value.rate.toFixed(1),"%","按最新答题结果计算的正确率")])]),o(Be),o("div",{class:"mb-2"},[o("h3",{class:"text-md font-medium mb-2"},"当前版本统计"),o("div",{class:"flex gap-2"},[i("做过题目",a.value.total,"题","当前笔记版本下做过的题目数"),i("最新正确",a.value.correct,"题","按最新答题结果计算的版本正确题目数"),i("版本正确率",a.value.rate.toFixed(1),"%","按最新答题结果计算的版本正确率")])]),o(Be),o("div",{class:"mb-2"},[o("h3",{class:"text-md font-medium mb-2"},"题目状态"),o("div",{class:"flex flex-wrap gap-2"},[i("总题数",t.value.total,"题","题库中的总题目数量"),i("活跃题",t.value.active,"题","未被标记为简单或跳过的活跃题目数量"),i("版本简单题",t.value.simpleV,"题","当前版本中被标记为简单的题目数量"),i("总体简单题",t.value.simpleT,"题","整个训练过程中被标记为简单的题目数量"),i("版本跳过题",t.value.skipV,"题","当前版本中被标记为跳过的题目数量"),i("总体跳过题",t.value.skipT,"题","整个训练过程中被标记为跳过的题目数量")])])])})}}),O0=L({name:"NotebookEditor",props:{notebook:{type:Object,required:!1},version:{type:String,required:!1,default:""}},emits:["update:notebook","save"],setup(e,{emit:r}){const a=ge(),t=q(""),i=q(!1),l=q(!1),c=q(-1),n=q(""),s=q("");ue(()=>e.notebook,k=>{k?t.value=d(k):t.value=""},{immediate:!0});const d=k=>{try{return JSON.stringify(k,null,2)}catch(y){return console.error("Error formatting JSON:",y),JSON.stringify(k)}},p=()=>{e.notebook?(t.value=d(e.notebook),i.value=!0):a.add({severity:"error",summary:"无法编辑",detail:"没有有效的笔记数据",life:3e3})},f=()=>{try{const k=JSON.parse(t.value);if(!Array.isArray(k.entries))throw new Error("笔记格式无效，必须包含entries数组");r("update:notebook",k),i.value=!1,a.add({severity:"success",summary:"保存成功",detail:"笔记已更新",life:2e3})}catch(k){a.add({severity:"error",summary:"保存失败",detail:`JSON解析错误: ${k instanceof Error?k.message:"未知错误"}`,life:5e3})}},u=()=>{l.value=!0},g=()=>{i.value=!1,l.value=!1,e.notebook&&(t.value=d(e.notebook)),c.value=-1,a.add({severity:"info",summary:"已取消",detail:"取消编辑笔记",life:2e3})},x=k=>{if(e.notebook&&e.notebook.entries&&e.notebook.entries[k]){const y=e.notebook.entries[k];c.value=k,n.value=y.name,s.value=d(y)}},$=()=>{try{const k=JSON.parse(s.value);if(!k.name)throw new Error("条目名称是必需的");if(e.notebook&&e.notebook.entries){const y=P.cloneDeep(e.notebook);y.entries[c.value]=k,r("update:notebook",y),c.value=-1,a.add({severity:"success",summary:"保存成功",detail:`条目 "${k.name}" 已更新`,life:2e3})}}catch(k){a.add({severity:"error",summary:"保存失败",detail:`JSON解析错误: ${k instanceof Error?k.message:"未知错误"}`,life:5e3})}},B=()=>{c.value=-1,n.value="",s.value=""},m=()=>{r("save"),a.add({severity:"success",summary:"保存版本",detail:"笔记版本已保存",life:2e3})},v=()=>{if(e.notebook){const k=P.cloneDeep(e.notebook),y={name:`新条目_${Date.now()}`,desc:"",steps:[],tips:[],tools:[],datums:[]};k.entries.push(y),r("update:notebook",k),a.add({severity:"success",summary:"添加成功",detail:"已添加新条目",life:2e3})}},w=k=>{if(e.notebook&&e.notebook.entries){const y=P.cloneDeep(e.notebook),E=y.entries[k].name;y.entries.splice(k,1),r("update:notebook",y),a.add({severity:"info",summary:"删除成功",detail:`已删除条目 "${E}"`,life:2e3})}},S=k=>{if(e.notebook&&e.notebook.entries){const y=P.cloneDeep(e.notebook),E=y.entries[k].name;y.entries[k].deleted=!0,r("update:notebook",y),a.add({severity:"info",summary:"标记成功",detail:`已将条目 "${E}" 标记为已删除`,life:2e3})}},D=k=>{if(e.notebook&&e.notebook.entries){const y=P.cloneDeep(e.notebook),E=y.entries[k].name;y.entries[k].deleted=!1,r("update:notebook",y),a.add({severity:"success",summary:"恢复成功",detail:`已恢复条目 "${E}"`,life:2e3})}};return()=>o(V,{toggleable:!0,collapsed:!0},{header:()=>o("div",{class:"stack-h items-center"},[o("div",{class:"font-bold"},["笔记编辑器"]),o("span",{class:"text-sm text-gray-500 ml-2"},[e.version?`(版本: ${e.version})`:""])]),default:()=>{var k;return o("div",{class:[]},[o("div",{class:"mb-4 flex justify-between"},[o("div",{class:"flex gap-2"},[o(R,{label:"整体编辑",icon:"pi pi-pencil",onClick:p}),o(R,{label:"添加条目",icon:"pi pi-plus",onClick:v}),o(R,{label:"保存版本",icon:"pi pi-save",onClick:m})])]),i.value&&o("div",{class:"mb-4"},[o("div",{class:"font-bold mb-2"},["编辑整个笔记 (JSON 格式)"]),o(H,{modelValue:t.value,"onUpdate:modelValue":y=>t.value=y,class:"w-full font-mono min-h-16rem max-h-90vh"}),o("div",{class:"mt-2 flex gap-2"},[o(M,{label:"保存",icon:"pi pi-check",onClick:f}),o(M,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:u})])]),c.value>=0&&o("div",{class:"mb-4"},[o("div",{class:"font-bold mb-2"},[`编辑条目: ${n.value}`]),o(H,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:"w-full font-mono min-h-16rem max-h-90vh"}),o("div",{class:"mt-2 flex gap-2"},[o(M,{label:"保存",icon:"pi pi-check",onClick:$}),o(M,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:B})])]),!i.value&&c.value<0&&((k=e.notebook)==null?void 0:k.entries)&&o("div",{class:"mt-4"},[o("div",{class:"font-bold mb-2"},["笔记条目列表"]),...e.notebook.entries.map((y,E)=>({entry:y,index:E})).sort((y,E)=>!!y.entry.deleted!=!!E.entry.deleted?y.entry.deleted?1:-1:y.index-E.index).map(({entry:y,index:E})=>o("div",{key:`entry-${E}`,class:`p-3 border-b flex justify-between items-center hover:bg-gray-50 
                            ${y.deleted?"bg-red-50 dark:bg-red-900/10":""}`},[o("div",{class:"flex-1 flex items-center"},[y.deleted&&o("div",{class:"mr-2 flex items-center justify-center w-6 h-6 rounded-full bg-red-500/20 text-red-600"},[o("i",{class:"pi pi-trash text-xs"})]),o("div",{class:"flex-1"},[o("span",{class:`font-bold ${y.deleted?"line-through text-red-600 dark:text-red-400":""}`},[`${y.name}`]),y.desc&&o("span",{class:`ml-2 text-gray-500 ${y.deleted?"line-through":""}`},[` - ${y.desc}`])])]),o("div",{class:"flex gap-2"},[y.deleted?[o(R,{icon:"pi pi-refresh",tip:"恢复此条目",class:"p-button-success",onClick:()=>D(E)}),o(R,{icon:"pi pi-trash",tip:"永久删除此条目",class:"p-button-danger",onClick:()=>w(E)})]:[o(R,{icon:"pi pi-pencil",tip:"编辑此条目",onClick:()=>x(E)}),o(R,{icon:"pi pi-ban",tip:"标记为已删除",class:"p-button-warning",onClick:()=>S(E)})]])]))]),o(fe,{header:"确认取消",visible:l.value,"onUpdate:visible":y=>l.value=y,modal:!0,style:{width:"30rem"},class:"p-fluid"},{default:()=>o("div",{},[o("p",{},["您确定要取消编辑吗？所有未保存的更改都将丢失。"])]),footer:()=>o("div",{class:"flex justify-end gap-2"},[o(M,{label:"是的，取消编辑",icon:"pi pi-check",onClick:g,autofocus:!0}),o(M,{label:"返回编辑",icon:"pi pi-times",class:"p-button-secondary",onClick:()=>l.value=!1})])})])}})}}),Me=L({name:"FileUploadDialog",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"上传文件"},acceptedFileTypes:{type:String,default:"application/json"}},emits:["update:visible","fileUploaded"],setup(e,{emit:r}){const a=ge(),t=q(!1),i=q(null),l=u=>{const g=u.target;g.files&&g.files.length>0&&p(g.files[0])},c=u=>{u.preventDefault(),u.stopPropagation(),t.value=!0},n=u=>{u.preventDefault(),u.stopPropagation(),t.value=!0},s=u=>{u.preventDefault(),u.stopPropagation(),t.value=!1},d=u=>{var g;u.preventDefault(),u.stopPropagation(),t.value=!1,(g=u.dataTransfer)!=null&&g.files&&u.dataTransfer.files.length>0&&p(u.dataTransfer.files[0])},p=u=>{const g=new FileReader;g.onload=x=>{var $;try{r("fileUploaded",{name:u.name,content:($=x.target)==null?void 0:$.result,file:u}),r("update:visible",!1),a.add({severity:"success",summary:"文件上传成功",detail:`已成功上传文件 ${u.name}`,life:3e3})}catch(B){a.add({severity:"error",summary:"文件处理错误",detail:B.message||"无法处理上传的文件",life:3e3})}},g.onerror=()=>{a.add({severity:"error",summary:"读取文件错误",detail:"无法读取上传的文件",life:3e3})},g.readAsText(u)},f=()=>{var u;(u=i.value)==null||u.click()};return()=>o(fe,{visible:e.visible,header:e.title,modal:!0,"onUpdate:visible":u=>r("update:visible",u),style:{width:"30rem"},class:"p-fluid"},{default:()=>[o("input",{ref:i,type:"file",accept:e.acceptedFileTypes,style:{display:"none"},onChange:l}),o("div",{class:["border-2 border-dashed rounded-lg p-6 mb-4 text-center cursor-pointer transition-all",t.value?"border-primary bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700"],onDragenter:c,onDragover:n,onDragleave:s,onDrop:d,onClick:f},[o("i",{class:["pi pi-upload text-4xl mb-3",t.value?"text-primary":"text-gray-500"]}),o("h3",{class:"font-medium mb-2"},"拖拽文件到此处或点击上传"),o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-0"},`支持的文件类型: ${e.acceptedFileTypes==="application/json"?"JSON":e.acceptedFileTypes}`)]),o("div",{class:"flex justify-end gap-2"},[o(M,{label:"选择文件",icon:"pi pi-folder-open",onClick:f}),o(M,{label:"取消",icon:"pi pi-times",class:"p-button-secondary",onClick:()=>r("update:visible",!1)})])]})}}),_0=(e,r)=>(r==null||r(e),e),le="相对认真（v1.7.3）",Ce="【【【笔记介绍】】】",we="【【【笔记操作介绍】】】",_o=Ce,Ao=we;function Ee(e,r,a,t,i){let l=e;const c=t||Ce,n=i||we;return r&&(l=l.replace(new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)),a&&(l=l.replace(new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)),l}const se=`
你的笔记以 JSON 格式记录和呈现，遵循名为 \`QTBook\` 的接口定义：
\`\`\`TypeScript
interface QTBook { entries: QTEntry[]; }
interface QTEntry {
  name: string;
  // 题型名称，记录你对这个题型的命名。

  desc: string;
  // 题型描述，记录你对这个题型的描述。包括答题目标、答案的格式等。

  clue: string;
  // 题型识别线索，记录你将如何把一道题目识别为这个题型，也包括如何排除其他题型。
  // 注意不要仅考虑题面表述，还要考虑实际做题步骤和关注点的差异。

  steps: string[];
  // 解题步骤，记录你解题的步骤，越靠前的越优先处理；这是笔记中最关键的部分；
  // 这些步骤是js函数形式的伪代码，并且你可以假设环境中具有一些你需要的工具函数（tool functions），它们被记录在tools字段中；
  // 这些步骤本身应该具有通用性，而不应该仅适用于非常特例化的情形。
  // 特例化的信息可以通过查询知识库（KDB）的方式来实现，你应该假设以往的知识库查询结果会被记录在笔记的datums字段中；
  // 更具体来说：
  // - steps应该用**js箭头函数**形式的**伪代码**来写，以便理清其中的逻辑关系。
  //   - 这些步骤函数之间通过一个名为\`vars\`的字典对象传递数据，
  //     每个函数都应该是对\`vars\`字典对象的一个操作，函数的输入和输出都是\`vars\`字典对象。
  //   - 对于判断、取值、查询、验证等类型的步骤，你应该假设自己能够查询到一个知识库（KDB），并且能够从中获取到你需要的信息。
  //     但这些信息应该放在\`datums\`中，而不是放在\`steps\`中。
  // - 如果你在答题时使用了\`KDB\`，那么你应该在\`datums\`中以json对象的形式记录下你所查询的内容（query），以及你从中获取到的信息。
  // 对于非常特例化的情形，可以通过datums来记录，而不是通过steps来记录。

  tools: ToolFunc[];
  // 工具函数，记录你在解题时所用到的工具函数，这些函数应该具有通用性，而不应该仅适用于非常特例化的情形。

  datums: KDBDatum[];
  // 数据记录，记录你在查询知识库时所查找到的具体数据，这些数据应该满足：
  // ①与具体题目无关，
  // ②足够具体，能够帮助你在解题时进行推理，
  // ③可以被复用到其他题目中。

  tips: string[];
  // 重要提示，记录你认为在解这类题时尤为需要注意的事项，越靠前的越重要。
  // tips应该用**自然语言**来写，以便让人更容易理解，并且应该具有泛化性。
  // 注意：tips应该相对普适和通用，而特例化的内容应该以datums的形式记录。
  // tips的数量最多不应该超过10条。如果你觉得10条都不够用，那么你应该考虑将当前题型拆分成多个更加细分的题型。

}
interface ToolFunc {
  idx: number;  // 数据的索引，唯一标识
  name: string;  // 工具函数的名称
  desc: string;  // 工具函数的描述
  args: ToolFuncArg[];  // 工具函数的参数列表
}
interface ToolFuncArg {
  name: string;  // 工具函数参数的名称
  desc: string;  // 工具函数参数的描述
}
interface KDBDatum {
  idx: number;  // 数据的索引，唯一标识
  query: string;  // 查询的内容
  input: {[key: string]: any;};  // 查询的输入
  output: {[key: string]: any;};  // 查询的输出
  [key: string]: any;  // 其他任何与查询有关的信息
}
\`\`\`

`.trim(),ce=`
你可以对笔记进行以下操作：
- \`CREATE_QT(qt:QTEntry)\`：
  - 新增一种题型，并记录name, desc, clue, steps, datums和tips等信息。
- \`MODIFY_QT(name:string, newQt:QTEntry)\`：
  - 将名为name的题型整个重写，修改为新的name, desc, clue, steps和tips等信息。
- \`MODIFY_QT_KV(name:string, key:(keyof QTEntry), value:any)\`：
  - 将名为name的题型的某个字段修改为指定的值，尤其适用于修改 name, desc, clue 等简单字段。
  - 如果需要对steps和tips进行大幅度的修改，比如重新排序，也可以用这种方式直接整个重写，但通常你应该用下面的专用操作来处理steps和tips。

- \`APPEND_STEP(name:string, step:string)\`：在名为name的题型的steps最后追加一个新的步骤。
- \`REMOVE_STEP(name:string, step:string)\`：在名为name的题型的steps中删除一个步骤。
- \`MODIFY_STEP(name:string, oldStep:string, newStep:string)\`：在名为name的题型的steps中，将oldStep修改为newStep。

- \`APPEND_TIP(name:string, tip:string)\`：在名为name的题型的tips最后追加一条新的提示信息。
- \`REMOVE_TIP(name:string, tip:string)\`：在名为name的题型的tips中删除一条提示信息。
- \`MODIFY_TIP(name:string, oldTip:string, newTip:string)\`：在名为name的题型的tips中，将oldTip修改为newTip。

- \`INSERT_STEP_AFTER(name:string, refStep:string, newStep:string)\`：在名为name的题型的steps中，找到refStep步骤，在其之后插入一个新的步骤newStep。
- \`INSERT_STEP_BEFORE(name:string, refStep:string, newStep:string)\`：在名为name的题型的steps中，找到refStep步骤，在其之前插入一个新的步骤newStep。

- \`APPEND_TOOL(name:string, tool:ToolFunc)\`：在名为name的题型的tools最后追加一个tool。
- \`MODIFY_TOOL(name:string, idx:number, newTool:ToolFunc)\`：名为name的题型的tools中，将索引为idx的tool修改为新的tool。
- \`DELETE_TOOL(name:string, idx:number)\`：名为name的题型的tools中，删除索引为idx的tool。

- \`APPEND_DATUM(name:string, datum:KDBDatum)\`：在名为name的题型的datums最后追加一个datum。
- \`MODIFY_DATUM(name:string, idx:number, newDatum:KDBDatum)\`：名为name的题型的datums中，将索引为idx的datum修改为新的datum。
- \`DELETE_DATUM(name:string, idx:number)\`：名为name的题型的datums中，删除索引为idx的datum。

- \`DELETE_QT(name:string)\`：删除名为name的题型。
  - 通常只有当你需要大幅度修改某个题型，或者希望对某些题型做拆分或合并的时候才会使用。
  - 这是非常危险的操作，请谨慎考虑。

【特别提醒】
如果你发觉现有的解题步骤和提示与当前题目有较大出入，希望做很多修改，
那么你应该考虑创建一种新的题型，而不是对原有题型的笔记做大幅度修改。
**因为很多题型看似相似，实际上却有很大不同。**
在你意识到这种情况时，你还应该修改原本题型的名称、描述和线索等信息，以便更好地反映出它们之间的差异。
`.trim();function A0(e){const r=e.operations??[];e.qtBook.entries==null&&(e.qtBook.entries=[]);const a=e.qtBook,t=l=>{l.datums==null&&(l.datums=[]),l.datums.forEach(c=>{c.idx=void 0}),l.datums=P.uniqBy(l.datums,c=>JSON.stringify(c)),l.datums.forEach((c,n)=>{c.idx=n})},i=l=>{l.tools==null&&(l.tools=[]),l.tools.forEach(c=>{c.idx=void 0}),l.tools=P.uniqBy(l.tools,c=>JSON.stringify(c)),l.tools.forEach((c,n)=>{c.idx=n})};e.qtBook=_0(a,l=>{var c;for(const n of r)if(console.log(n.method),n.method!=="PASS"){if(n.method==="DELETE_QT"){const s=((l==null?void 0:l.entries)??[]).findIndex(d=>d.name===n.args.name);s&&(l.entries[s].deleted=!0)}else if(n.method==="CREATE_QT")l.entries.push(((c=n.args)==null?void 0:c.qt)??n.args),l.entries=P.uniqBy(l.entries,s=>JSON.stringify(s));else if(n.method==="MODIFY_QT"){const s=((l==null?void 0:l.entries)??[]).findIndex(d=>d.name===n.args.name);s&&(l.entries[s]=n.args.newQt)}else if(n.method==="MODIFY_QT_KV"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s[n.args.key]=n.args.value,P.isArray(s[n.args.key])&&(s[n.args.key]=P.uniq(s[n.args.key])))}else if(n.method==="APPEND_TOOL"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.tools==null&&(s.tools=[]),s.tools.push(n.args.tool),i(s))}else if(n.method==="MODIFY_TOOL"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.tools==null&&(s.tools=[]);const d=s.tools.findIndex(p=>p.idx===n.args.idx);d>=0&&(s.tools[d]=n.args.newTool,s.tools[d].idx=n.args.idx),i(s)}}else if(n.method==="DELETE_TOOL"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.tools==null&&(s.tools=[]),s.tools=s.tools.filter(d=>d.idx!==n.args.idx),i(s))}else if(n.method==="APPEND_DATUM"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.datums==null&&(s.datums=[]),s.datums.push(n.args.datum),t(s))}else if(n.method==="MODIFY_DATUM"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.datums==null&&(s.datums=[]);const d=s.datums.findIndex(p=>p.idx===n.args.idx);d>=0&&(s.datums[d]=n.args.newDatum,s.datums[d].idx=n.args.idx),t(s)}}else if(n.method==="DELETE_DATUM"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.datums==null&&(s.datums=[]),s.datums=s.datums.filter(d=>d.idx!==n.args.idx),t(s))}else if(n.method==="APPEND_TIP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.tips==null&&(s.tips=[]),s.tips.push(n.args.tip),s.tips=P.uniq(s.tips))}else if(n.method==="MODIFY_TIP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.tips==null&&(s.tips=[]);const d=s.tips.findIndex(p=>p===n.args.oldTip);d>=0&&(s.tips[d]=n.args.newTip)}}else if(n.method==="REMOVE_TIP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.tips==null&&(s.tips=[]),s.tips=s.tips.filter(d=>d!==n.args.tip))}else if(n.method==="APPEND_STEP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.steps==null&&(s.steps=[]),s.steps.push(n.args.step),s.steps=P.uniq(s.steps))}else if(n.method==="MODIFY_STEP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(p=>p===n.args.oldStep);d>=0&&(s.steps[d]=n.args.newStep)}}else if(n.method==="REMOVE_STEP"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);s&&(s.steps==null&&(s.steps=[]),s.steps=s.steps.filter(d=>d!==n.args.step))}else if(n.method==="INSERT_STEP_AFTER"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(p=>p===n.args.refStep);d>=0&&(s.steps.splice(d+1,0,n.args.newStep),s.steps=P.uniq(s.steps))}}else if(n.method==="INSERT_STEP_BEFORE"){const s=((l==null?void 0:l.entries)??[]).find(d=>d.name===n.args.name);if(s){s.steps==null&&(s.steps=[]);const d=s.steps.findIndex(p=>p===n.args.refStep);d>=0&&(s.steps.splice(d,0,n.args.newStep),s.steps=P.uniq(s.steps))}}}})}const qe=`
### 任务描述
判断当前题目是否属于现有题型中的某个题型（但不用做题）。

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的题型体系和要判断的题目数据。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  analyze: string;  // 你的初步分析。
  matched: boolean;  // 是否找到匹配的题型
  name?: string|null|undefined;  // 匹配的题型名称
}
\`\`\`
`.trim();function V0(e){var i,l;const r=[];r.push("====[题型体系]====");const t=P.clone((((i=e==null?void 0:e.qtBook)==null?void 0:i.entries)??[]).filter(c=>!c.deleted)).filter(c=>!c.deleted).map(c=>P.pick(c,["name","desc","clue"]));return r.push(JSON.stringify(t)),r.push("====[题目]===="),(e==null?void 0:e.question)==null?r.push("无内容"):r.push(JSON.stringify(((l=e.question)==null?void 0:l.content)??"无内容")),r.push("====[请按要求回应]===="),r.join(`
`)}async function F0(e,r,a,t){return await Ne(t||qe,V0,e,r,null,a)}const ze=`
### 任务描述
你需要结合现有的笔记，完成题目，并按要求回复。
- 你应该遵循笔记中的步骤描述（steps）来完成题目，这些步骤是伪代码，而你可以选择使用自然语言、结合题目内容来阐述这些步骤。
- 你可以假定存在笔记中定义的工具函数（tools），通过扮演和模拟来使用它们。
- 你需要检查笔记中的数据记录（datums），看看是否用得上。
- 你要注意笔记中提到的提示（tips），并在答题时遵循它们。
- 笔记不一定完全可靠，你需要灵活变通。
- 如果没有匹配的题型，或者笔记不够清晰，则需要自己思考，建立答题思路。

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的笔记和要完成的题目。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  plan: string;  // 你的初步计划，描述你打算如何完成这个题目。简要描述即可。
  usefulDatums?: string[]; // 如果笔记中有某些datum对完成这个题目有帮助，你可以在这里用自然语言描述。
  analyzes: string[];  // 详细的解题过程，应该遵循笔记中的步骤，需要结合题目具体内容详细具体地阐述。
  answer: string;  // 你的最终答案，通常是一个字符串。
  didFollow: boolean;  // 是否遵循了笔记的思路。
  reflection?: string;  // 【非必要】你对这个题目的反思，描述你在完成这个题目时的思考过程和收获。
  noteAdvice?: string;  // 【非必要】你对笔记的建议，描述你认为笔记中哪些地方需要改进。
}
\`\`\`
`.trim();function U0(e){var t,i,l,c,n;const r=P.clone((e==null?void 0:e.note)??{});(t=r==null?void 0:r.steps)!=null&&t.length&&(r.stepsNum=r.steps.length),(i=r==null?void 0:r.tools)!=null&&i.length&&(r.toolsNum=r.tools.length),(l=r==null?void 0:r.datums)!=null&&l.length&&(r.datumsNum=r.datums.length),(c=r==null?void 0:r.tips)!=null&&c.length&&(r.tipsNum=r.tips.length);const a=[];return a.push("====[笔记]===="),a.push(JSON.stringify(r)),a.push("====[题目]===="),(e==null?void 0:e.question)==null?a.push("无内容"):a.push(JSON.stringify(((n=e.question)==null?void 0:n.content)??"无内容")),a.push("====[请按要求回应]===="),a.join(`
`)}async function M0(e,r,a,t){return await Ne(t||ze,U0,e,r,null,a)}const Ie=`
### 任务描述
总任务：根据错题和正确答案，作充分的分析，并规划笔记的修改方案。按要求回复。
如果要修改笔记，你需要使用特定的笔记操作算子（见下文）来完成修改，并以JSON对象的形式嵌入在你的回应中。
笔记修改的重点应该是对题型的区分，以及围绕解题步骤的完善。

### 关于笔记
${_o}

### 笔记操作
${Ao}

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供题目、正确答案（可能带有解释说明）、错误答案和现有的笔记。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  glance: string;  // 简要描述你对错误情况的第一印象。
  format_analyze: string;  // 检查正确答案和错误答案，评估是否仅是由于格式问题导致的错误。如果存在这种错误，则应该完善题型的name、desc或clue（判别依据）。
  analyze0: string;  // 详细讨论为什么现有的笔记不足以解决这个题目。针对steps, tools, datums和tips逐个进行分析。
  analyze1: string;  // 你认为目前笔记的总体思路是否出现重大偏颇，导致需要大幅度修改。
  analyze2: string;  // 仔细分析对于当前题目，是不是创建一个新的题型来处理会更加合适。尤其要注意如果题目的情形只属于笔记中的一种非常细分的情形，则建议创建一个新的题型。
  analyze3: string;  // 你是否发觉到目前的笔记中有某些内容是错误的，或者是需要修改的。

  analyze4: string;  // 你是否觉得出题人的思维方式比较古怪，甚至有无可能是出题人搞错了。
  analyze5: string;  // 你觉得题目的表述是否不够清楚或存在歧义，导致引人误解（有的话需要制定对策）。
  analyze6: string;  // 你觉得各题型的steps对于解决该类题型的问题是否具有通用性。
  analyze7: string;  // 你觉得目前的tools配置是否合理和充分。
  analyze8: string;  // 你觉得目前的datums中是否存在不够清晰、过于武断或存在错误等情形。
  analyze9: string;  // 你觉得目前的tips中是否存在过于特例化或武断的内容（特例内容应放到datums中）。

  analyze10: string;  // 目前笔记是否存在 stepsNum>10||toolsNum>10||datumsNum>10||tipsNum>10 的情况（若存在，则需要考虑拆分成多个题型）。
  analyze11: string;  // 你觉得不同题型之间是否具有足够的差异性，它们的name、desc或clue（判别依据）是否足够清楚。

  analyze12: string;  // 你认为目前的笔记是否能帮助答题者举一反三。
  analyze13: string;  // 你认为目前的笔记是否存在重复和冗余的内容。
  analyze14: string;  // 你对目前笔记（包括steps、tools、datums、tips）的其他可改进之处（包括增补、除冗、除错等）的概要分析。

  analyze_final: string;  // 你的总结。
  operations?: {
    method: string;  // 如 "CREATE_QT" 等，是你计划对笔记执行的操作。
    args: {[key: string]: any};  // 你计划对笔记执行的操作的参数，参见 笔记操作 一节。
  }[];  // 你计划对笔记执行的若干操作。如果你认为没必要修改，则可以不返回这个字段。
}
\`\`\`
`.trim();function L0(e){var t;const r=P.clone((((t=e==null?void 0:e.qtBook)==null?void 0:t.entries)??[]).filter(i=>!i.deleted));r.forEach(i=>{var l,c,n,s;(l=i==null?void 0:i.steps)!=null&&l.length&&(i.stepsNum=i.steps.length),(c=i==null?void 0:i.tools)!=null&&c.length&&(i.toolsNum=i.tools.length),(n=i==null?void 0:i.datums)!=null&&n.length&&(i.datumsNum=i.datums.length),(s=i==null?void 0:i.tips)!=null&&s.length&&(i.tipsNum=i.tips.length)});const a=[];return a.push("====[笔记]===="),a.push(JSON.stringify({entries:r})),a.push("====[题目、正误答案、解析]===="),a.push((e==null?void 0:e.errorCase)==null?"（无内容）":JSON.stringify((e==null?void 0:e.errorCase)??[])),a.push("====[请按要求回应]===="),a.join(`
`)}async function j0(e,r,a,t,i,l,c,n){const s=Ee(t||Ie,i||se,l||ce,c,n);return await Ne(s,L0,e,r,null,a)}const Pe=`
### 任务描述
总任务：结合原始笔记，把不同的笔记修改计划合并且完善成单独一份笔记修改计划。
0、你将看到若干名做题专家对于一份答题笔记的修改计划。专家们的工作是并行的，所以可能存在重复。
1、你要评估来自不同专家的笔记修改计划之间的共性和差异。
2、尤其注意如果有专家要创建新的题型，要看看其他专家是否也想创建类似的题型，但使用了不同的题型名称。
3、你需要把所有专家的修改计划合并成一份新的笔记修改计划，覆盖他们所提到的所有修改，但去除了实际含义有重复的部分。
4、你还要考虑原始笔记的情况，以及不同修改方案和原始笔记之间的叙述风格。
5、如果笔记的格式或风格混乱或不一致，你需要自己额外制定修改计划进行整理。

### 关于笔记
${_o}

### 笔记操作
${Ao}

### user是谁
user并不是通常意义上的人类用户，而是一个数据接口，也是你的助理，
它会为你提供现有的笔记和专家们的修改计划（并行）。

### 完善笔记所应考虑的方面
- 目前笔记的总体思路是否出现重大偏颇，导致需要大幅度修改。
- 目前的笔记中是否有某些内容是错误的，或者是需要修改的。
- 各题型的steps对于解决该类题型的问题是否具有通用性。
- 目前的tools配置是否合理和充分。
- 目前的datums中是否存在不够清晰、过于武断或存在错误等情形。
- 目前的tips中是否存在过于特例化或武断的内容（特例内容应放到datums中）。
- 目前笔记中的tips是否超过10条（若超过，则需要考虑拆分成多个题型）。
- 目前笔记中的steps是否超过10个步骤（若超过，则需要考虑拆分成多个题型）。
- 不同题型之间是否具有足够的差异性，它们的name、desc或clue（判别依据）是否足够清楚。
- 目前的笔记是否能帮助答题者举一反三。
- 目前的笔记是否存在重复和冗余的内容。
- 目前的各个题型的笔记内部风格和格式是否一致。
- 你对目前笔记（包括steps、tools、datums、tips）的其他可改进之处（包括增补、除冗、除错等）的概要分析。

### 你的回应
你应该回复一个标注的JSON对象（不带其他任何内容），符合以下接口定义：
\`\`\`TypeScript
interface YourResponse {
  /** 你对不同专家修改计划的分析和大致的合并思路。 */
  analyze1: string;
  /** 你根据原有笔记内容及风格所做的额外分析及进一步完善的思路 */
  analyze2: string;
  /** 经过你合并和完善之后的修改计划。 */
  operations?: {
    method: string;  // 如 "CREATE_QT" 等，是计划对笔记执行的操作。
    args: {[key: string]: any};  // 计划对笔记执行的操作的参数，参见 笔记操作 一节。
  }[];
}
\`\`\`



`.trim();function J0(e){var t;const r=P.clone((((t=e==null?void 0:e.qtBook)==null?void 0:t.entries)??[]).filter(i=>!i.deleted));r.forEach(i=>{var l,c,n,s;(l=i==null?void 0:i.steps)!=null&&l.length&&(i.stepsNum=i.steps.length),(c=i==null?void 0:i.tools)!=null&&c.length&&(i.toolsNum=i.tools.length),(n=i==null?void 0:i.datums)!=null&&n.length&&(i.datumsNum=i.datums.length),(s=i==null?void 0:i.tips)!=null&&s.length&&(i.tipsNum=i.tips.length)});const a=[];return a.push("====[笔记]===="),a.push(JSON.stringify((e==null?void 0:e.qtBook)??{entries:r})),a.push("====[并行修改计划]===="),a.push((e==null?void 0:e.opPlans)==null?"（无内容）":JSON.stringify((e==null?void 0:e.opPlans)??[])),a.push("====[请按要求回应]===="),a.join(`
`)}async function Q0(e,r,a,t,i,l,c,n){const s=Ee(t||Pe,i||se,l||ce,c,n);return await Ne(s,J0,e,r,null,a)}const G0=L({name:"PromptTemplatesPanel",props:{savedTemplates:{type:Object,required:!1}},emits:["update:templates","save"],setup(e,{emit:r}){const a=ge(),t=Y({version:le,stage0_判断题型:qe||"",stage1_根据笔记做题:ze||"",stage2_根据错题修改笔记:Ie||"",stage4_合并对笔记的修改:Pe||"",笔记介绍:se||"",笔记操作介绍:ce||"",笔记介绍标记:Ce,笔记操作介绍标记:we});te(()=>{e.savedTemplates&&Object.assign(t,e.savedTemplates)}),ue(()=>e.savedTemplates,n=>{n&&Object.assign(t,n)});const i=()=>{t.version=le,t.stage0_判断题型=qe,t.stage1_根据笔记做题=ze,t.stage2_根据错题修改笔记=Ie,t.stage4_合并对笔记的修改=Pe,t.笔记介绍=se,t.笔记操作介绍=ce,t.笔记介绍标记=Ce,t.笔记操作介绍标记=we,r("update:templates",P.cloneDeep(t)),a.add({severity:"info",summary:"重置模板",detail:"所有提示词模板已重置为默认值",life:2e3})},l=()=>{r("save",P.cloneDeep(t)),a.add({severity:"success",summary:"保存成功",detail:"提示词模板已保存",life:2e3})},c=(n,s)=>{t[n]=s,r("update:templates",P.cloneDeep(t))};return()=>o("div",{class:"stack-v gap-4"},[o(V,{header:"提示词模板版本",toggleable:!0,class:["w-full my-1.5rem!","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-4"},[o("div",{class:"flex justify-between items-center"},[o("div",{class:"flex items-center gap-2"},[o("span",{class:"font-bold"},"当前版本: "),o(j,{modelValue:t.version,"onUpdate:modelValue":n=>c("version",n),placeholder:"版本标识",class:"w-40"})]),o("div",{class:"stack-h gap-2"},[o(M,{label:"重置为默认值",icon:"pi pi-refresh",severity:"secondary",outlined:!0,onClick:i}),o(M,{label:"保存配置",icon:"pi pi-save",onClick:l})])])])}),o("div",{class:"w-full grid grid-cols-1 lg:grid-cols-2 gap-4"},[o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"笔记介绍",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("div",{class:"flex items-center gap-2 mb-2"},[o("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记介绍标记:"),o(j,{modelValue:t.笔记介绍标记,"onUpdate:modelValue":n=>c("笔记介绍标记",n),placeholder:"替换标记",class:"w-64 font-mono"})]),o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记介绍内容，在模板中可用上面定义的替换标记引用。这是笔记格式的定义说明。"),o(H,{modelValue:t.笔记介绍,"onUpdate:modelValue":n=>c("笔记介绍",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"笔记操作介绍",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("div",{class:"flex items-center gap-2 mb-2"},[o("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记操作介绍标记:"),o(j,{modelValue:t.笔记操作介绍标记,"onUpdate:modelValue":n=>c("笔记操作介绍标记",n),placeholder:"替换标记",class:"w-64 font-mono"})]),o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"笔记操作介绍内容，在模板中可用上面定义的替换标记引用。这是笔记操作方法的说明。"),o(H,{modelValue:t.笔记操作介绍,"onUpdate:modelValue":n=>c("笔记操作介绍",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"判断题型模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于判断当前题目是否属于现有题型中的某个题型。"),o(H,{modelValue:t.stage0_判断题型,"onUpdate:modelValue":n=>c("stage0_判断题型",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"根据笔记做题模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于结合现有笔记完成题目的提示词模板。"),o(H,{modelValue:t.stage1_根据笔记做题,"onUpdate:modelValue":n=>c("stage1_根据笔记做题",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"根据错题修改笔记模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于根据错题和正确答案分析并规划笔记修改的模板。"),o(H,{modelValue:t.stage2_根据错题修改笔记,"onUpdate:modelValue":n=>c("stage2_根据错题修改笔记",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})]),o("div",{class:"col-span-1 lg:col-span-1 stack-v gap-4"},[o(V,{header:"合并对笔记的修改模板",toggleable:!0,class:["w-full","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>o("div",{class:"stack-v gap-2"},[o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"用于合并不同专家对笔记的修改计划的模板。"),o(H,{modelValue:t.stage4_合并对笔记的修改,"onUpdate:modelValue":n=>c("stage4_合并对笔记的修改",n),class:"w-full font-mono text-sm max-h-80vh min-h-10rem",autoResize:!0})])})])])])}}),W0=L({name:"QuestionBankConfigPanel",directives:{tooltip:xo},emits:["processedDataImported"],setup(e,{emit:r}){const a=ge(),t=q(!1),i=q(!1),l=q(""),c=q("question-bank-config.json"),n=Y({nnidConfig:{sourceField:"",prefix:"[NNID]"},fieldMapping:{contentFields:[],explainFields:[],answerField:""},additionalContentFields:[],availableFields:[],originalData:[],processedData:[],previewSamples:{original:[],processed:[]}}),s=()=>{const m=l.value.trim();m?n.availableFields.includes(m)?a.add({severity:"info",summary:"选项已存在",detail:`字段 "${m}" 已经存在。`,life:2e3}):(n.availableFields.push(m),a.add({severity:"success",summary:"选项已添加",detail:`字段 "${m}" 已成功添加。`,life:2e3}),l.value=""):a.add({severity:"warn",summary:"输入无效",detail:"选项名称不能为空。",life:2e3})},d=m=>{try{if(!m.content||typeof m.content!="string"){a.add({severity:"error",summary:"导入失败",detail:"无效的文件内容。",life:3e3});return}let v;if(m.name.endsWith(".jsonl"))v=m.content.split(`
`).filter(S=>S.trim()).map(S=>JSON.parse(S));else if(m.name.endsWith(".json"))v=JSON.parse(m.content);else{a.add({severity:"error",summary:"导入失败",detail:"不支持的文件类型。请使用 JSON 或 JSONL。",life:3e3});return}if(!Array.isArray(v)){const w=Object.keys(v);let S=!1;for(let D=0;D<w.length;D++){const k=w[D];if(Array.isArray(v[k])){v=v[k],S=!0;break}}if(!S||!Array.isArray(v)){a.add({severity:"error",summary:"导入失败",detail:"在 JSON 中找不到有效的数据数组。",life:3e3});return}}if(v.length===0){a.add({severity:"error",summary:"导入失败",detail:"文件中未找到数据。",life:3e3});return}n.originalData=v,n.availableFields=Object.keys(v[0]||{}),n.nnidConfig.sourceField=n.availableFields.includes("id")?"id":n.availableFields[0]||"",n.fieldMapping.contentFields=[],n.fieldMapping.explainFields=[],n.fieldMapping.answerField=n.availableFields.includes("answer")?"answer":n.availableFields[0]||"",p(),a.add({severity:"success",summary:"导入成功",detail:`成功导入 ${v.length} 条记录。`,life:3e3}),t.value=!1}catch(v){console.error("文件导入失败:",v),a.add({severity:"error",summary:"导入失败",detail:v.message||"无法解析文件内容。",life:3e3})}},p=()=>{if(!n.originalData.length){n.processedData=[],n.previewSamples.original=[],n.previewSamples.processed=[];return}const{nnidConfig:m,fieldMapping:v,additionalContentFields:w}=n;n.processedData=n.originalData.map(S=>{const D=`${m.prefix}${S[m.sourceField]||"N/A"}`,k={};v.contentFields.forEach(O=>{S[O]!==void 0&&(k[O]=S[O])}),w.forEach(O=>{O.key.trim()&&(k[O.key.trim()]=O.value)});let y;v.explainFields.length>0&&(y={},v.explainFields.forEach(O=>{S[O]!==void 0&&(y[O]=S[O])}));const E=S[v.answerField]!==void 0?S[v.answerField]:null;return{nnid:D,content:k,explain:y,answer:E}}),n.previewSamples.original=n.originalData.slice(0,3),n.previewSamples.processed=n.processedData.slice(0,3)},f=()=>{n.additionalContentFields.push({key:"",value:""})},u=m=>{n.additionalContentFields.splice(m,1),p()},g=()=>{try{const m={nnidConfig:n.nnidConfig,fieldMapping:n.fieldMapping,additionalContentFields:n.additionalContentFields},v=JSON.stringify(m,null,2),w=new Blob([v],{type:"application/json"}),S=URL.createObjectURL(w),D=document.createElement("a");D.href=S;let k=c.value.trim();k||(k="question-bank-config.json"),k.toLowerCase().endsWith(".json")||(k+=".json"),D.download=k,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(S),a.add({severity:"success",summary:"配置已导出",detail:`预处理配置已导出为 ${k}。`,life:3e3})}catch(m){console.error("导出配置失败:",m),a.add({severity:"error",summary:"导出失败",detail:"无法导出配置。",life:3e3})}},x=m=>{var v,w,S;try{if(!m.content||typeof m.content!="string"){a.add({severity:"error",summary:"导入失败",detail:"无效的文件内容。",life:3e3});return}if(!m.name.endsWith(".json")){a.add({severity:"error",summary:"导入失败",detail:"不支持的文件类型。请使用 JSON 文件。",life:3e3});return}const D=JSON.parse(m.content);if(D&&D.nnidConfig&&D.fieldMapping){n.nnidConfig=D.nnidConfig,n.fieldMapping=D.fieldMapping,n.additionalContentFields=D.additionalContentFields||[];const k=new Set;D.nnidConfig.sourceField&&k.add(D.nnidConfig.sourceField),(v=D.fieldMapping.contentFields)==null||v.forEach(y=>k.add(y)),(w=D.fieldMapping.explainFields)==null||w.forEach(y=>k.add(y)),D.fieldMapping.answerField&&k.add(D.fieldMapping.answerField),(S=D.additionalContentFields)==null||S.forEach(y=>k.add(y.key)),k.forEach(y=>{y&&!n.availableFields.includes(y)&&n.availableFields.push(y)}),p(),a.add({severity:"success",summary:"配置已导入",detail:"预处理配置已成功导入并应用。",life:3e3})}else a.add({severity:"error",summary:"导入失败",detail:"配置文件结构无效。",life:3e3});i.value=!1}catch(D){console.error("配置文件导入失败:",D),a.add({severity:"error",summary:"导入失败",detail:D.message||"无法解析配置文件内容。",life:3e3})}},$=()=>{if(!n.processedData.length){a.add({severity:"warn",summary:"无数据",detail:"没有可导入的处理数据。",life:3e3});return}r("processedDataImported",P.cloneDeep(n.processedData)),a.add({severity:"success",summary:"数据已加载",detail:`已加载 ${n.processedData.length} 道题。`,life:3e3})};te(()=>{}),ue(()=>[P.cloneDeep(n.nnidConfig),P.cloneDeep(n.fieldMapping),P.cloneDeep(n.additionalContentFields)],()=>{p()},{deep:!0});const B=J(()=>n.availableFields.map(m=>({label:m,value:m})));return()=>o("div",{class:"stack-v gap-4 my-1.5rem"},[o(V,{header:"题库导入与预处理",toggleable:!0,class:"w-full bg-zinc-100/75! dark:bg-zinc-800/75!"},{default:()=>o("div",{class:"stack-v gap-6"},[o("div",{class:"flex justify-between items-center gap-2"},[o("span",{},"导入题目数据 (JSON 或 JSONL):"),o(M,{label:"上传文件",icon:"pi pi-upload",onClick:()=>t.value=!0})]),...n.originalData.length>0?[o(V,{header:"预处理配置",toggleable:!0,class:"mt-4 w-full"},{default:()=>o("div",{class:"stack-v gap-4 p-fluid"},[o($e,{legend:"NNID 配置",toggleable:!0},{default:()=>o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[o("div",{class:"flex flex-col gap-2"},[o("label",{for:"nnidSource"},"NNID 源字段"),o(ke,{inputId:"nnidSource",options:B.value,modelValue:n.nnidConfig.sourceField,"onUpdate:modelValue":m=>n.nnidConfig.sourceField=m,placeholder:"选择 NNID 源",optionLabel:"label",optionValue:"value",class:"w-full"})]),o("div",{class:"flex flex-col gap-2"},[o("label",{for:"nnidPrefix"},"NNID 前缀"),o(j,{id:"nnidPrefix",modelValue:n.nnidConfig.prefix,"onUpdate:modelValue":m=>n.nnidConfig.prefix=m,placeholder:"输入 NNID 前缀"})])])}),o($e,{legend:"字段映射",toggleable:!0},{default:()=>o("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4"},[o("div",{class:"flex flex-col gap-2"},[o("label",{for:"contentFields"},"内容字段"),o(Ye,{inputId:"contentFields",options:B.value,modelValue:n.fieldMapping.contentFields,"onUpdate:modelValue":m=>n.fieldMapping.contentFields=m,placeholder:"选择内容字段",optionLabel:"label",optionValue:"value",display:"chip",class:"w-full"})]),o("div",{class:"flex flex-col gap-2"},[o("label",{for:"explainFields"},"解释字段 (可选)"),o(Ye,{inputId:"explainFields",options:B.value,modelValue:n.fieldMapping.explainFields,"onUpdate:modelValue":m=>n.fieldMapping.explainFields=m,placeholder:"选择解释字段",optionLabel:"label",optionValue:"value",display:"chip",class:"w-full"})]),o("div",{class:"flex flex-col gap-2"},[o("label",{for:"answerField"},"答案字段"),o(ke,{inputId:"answerField",options:B.value,modelValue:n.fieldMapping.answerField,"onUpdate:modelValue":m=>n.fieldMapping.answerField=m,placeholder:"选择答案字段",optionLabel:"label",optionValue:"value",class:"w-full"})]),o("div",{class:"flex flex-col gap-2"},[o("label",{for:"answerField"},"手动添加字段选项（如果字段未出现在选项中）"),o("div",{class:"flex gap-2 mt-2 items-center"},[o(j,{modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,placeholder:"输入新选项名称",class:"flex-grow p-inputtext-sm",onKeydown:m=>{m.key==="Enter"&&(m.preventDefault(),s())}}),o(M,{icon:"pi pi-plus",size:"small",class:"p-button-sm",onClick:s,disabled:!l.value.trim(),ariaLabel:"添加新选项"})])])])}),o($e,{legend:"附加额外键值对（到content字段中）",toggleable:!0},{default:()=>o("div",{class:"stack-v gap-3"},[...n.additionalContentFields.map((m,v)=>o("div",{key:v,class:"grid grid-cols-[1fr_1fr_auto] gap-2 items-center"},[o(j,{placeholder:"键",modelValue:m.key,"onUpdate:modelValue":w=>m.key=w}),o(j,{placeholder:"值",modelValue:m.value,"onUpdate:modelValue":w=>m.value=w}),o(M,{icon:"pi pi-times",severity:"danger",text:!0,rounded:!0,onClick:()=>u(v)})])),o(M,{label:"新增",icon:"pi pi-plus",outlined:!0,size:"small",onClick:f,class:"self-start"})])}),o("div",{class:"flex flex-col gap-2 mt-4"},[o("label",{for:"exportFilename"},"导出配置文件名"),o(j,{id:"exportFilename",modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,placeholder:"例如: my-config.json"})]),o("div",{class:"flex gap-2 mt-4"},[o(M,{label:"导入配置",icon:"pi pi-folder-open",class:"flex-1",outlined:!0,onClick:()=>i.value=!0}),o(M,{label:"导出配置",icon:"pi pi-download",class:"flex-1",onClick:g})])])}),n.previewSamples.original.length>0?o(V,{header:`数据预览 (显示 ${n.previewSamples.original.length} 条样本)`,toggleable:!0,class:"mt-4"},{default:()=>o("div",{class:"stack-v gap-4"},[...n.previewSamples.original.map((m,v)=>o($e,{key:v,legend:`样本 ${v+1}`,toggleable:!0,collapsed:!1},{default:()=>o("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[o("div",{},[o("h4",{class:"font-semibold mb-2"},"原始数据:"),o("pre",{class:"bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs overflow-auto max-h-60"},JSON.stringify(m,null,2))]),o("div",{},[o("h4",{class:"font-semibold mb-2"},"处理后数据:"),o("pre",{class:"bg-gray-100 dark:bg-gray-900 p-2 rounded text-xs overflow-auto max-h-60"},JSON.stringify(n.previewSamples.processed[v]||{},null,2))])])}))])}):null].filter(Boolean):[o("div",{class:"text-center text-gray-500 dark:text-gray-400 py-4"},"请上传文件以配置预处理并查看预览。")],n.processedData.length>0?o(M,{label:`加载 ${n.processedData.length} 道试题`,icon:"pi pi-upload",severity:"success",class:"mt-6 w-full md:w-auto self-end",onClick:$}):null])}),o(Me,{title:"导入题目文件",visible:t.value,acceptedFileTypes:".json,.jsonl,application/json",onFileUploaded:d,"onUpdate:visible":m=>{t.value=m}}),o(Me,{title:"导入配置文件",visible:i.value,acceptedFileTypes:".json,application/json",onFileUploaded:x,"onUpdate:visible":m=>{i.value=m}})])}}),Vo={name:"api.suanli.cn",desc:"免费算力",baseUrl:"https://api.suanli.cn/v1",docUrl:"https://qwq.aigpu.cn",defaultModel:"free:QwQ-32B",models:[{id:"free:QwQ-32B"}],modelsUrl:"/models",chatUrl:"/chat/completions",type:"ChatSupplier"},Fo=P.cloneDeep(je);Fo.unshift(Vo);const Ve={label:"[[<DEFAULT>]]"},H0=L({setup(){const e=(()=>{const f=P.cloneDeep(je);return f.unshift(Vo),f})(),r=Y({list:[]}),a=J(()=>P.uniqBy([...r.list,...e],"name")),t=Y({selectedSupplier:Fo[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),i=Y({name:"",desc:"",baseUrl:"",docUrl:"",defaultModel:"",modelsString:'[{"id":"default-model-id"}]',modelsUrl:"",chatUrl:"",type:"ChatSupplier"}),l=["ChatSupplier"],c=J(()=>{var u,g,x;if(!t.selectedSupplier)return{name:Ve.label};const f={name:(u=t.selectedSupplier)==null?void 0:u.defaultModel};return((x=t.selectedModelDict[(g=t.selectedSupplier)==null?void 0:g.name])==null?void 0:x.name)==Ve.label?f:t.selectedModelDict[t.selectedSupplier.name]??f}),n=J(()=>{var f;return(f=t.selectedSupplier)!=null&&f.name?t.supplierModelsDict[t.selectedSupplier.name]??[]:[]}),s=J(()=>[{name:Ve.label},...n.value.map(f=>({name:(f==null?void 0:f.label)??(f==null?void 0:f.name)??(f==null?void 0:f.id)}))]);function d(f){if(!f||f.trim()==="")return[];try{const u=JSON.parse(f);return Array.isArray(u)?u.filter(g=>typeof g=="object"&&g!==null&&(typeof g.id=="string"||typeof g.id=="number")):(alert("Invalid format for Models. Expected a JSON array of objects with an 'id' property."),[])}catch(u){return console.error("Error parsing models string:",u),alert(`Error parsing Models JSON: ${u.message}`),[]}}function p(){if(!i.name||!i.baseUrl||!i.type){alert("Supplier Name, Base URL, and Type are required.");return}const f=d(i.modelsString),u={name:i.name,desc:i.desc||"",baseUrl:i.baseUrl,docUrl:i.docUrl||"",defaultModel:i.defaultModel||"",models:f.map(g=>({...g,id:String(g.id)})),modelsUrl:i.modelsUrl||"",chatUrl:i.chatUrl||"",type:i.type};if(a.value.some(g=>g.name===u.name)){alert(`Supplier with name "${u.name}" already exists.`);return}r.list.push(u),ye("customSuppliersList",r.list),i.name="",i.desc="",i.baseUrl="",i.docUrl="",i.defaultModel="",i.modelsString='[{"id":"default-model-id"}]',i.modelsUrl="",i.chatUrl="",i.type="ChatSupplier",alert("自定义供应商已添加！")}return te(async()=>{var g;const f=await Ue("customSuppliersList");f&&Array.isArray(f)&&(r.list=f);const u=await Ue("supplierForm");u&&(u.apiKeyDict&&(t.apiKeyDict=u.apiKeyDict),u.supplierModelsDict&&(t.supplierModelsDict=u.supplierModelsDict),u.selectedModelDict&&(t.selectedModelDict=u.selectedModelDict),(g=u.selectedSupplier)!=null&&g.name&&(t.selectedSupplier=a.value.find(x=>x.name===u.selectedSupplier.name))),!t.selectedSupplier&&a.value.length>0&&(t.selectedSupplier=a.value[0])}),()=>[o(V,{header:"模型配置",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f;return o("div",{class:"stack-v"},[o(ke,{name:"supplier",options:a.value,optionLabel:"name",placeholder:"选择供应商",fluid:!0,modelValue:t.selectedSupplier,"onUpdate:modelValue":u=>{t.selectedSupplier=u,ye("supplierForm",t)}}),o(j,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:t.selectedSupplier?t.apiKeyDict[t.selectedSupplier.name]:"","onUpdate:modelValue":u=>{t.selectedSupplier&&(t.apiKeyDict[t.selectedSupplier.name]=u,ye("supplierForm",t))}}),o("div",{class:"stack-h w-full"},[o(ke,{name:"model",options:s.value,optionLabel:"name",placeholder:"选择模型",class:"grow-1",modelValue:c.value,"onUpdate:modelValue":u=>{t.selectedSupplier&&(t.selectedModelDict[t.selectedSupplier.name]=u,ye("supplierForm",t))}}),o(R,{icon:"pi pi-refresh",tooltip:"刷新模型列表",command:()=>{t.selectedSupplier?u0(t.selectedSupplier,t):alert("请先选择一个供应商。")}})]),((f=window==null?void 0:window.location)==null?void 0:f.hostname)!="localhost"?null:o(R,{size:"small",icon:"pi pi-cog",label:"debug",command:()=>{console.log({supplierForm:t,selectedModel:c.value,allSuppliers:a.value,customSuppliers:r.list})}})])}}),o(V,{header:"添加自定义供应商（目前仅支持OpenAI接口）",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>o("div",{class:"stack-v"},[o(j,{fluid:!0,placeholder:"名称 (必填)",modelValue:i.name,"onUpdate:modelValue":f=>i.name=f}),o(j,{fluid:!0,placeholder:"描述",modelValue:i.desc,"onUpdate:modelValue":f=>i.desc=f}),o(j,{fluid:!0,placeholder:"Base URL (必填, e.g., https://api.example.com/v1)",modelValue:i.baseUrl,"onUpdate:modelValue":f=>i.baseUrl=f}),o(j,{fluid:!0,placeholder:"文档 URL",modelValue:i.docUrl,"onUpdate:modelValue":f=>i.docUrl=f}),o(j,{fluid:!0,placeholder:"默认模型 ID",modelValue:i.defaultModel,"onUpdate:modelValue":f=>i.defaultModel=f}),o("div",{class:"text-sm opacity-80 fw-500 mt-0.5rem"},"模型列表 (JSON格式)"),o(H,{class:"w-full font-mono text-sm",placeholder:'[{"id":"model1-id", "name":"Model One (Optional)"}, {"id":"model2-id"}]',rows:3,modelValue:i.modelsString,"onUpdate:modelValue":f=>i.modelsString=f}),o(j,{fluid:!0,placeholder:"模型列表 API 路径 (e.g., /models)",modelValue:i.modelsUrl,"onUpdate:modelValue":f=>i.modelsUrl=f}),o(j,{fluid:!0,placeholder:"对话 API 路径 (e.g., /chat/completions)",modelValue:i.chatUrl,"onUpdate:modelValue":f=>i.chatUrl=f}),o(ke,{class:"hidden!",options:l,placeholder:"类型 (必填)",fluid:!0,modelValue:i.type,"onUpdate:modelValue":f=>i.type=f}),o(R,{label:"添加供应商",icon:"pi pi-plus",class:"mt-0.5rem",command:p})])})]}});async function Uo(e,r){var c,n,s,d,p,f;console.log("循环总流程",(s=(n=(c=e==null?void 0:e.state)==null?void 0:c.notebook)==null?void 0:n.entries)==null?void 0:s.length);const a=e.state.totalCount??0,t=e.maxLoopCount;if(a>=t){e.end("maxLoopCount reached"),B0();return}const i=[];if(Object.values(e.state.quStateDict??{}).forEach(u=>u.isSimpleV||u.isSimpleT?(u.stateText="太简单已跳过",!1):u.isSkipV||u.isSkipT?(u.stateText="太困难已跳过",!1):(u.trainedCountT??0)>=e.maxVerifyCount?(u.stateText="练够了已跳过",!1):(u.correctCountV??0)>=e.maxCertifyCount?(u.stateText="验够了已跳过",!1):(i.push(u),!0)),!i.length){if(e.state.versionCertifyCount??0>=e.maxCertifyCount){e.end("all questions reached max verify/certify count"),Io();return}e.state.versionCertifyCount==null&&(e.state.versionCertifyCount=0),e.state.versionCertifyCount+=1}const l=i.map(u=>u.nnid);console.log((f=(p=(d=e==null?void 0:e.state)==null?void 0:d.notebook)==null?void 0:p.entries)==null?void 0:f.length),await Y0(e,l,r)}async function Y0(e,r,a){var d,p,f,u,g,x,$;e.修正做题初始状态(),await Mo(e);const t=r.map(B=>e.getQuEntry(B));t.sort((B,m)=>{const v=e.getQuState(B.nnid),w=e.getQuState(m.nnid),S=v.trainedCountT??0,D=w.trainedCountT??0;return S-D}),r=t.map(B=>B.nnid);const i=e.batchSize;let l=!0,c=!0;const n=[];for(let B=0;B<t.length;B+=i)n.push({batchIndex:B,entries:t.slice(B,B+i),ids:r.slice(B,B+i)});const s=0;await((d=e==null?void 0:e.signalFn)==null?void 0:d.call(e,`循环核心流程 开始，
有${t.length}题，
共${n.length}个批次，
从批次[${s}]开始`,"info",1e4));for(let B=s;B<n.length;B++){const m=[];let v=!0,w=!0;if(e.state.lastBatchIndex=B,e.shouldStop){await((p=e==null?void 0:e.signalFn)==null?void 0:p.call(e,"程序应结束","error",2e3)),e.abortTraining();return}e.state.isProcessingBatch=!0,await((f=e==null?void 0:e.signalFn)==null?void 0:f.call(e,`批次 [${B+1} of ${n.length}] 开始`,"info",1e4));const S=n[B],D=S.entries,k=S.ids,y=await Promise.all(D.map(async E=>await X0(e,E.nnid)));if(await Promise.all(y.map(async(E,O)=>{const F=k[O];if(E===1){l=!1,v=!1,await ef(e,F);return}else if(E===0){l=!1,v=!1,c=!1,w=!1,await Z0(e,F),m.push(F);return}else if(E===-1){c=!1,w=!1;return}else if(E===-2){c=!1,w=!1;return}})),console.log(JSON.parse(JSON.stringify(e.state))),!w&&!e.practiceOnlyMode)try{const E=e.getNotebook(),O=e.getNotebookVersion();await xe(E,O);const{version:F}=e.initNewNotebookVersion();await K0(e,m),await xe(e.getNotebook(),F)}catch(E){(u=e==null?void 0:e.signalFn)==null||u.call(e,"笔记更新失败","error",2e3),console.error(E),ie(),e.state.isProcessingBatch=!1,e.abortTraining();return}else!w&&e.practiceOnlyMode&&await((g=e==null?void 0:e.signalFn)==null?void 0:g.call(e,"仅做题模式：跳过笔记更新","info",2e3));if(await(a==null?void 0:a()),e.state.isProcessingBatch=!1,e.trainingState===z.PREPARING_PAUSE){e.trainingState=z.PAUSED,(x=e.signalFn)==null||x.call(e,"训练已暂停，等待恢复"),e.state.lastBatchIndex=B+1,e.state.isProcessingBatch=!1;return}if(e.shouldStop){await(($=e==null?void 0:e.signalFn)==null?void 0:$.call(e,"程序应结束","error",2e3)),e.state.isProcessingBatch=!1,e.abortTraining();return}if(v){e.end("batchAllBugs"),De(8),ie();return}}if(l){e.end("allBugs"),De(8),ie();return}c&&(e.state.versionCertifyCount=(e.state.versionCertifyCount??0)+1),e.state.totalCount=(e.state.totalCount??0)+1,e.state.versionCount=(e.state.versionCount??0)+1,Po(),await Uo(e,a)}async function K0(e,r){var t,i,l,c,n,s,d,p,f;No();const a=[];for(const u of r){const g=e.getQuData(u),x={operations:(i=(t=g==null?void 0:g.errorReport)==null?void 0:t.outputData)==null?void 0:i.operations};x&&a.push(x)}if(!a.length)return-1;try{const u={opPlans:a,qtBook:P.cloneDeep(e.getNotebook())};if((a==null?void 0:a.length)>1){const g=((l=e.customPrompts)==null?void 0:l.promptVersion)||le;await Q0(u,e.supplierForm,()=>{e.state.notebookEditPlan=P.pick(u,["processing","thinkingSpans","outputSpans","outputData"])},(c=e.customPrompts)==null?void 0:c.stage4_合并对笔记的修改_prompt,(n=e.customPrompts)==null?void 0:n.笔记介绍,(s=e.customPrompts)==null?void 0:s.笔记操作介绍,(d=e.customPrompts)==null?void 0:d.笔记介绍标记,(p=e.customPrompts)==null?void 0:p.笔记操作介绍标记),e.state.notebookEditPlan.outputData=u.outputData,zo(),Te({promptVersion:g,version:e.getNotebookVersion(),data:Re(u),selectedSupplier:(f=e.supplierForm)==null?void 0:f.selectedSupplier,type:"合并对笔记的修改",time:Date.now()}),await re(200)}else e.state.notebookEditPlan={outputData:a[0]};return await Mo(e),1}catch(u){return ie(),console.error(u),-1}}async function Mo(e){var a,t,i,l;if(((t=(a=e.state.notebookEditPlan)==null?void 0:a.outputData)==null?void 0:t.operations)==null)return;const r={operations:(l=(i=e.state.notebookEditPlan)==null?void 0:i.outputData)==null?void 0:l.operations,qtBook:P.cloneDeep(e.getNotebook())};A0(r),e.setNotebook(r.qtBook),await re(30),e.state.notebookEditPlan={},await re(100),Oo()}async function X0(e,r){var d,p,f,u,g,x,$,B,m,v,w,S,D,k,y,E,O,F,h;await re(200);const a=e.getQuEntry(r);if(!a)return-1;const t=e.getQuState(r);t.stateText="预备";const i=e.getQuData(r),l=e.getNotebook(),c=l.entries;i.judgeResponse={},i.response={},i.errorReport={};const n={qtBook:l,question:{content:a.content}},s={note:null,question:{content:a.content}};try{t.stateText="判断题型中";const A=((d=e.customPrompts)==null?void 0:d.promptVersion)||le;if(await F0(n,e.supplierForm,()=>{i.judgeResponse=P.pick(n,["processing","thinkingSpans","outputSpans","outputData"])},(p=e.customPrompts)==null?void 0:p.stage0_判断题型_prompt),Te({promptVersion:A,version:e.getNotebookVersion(),data:Re(n),selectedSupplier:(f=e.supplierForm)==null?void 0:f.selectedSupplier,type:"judgeResponse",time:Date.now()}),e.shouldStop)return t.stateText="中断",await((u=e==null?void 0:e.signalFn)==null?void 0:u.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(i.judgeResponse.outputData=n.outputData,((g=i.judgeResponse)==null?void 0:g.outputData)==null)throw t.stateText="报错",new Error("判断题型 时没有输出正确格式的数据");const U=(($=(x=i.judgeResponse)==null?void 0:x.outputData)==null?void 0:$.name)??((m=(B=i.judgeResponse)==null?void 0:B.outputData)==null?void 0:m.qtName),C=c.find(Q=>Q.name===U);C==null&&await((v=e==null?void 0:e.signalFn)==null?void 0:v.call(e,`没有找到题型「${U}」的笔记`,"warn",5e3)),s.note=C,qo(),t.stateText="做题中";const b=(w=e.customPrompts)==null?void 0:w.stage1_根据笔记做题_prompt,T=((S=e.customPrompts)==null?void 0:S.promptVersion)||le;if(await M0(s,e.supplierForm,()=>{i.response=P.pick(s,["processing","thinkingSpans","outputSpans","outputData"])},b),Te({promptVersion:T,version:e.getNotebookVersion(),data:Re(s),selectedSupplier:(D=e.supplierForm)==null?void 0:D.selectedSupplier,type:"response",time:Date.now()}),e.shouldStop)return t.stateText="中断",await((k=e==null?void 0:e.signalFn)==null?void 0:k.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(i.response.outputData=s.outputData,((y=i.response)==null?void 0:y.outputData)==null)throw t.stateText="报错",new Error("根据笔记做题 时没有输出正确格式的数据");const I=JSON.stringify(a==null?void 0:a.answer),_=JSON.stringify((O=(E=i.response)==null?void 0:E.outputData)==null?void 0:O.answer);return I!=_&&(a==null?void 0:a.answer)!=((h=(F=i.response)==null?void 0:F.outputData)==null?void 0:h.answer)?(t.stateText="错误待分析",Je(),0):(t.stateText="正确",Do(),1)}catch(A){return t.stateText="报错",ie(),console.log({quEntry:a,quState:t}),console.error(A),-1}}async function Z0(e,r){var f,u,g,x,$,B,m,v,w,S,D,k,y,E,O;const a=e.getQuState(r);if(!a||(a.trainedCountV=(a.trainedCountV??0)+1,a.trainedCountT=(a.trainedCountT??0)+1,a.errorCountV=(a.errorCountV??0)+1,a.errorCountT=(a.errorCountT??0)+1,a.errorCountV>=e.versionSkipThreshold&&(a.isSkipV=!0),a.errorCountT>=e.totalSkipThreshold&&(a.isSkipT=!0),a.isSkipV||a.isSkipT))return;if(e.shouldStop)return await((f=e==null?void 0:e.signalFn)==null?void 0:f.call(e,"程序应结束","error",2e3)),e.abortTraining(),-2;if(e.practiceOnlyMode){a.stateText="错误（仅做题模式）",Je();return}const t=e.getQuEntry(r),i=e.getQuData(r),c=e.getNotebook().entries,n=(g=(u=i.judgeResponse)==null?void 0:u.outputData)==null?void 0:g.qtName,s=[];c.forEach(F=>{if(F.name===n)s.push(F);else{const h=P.pick(F,["name","desc","clue"]);s.push(h)}});const d={qtBook:{entries:s},errorCase:{question:t,errorOutput:P.omit((x=i.response)==null?void 0:x.outputData,["didFollow","reflection","noteAdvice"])}};await(($=e==null?void 0:e.signalFn)==null?void 0:$.call(e,`错误分析中[${t.nnid}]`,"warn",3e3)),i.errorReport={},a.stateText="错误分析中";const p=((B=e.customPrompts)==null?void 0:B.promptVersion)||le;if(await j0(d,e.supplierForm,()=>{i.errorReport=P.pick(d,["processing","thinkingSpans","outputSpans","outputData"])},(m=e.customPrompts)==null?void 0:m.stage2_根据错题修改笔记_prompt,(v=e.customPrompts)==null?void 0:v.笔记介绍,(w=e.customPrompts)==null?void 0:w.笔记操作介绍,(S=e.customPrompts)==null?void 0:S.笔记介绍标记,(D=e.customPrompts)==null?void 0:D.笔记操作介绍标记),await((k=e==null?void 0:e.signalFn)==null?void 0:k.call(e,`错误已分析了吗[${t.nnid}]`,"warn",3e3)),Te({promptVersion:p,version:e.getNotebookVersion(),data:Re(d),selectedSupplier:(y=e.supplierForm)==null?void 0:y.selectedSupplier,type:"errorReport",time:Date.now()}),a.stateText="错误已分析",await((E=e==null?void 0:e.signalFn)==null?void 0:E.call(e,`错误已分析[${t.nnid}]`,"warn",3e3)),i.errorReport.outputData=d.outputData,((O=i.errorReport)==null?void 0:O.outputData)==null)throw ie(),new Error("根据错题修改笔记 时没有输出正确格式的数据");Eo()}async function ef(e,r){const a=e.getQuState(r);a&&(a.trainedCountV=(a.trainedCountV??0)+1,a.trainedCountT=(a.trainedCountT??0)+1,a.correctCountV=(a.correctCountV??0)+1,a.correctCountT=(a.correctCountT??0)+1,a.trainedCountV===a.correctCountV&&(a.isSimpleV=a.trainedCountV>=e.versionSimpleThreshold),a.trainedCountT===a.correctCountT&&(a.isSimpleT=a.trainedCountT>=e.totalSimpleThreshold))}const fo={batchSize:5,maxLoopCount:16,maxVerifyCount:20,maxCertifyCount:2,versionSimpleThreshold:2,totalSimpleThreshold:4,versionSkipThreshold:6,totalSkipThreshold:12,practiceOnlyMode:!1},of={quCount:0,totalCount:0,versionCount:0,versionCertifyCount:0,quStateDict:{},quDataDict:{},notebook:{entries:[]},notebookVersion:"",notebookEditPlan:{},ended:!1,endReason:"",endTime:"",startTime:"",isProcessingBatch:!1,lastBatchIndex:0};class go{constructor(r){W(this,"_options",P.cloneDeep(fo));W(this,"trainingState",z.IDLE);W(this,"customPrompts",{});W(this,"isSWOT",!0);W(this,"signalFn");W(this,"supplierForm");W(this,"state",{quStateDict:{},quDataDict:{},notebook:{entries:[]},notebookVersion:"",notebookEditPlan:{}});W(this,"quDict",{});this.loadOptions(r),this.resetState()}get options(){return this._options}get shouldStop(){return[z.ABORTING,z.ABORTED,z.ENDED].includes(this.trainingState)}get batchSize(){return this._options.batchSize??5}get maxLoopCount(){return this._options.maxLoopCount??30}get maxVerifyCount(){return this._options.maxVerifyCount??20}get maxCertifyCount(){return this._options.maxCertifyCount??2}get versionSimpleThreshold(){return this._options.versionSimpleThreshold??2}get totalSimpleThreshold(){return this._options.totalSimpleThreshold??4}get versionSkipThreshold(){return this._options.versionSkipThreshold??5}get totalSkipThreshold(){return this._options.totalSkipThreshold??10}get practiceOnlyMode(){return this._options.practiceOnlyMode??!1}get quEntries(){return Object.values(this.quDict)}getQuEntry(r){return this.quDict[r]}getQu(r){return this.getQuEntry(r)}getQuState(r){var a;return((a=this.state.quStateDict)==null?void 0:a[r])==null&&(this.state.quStateDict[r]={nnid:r,stateText:"预备"}),this.state.quStateDict[r]}getQuData(r){var a;return((a=this.state.quDataDict)==null?void 0:a[r])==null&&(this.state.quDataDict[r]={nnid:r}),this.state.quDataDict[r]}getNotebook(){return this.state.notebook}setNotebook(r){return this.state.notebook=r,this.state.notebook}getNotebookVersion(){return this.state.notebookVersion}updatePromptTemplates(r){r&&(this.customPrompts={stage0_判断题型_prompt:r.stage0_判断题型||void 0,stage1_根据笔记做题_prompt:r.stage1_根据笔记做题||void 0,stage2_根据错题修改笔记_prompt:r.stage2_根据错题修改笔记||void 0,stage4_合并对笔记的修改_prompt:r.stage4_合并对笔记的修改||void 0,笔记介绍:r.笔记介绍||void 0,笔记操作介绍:r.笔记操作介绍||void 0,笔记介绍标记:r.笔记介绍标记||void 0,笔记操作介绍标记:r.笔记操作介绍标记||void 0,promptVersion:r.version||void 0})}initNewNotebookVersion(){return this.state.notebookVersion=`${ae(6)}`,this.state.versionCount=0,this.state.versionCertifyCount=0,Object.values(this.state.quStateDict).forEach(r=>{r.trainedCountV=void 0,r.correctCountV=void 0,r.errorCountV=void 0,r.isSimpleV=void 0,r.isSkipV=void 0}),{version:this.state.notebookVersion,notebook:this.state.notebook}}修正做题初始状态(){Object.values(this.state.quStateDict).forEach(r=>{r.stateText=="错误待分析"&&(r.stateText="错误未分析"),r.stateText=="错误分析中"&&(r.stateText="错误未分析")})}resetOptions(){this._options=P.cloneDeep(fo)??{}}assignOptions(r){Object.assign(this._options,r??{})}loadOptions(r){this.resetOptions(),this.assignOptions(r)}resetState(){var t,i,l,c;const r=(i=(t=this==null?void 0:this.state)==null?void 0:t.notebook)==null?void 0:i.entries,a=(l=this==null?void 0:this.state)==null?void 0:l.notebookVersion;this.state=P.cloneDeep(of)??{},(c=this==null?void 0:this.options)!=null&&c.practiceOnlyMode&&(this.state.notebook={entries:r??[]},this.state.notebookVersion=a??""),this.state.quCount=this.quEntries.length,this.loadQuEntries(this.quEntries,!0)}assignState(r){Object.assign(this.state,r??{})}loadState(r){this.resetState(),this.assignState(r)}resetQuEntries(){this.quDict={}}loadQuEntries(r,a=!1){this.resetQuEntries(),this.state.quStateDict==null&&(this.state.quStateDict={}),this.state.quDataDict==null&&(this.state.quDataDict={}),this.state.quCount=r.length;for(const t of r){const i=t.nnid;this.quDict[i]=t,(a||this.state.quStateDict[i]==null)&&(this.state.quStateDict[i]={nnid:i,stateText:"预备"}),(a||this.state.quDataDict[i]==null)&&(this.state.quDataDict[i]={nnid:i})}a&&(this.state.totalCount=0,this.state.versionCount=0,this.state.versionCertifyCount=0)}toJSON(r=!1){return{_options:this._options,quEntries:r?this.quEntries:[],state:this.state,trainingState:this.trainingState}}fromJSON(r,a=!1){this.loadOptions(r._options),this.loadState(r.state),[z.RUNNING,z.PREPARING_PAUSE,z.ABORTING].includes(r.trainingState)?this.trainingState=z.ABORTED:this.trainingState=r.trainingState;let t=!1;this.state.quStateDict==null&&(this.state.quStateDict={},t=!0),this.state.quDataDict==null&&(this.state.quDataDict={},t=!0),this.loadQuEntries(r.quEntries,a||t)}async start(r){var a;(this.trainingState===z.IDLE||this.trainingState===z.ENDED||this.trainingState===z.ABORTED)&&(this.trainingState=z.RUNNING,(a=this.signalFn)==null||a.call(this,"开始训练"),await this.restart(r))}async restart(r){this.resetStateManually(),this.state.startTime=new Date().toISOString(),this.trainingState=z.RUNNING,await this.continue(r)}async resetStateManually(){this.resetState(),this.state.quCount=this.quEntries.length,this.state.ended=!1,this.state.lastBatchIndex=0,this.state.startTime="",this.state.totalCount=0,this.state.versionCount=0,this.state.versionCertifyCount=0,this.state.isProcessingBatch=!1}async continue(r){var a,t,i;if(this.trainingState===z.ENDED){this.trainingState=z.RUNNING,(a=this.signalFn)==null||a.call(this,"训练本已结束，现在重新继续");return}this.trainingState===z.PAUSED&&(this.trainingState=z.RUNNING,(t=this.signalFn)==null||t.call(this,"从暂停状态恢复训练")),this.trainingState===z.ABORTED&&(this.trainingState=z.RUNNING,(i=this.signalFn)==null||i.call(this,"从中止状态恢复训练")),await Uo(this,r)}async requestPause({before:r,after:a}){var t;return await(r==null?void 0:r()),this.trainingState===z.RUNNING?(this.trainingState=z.PREPARING_PAUSE,(t=this.signalFn)==null||t.call(this,"准备暂停训练，等待当前批次完成..."),await(a==null?void 0:a()),!0):!1}async cancelPauseRequest(r){var a;return this.trainingState===z.PREPARING_PAUSE?(this.trainingState=z.RUNNING,(a=this.signalFn)==null||a.call(this,"已取消暂停请求，继续训练"),await(r==null?void 0:r()),!0):!1}resume(r){var a;return[z.PAUSED,z.ABORTED,z.ENDED].includes(this.trainingState)?((a=this.signalFn)==null||a.call(this,"恢复训练"),this.continue(r),!0):!1}async requestAbort(r="用户请求中止",{before:a,after:t}){var i;return await(a==null?void 0:a()),this.trainingState===z.RUNNING||this.trainingState===z.PAUSED||this.trainingState===z.PREPARING_PAUSE?(this.trainingState=z.ABORTING,(i=this.signalFn)==null||i.call(this,`请求中止训练: ${r}`),this.state.isProcessingBatch||this.abortTraining(void 0,t),!0):!1}finishTraining(r){this.trainingState=z.ENDED,this.end(r||"训练完成")}abortTraining(r,a){this.trainingState=z.ABORTED,this.end(r||"训练中止",a)}getTrainingStateText(){switch(this.trainingState){case z.IDLE:return"未开始";case z.RUNNING:return"训练中";case z.PREPARING_PAUSE:return"准备暂停";case z.PAUSED:return"已暂停";case z.ENDED:return"已结束";case z.ABORTED:return"已中止";default:return"未知状态"}}async end(r,a){var t,i;this.trainingState===z.ABORTING?(this.state.ended=!0,this.state.endReason=r||"训练中止",this.state.endTime=new Date().toISOString(),(t=this.signalFn)==null||t.call(this,`训练已中止: ${this.state.endReason}`),this.trainingState=z.ABORTED,await(a==null?void 0:a())):(this.state.ended=!0,this.state.endReason=r,this.state.endTime=new Date().toISOString(),(i=this.signalFn)==null||i.call(this,`训练已结束: ${this.state.endReason}`),this.trainingState=z.ENDED,await(a==null?void 0:a()))}async reset(r){var a;this.resetStateManually(),this.trainingState=z.IDLE,await((a=this.signalFn)==null?void 0:a.call(this,"训练已重置")),await(r==null?void 0:r())}}const rf=L({name:"AITrainingSystem",components:{TrainingControlPanel:eo,QuestionCard:oo,CurrentNotePanel:ro,NoteHistoryPanel:so,ChatRecordsPanel:co,AccuracyPanel:uo},setup(){const e=ge(),r=Y({selectedSupplier:je[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),a=Y({activeTabIndex:0}),t=Y({trainer:null,questions:[],promptTemplates:null}),i=q(!1),l=J(()=>{var C,b;return(b=(C=t==null?void 0:t.trainer)==null?void 0:C.state)==null?void 0:b.quStateDict}),c=J(()=>{var C,b;return(b=(C=t==null?void 0:t.trainer)==null?void 0:C.state)==null?void 0:b.quDataDict}),n=J(()=>{var C;return((C=t.trainer)==null?void 0:C.getTrainingStateText())||"未开始"}),s=()=>{t.questions=wr},d=C=>{t.questions=C,de("questions",t.questions),(t==null?void 0:t.trainer)!=null&&t.trainer.loadQuEntries(t.questions,!1),console.log("appData.questions",t.questions)},p=()=>{console.log("appData",t)},f=()=>{console.log("UI State:",a)},u=async()=>{var b;if(t.questions&&t.questions.length&&await de("questions",t.questions),!((b=t==null?void 0:t.trainer)!=null&&b.isSWOT))return;const C=t.trainer.toJSON(!1);await de("trainer",C),console.log("json",C),console.log("appData.trainer",t.trainer)},g=async()=>{await de("uiData",a),console.log("Saved UI data:",a)},x=async()=>{var C;await de("promptTemplates",t.promptTemplates),e.add({severity:"success",summary:"提示词模板已保存",detail:`保存版本: ${((C=t.promptTemplates)==null?void 0:C.version)||"未命名"}`,life:2e3})},$=C=>{t.promptTemplates=C,t.trainer&&t.trainer.updatePromptTemplates(C)},B=async()=>{var I;if(!((I=t==null?void 0:t.trainer)!=null&&I.isSWOT))return;const C=t.trainer.toJSON(!1),b=new Blob([JSON.stringify(C)],{type:"application/json"}),T=`SWOT_Trainer_${new Date().toISOString()}.json`;He.saveAs(b,T),e.add({severity:"info",summary:"导出数据",detail:`已导出 ${T}`,life:1e3})},m=async()=>{const C=new Blob([JSON.stringify(t.questions)],{type:"application/json"}),b=`SWOT_Questions_${new Date().toISOString()}.json`;He.saveAs(C,b),e.add({severity:"info",summary:"导出数据",detail:`已导出 ${b}`,life:1e3})},v=()=>{i.value=!0},w=C=>{i.value=C},S=async()=>{t.trainer=new go;const C=await Se("trainer");console.log("trainerJson",C),C&&(t.trainer.fromJSON(C),e.add({severity:"info",summary:"已加载",detail:"已加载训练器状态",life:1e3})),t.trainer.signalFn=(I,_="info",Q=1e3)=>{e.add({severity:_??"info",summary:"SWOT",detail:I,life:Q??1e3})},t.trainer.supplierForm=r,console.log("appData.trainer",t.trainer);const b=await Se("promptTemplates");b?(t.promptTemplates=b,t.trainer&&t.trainer.updatePromptTemplates(b),console.log("Loaded prompt templates:",b)):(t.promptTemplates={version:le,stage0_判断题型:qe,stage1_根据笔记做题:ze,stage2_根据错题修改笔记:Ie,stage4_合并对笔记的修改:Pe,笔记介绍:se,笔记操作介绍:ce,笔记介绍标记:Ce,笔记操作介绍标记:we},t.trainer&&t.trainer.updatePromptTemplates(t.promptTemplates));const T=await Se("questions");T!=null&&T.length?(t.questions=T,t.trainer.loadQuEntries(T,!1),e.add({severity:"info",summary:"已加载",detail:`加载了 ${t.questions.length} 条已保存的题目`,life:1e3})):(await s(),t.trainer.loadQuEntries(t.questions,!1),e.add({severity:"info",summary:"从头加载",detail:`加载了 ${t.questions.length} 条内置题目`,life:1e3})),console.log("appData.questions",t.questions)},D=C=>{t.trainer&&t.trainer.assignOptions(C)},k=()=>{e.add({severity:"info",summary:"UI演示",detail:"错误分析点击",life:1e3})},y=async C=>{var b,T;try{if(!C.content||typeof C.content!="string"){e.add({severity:"error",summary:"导入失败",detail:"文件内容无效",life:3e3});return}const I=JSON.parse(C.content);if(!I){e.add({severity:"error",summary:"导入失败",detail:"无法解析 JSON 数据",life:3e3});return}if(t.trainer||(t.trainer=new go),t.trainer.fromJSON(I),await de("trainer",t.trainer.toJSON(!1)),t.trainer.loadQuEntries(t.questions,!1),(T=(b=t.trainer)==null?void 0:b.state)!=null&&T.notebook){const _=ae(6);t.trainer.state.notebookVersion=_,await xe(t.trainer.state.notebook,_)}e.add({severity:"success",summary:"导入成功",detail:`成功导入训练器数据，来自文件: ${C.name}`,life:3e3})}catch(I){console.error("导入数据失败:",I),e.add({severity:"error",summary:"导入失败",detail:I.message||"导入训练器数据时发生错误",life:3e3})}},E=C=>{a.activeTabIndex=C,g()},O=async()=>{var C,b,T,I;if((b=(C=t.trainer)==null?void 0:C.state)!=null&&b.notebook)try{const _=ae(6);t.trainer.state.notebookVersion=_,await xe((I=(T=t.trainer)==null?void 0:T.state)==null?void 0:I.notebook,_),e.add({severity:"success",summary:"笔记保存",detail:`笔记已保存，新版本标识: ${_}`,life:2e3})}catch(_){console.error("保存笔记失败:",_),e.add({severity:"error",summary:"笔记保存失败",detail:_.message||"未知错误",life:3e3})}},F=C=>{if(t.trainer){t.trainer.state.notebook=C;const b=ae(6);t.trainer.state.notebookVersion=b,e.add({severity:"info",summary:"笔记已更新",detail:`新版本标识: ${b}`,life:2e3})}},h=async()=>{var C,b,T,I;if((b=(C=t.trainer)==null?void 0:C.state)!=null&&b.notebook)try{const _=ae(6);t.trainer.state.notebookVersion=_,await xe((I=(T=t.trainer)==null?void 0:T.state)==null?void 0:I.notebook,_),e.add({severity:"success",summary:"笔记保存",detail:`笔记已保存，新版本标识: ${_}`,life:2e3})}catch(_){console.error("保存笔记失败:",_),e.add({severity:"error",summary:"笔记保存失败",detail:_.message||"未知错误",life:3e3})}},A=C=>{var b,T;t.trainer&&(console.log("准备加载笔记版本",C),(T=(b=C==null?void 0:C.data)==null?void 0:b.entries)!=null&&T.length?(e.add({severity:"info",summary:"加载笔记版本",detail:`加载版本: ${C.key}`,life:1e3}),t.trainer.state.notebook=C.data,t.trainer.state.notebookVersion=C.key):e.add({severity:"error",summary:"版本无内容",detail:`版本无内容，未加载: ${C.key}`,life:3e3}))},U=C=>{console.log("选择对话记录",C)};return te(async()=>{const C=await Ue("supplierForm");C!=null&&Object.assign(r,C);const b=await Se("uiData");b&&(Object.assign(a,b),console.log("Loaded UI data:",a)),await re(1e3),await S()}),ho(async()=>{await g(),await u()}),()=>o("div",{class:"container mx-auto ==px-4 ==py-6"},[o(pr,{value:a.activeTabIndex,"onUpdate:value":E},{default:()=>[o(mr,{class:"mb-3 max-w-100% overflow-auto"},{default:()=>[o(Z,{value:4,pt:{root:{class:"font-bold"}}},{default:()=>"说明"}),o(Z,{value:7,pt:{root:{class:"font-bold"}}},{default:()=>"模型接口配置"}),o(Z,{value:3,pt:{root:{class:"font-bold"}}},{default:()=>"题库配置"}),o(Z,{value:2,pt:{root:{class:"font-bold"}}},{default:()=>"提示词配置"}),o(Z,{value:0,pt:{root:{class:"font-bold"}}},{default:()=>"训练与答题"}),o(Z,{value:1,pt:{root:{class:"font-bold"}}},{default:()=>"笔记历史"}),o(Z,{value:6,pt:{root:{class:"font-bold"}}},{default:()=>"对话记录"}),o(Z,{value:5,pt:{root:{class:"font-bold"}}},{default:()=>"存储管理"})]}),o(br,{},{default:()=>[o(ee,{value:0},{default:()=>{var C,b;return[((C=window==null?void 0:window.location)==null?void 0:C.hostname)!="localhost"?null:o(V,{header:"DEBUG（仅开发模式可见）",toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"调试工具面板"),o("div",{class:"text-sm opacity-80"},"这里提供各种调试和数据操作按钮，用于保存/加载应用状态、导出/导入训练器数据等")]),o("div",{class:"stack-v"},[o("div",{class:"stack-h"},[o(R,{label:"saveAppData",icon:"pi pi-play",onClick:u}),o(R,{label:"loadAppData",icon:"pi pi-play",onClick:S}),o(R,{label:"logAppData",icon:"pi pi-play",onClick:p}),o(R,{label:"logUiData",icon:"pi pi-info",onClick:f}),o(R,{label:"saveUiData",icon:"pi pi-save",onClick:g}),o(R,{label:"exportTrainerData",icon:"pi pi-download",onClick:B}),o(R,{label:"importTrainerData",icon:"pi pi-upload",onClick:v}),o(R,{label:"exportQuestions",icon:"pi pi-play",onClick:m})])])]}),o("div",{class:"my-1.5rem! grid grid-cols-1 md:grid-cols-12 gap-4"},[o("div",{class:"col-span-1 md:col-span-6 xl:col-span-5 grid grid-cols-1 gap-4"},[o(V,{header:"训练控制",toggleable:!0,class:["bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var T,I,_,Q,X;return[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"控制AI训练流程和参数"),o("div",{class:"text-sm opacity-80"},"在此面板可调整训练参数、启动/暂停训练，并监控训练进度")]),o(eo,{options:(T=t.trainer)==null?void 0:T.options,state:(I=t.trainer)==null?void 0:I.state,isTraining:((_=t.trainer)==null?void 0:_.trainingState)===z.RUNNING,isPaused:((Q=t.trainer)==null?void 0:Q.trainingState)===z.PAUSED,isPreparingPause:((X=t.trainer)==null?void 0:X.trainingState)===z.PREPARING_PAUSE,trainingStateText:n.value,trainer:t.trainer,"onUpdate:options":D,onSaveData:u,"onSave-data":u})]}}),o(uo,{state:(b=t.trainer)==null?void 0:b.state})]),o(V,{header:"题目笔记",toggleable:!0,class:["col-span-1 md:col-span-6 xl:col-span-7","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var T,I,_,Q,X,pe,me,be,ve,he;return[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"查看和编辑用于训练的笔记内容"),o("div",{class:"text-sm opacity-80"},"笔记是AI学习的核心内容，在这里可以查看和编辑笔记，追踪AI对笔记的修改建议")]),o("div",{class:"stack-v"},[o(ro,{class:"w-100%",note:((I=(T=t.trainer)==null?void 0:T.state)==null?void 0:I.notebook)??null,notebookEditPlan:((Q=(_=t.trainer)==null?void 0:_.state)==null?void 0:Q.notebookEditPlan)??null,version:(pe=(X=t.trainer)==null?void 0:X.state)==null?void 0:pe.notebookVersion,onSaveNote:O}),o(O0,{class:"w-100% mb-4",notebook:((be=(me=t.trainer)==null?void 0:me.state)==null?void 0:be.notebook)??null,version:(he=(ve=t.trainer)==null?void 0:ve.state)==null?void 0:he.notebookVersion,"onUpdate:notebook":F,onSave:h})])]}})]),o(V,{header:"本次循环的答题情况",toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var T;return[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"展示当前训练中的问题及AI的回答"),o("div",{class:"text-sm opacity-80"},"在这里可以查看本轮训练中AI处理的每个问题及其回答，包括正确与错误的情况")]),o("div",{class:["stack-h"]},[(((T=t.trainer)==null?void 0:T.quEntries)??[]).map((I,_)=>{var Q,X,pe,me,be,ve,he;return o(oo,{idx:_,class:"w-100% md:max-w-48% xl:max-w-32%",key:I.nnid,question:I,judgeResponse:(X=(Q=c.value)==null?void 0:Q[I.nnid])==null?void 0:X.judgeResponse,response:(me=(pe=c.value)==null?void 0:pe[I.nnid])==null?void 0:me.response,errorReport:(ve=(be=c.value)==null?void 0:be[I.nnid])==null?void 0:ve.errorReport,trainingState:(he=l.value)==null?void 0:he[I.nnid],state:"未知",onAnalyzeError:k})})])]}})]}}),o(ee,{value:7},{default:()=>[o(V,{header:"模型接口管理",class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"对模型接口进行管理"),o("div",{class:"text-sm opacity-80"},"管理模型接口")]),o(H0,{})]})]}),o(ee,{value:1},{default:()=>[o(V,{header:"笔记历史版本",class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>{var C,b;return[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"管理和恢复之前的笔记版本"),o("div",{class:"text-sm opacity-80"},"这里保存了所有历史笔记版本，可以查看笔记的演变过程，并在需要时恢复到之前的版本")]),o(so,{class:"w-100%",currentVersion:(b=(C=t.trainer)==null?void 0:C.state)==null?void 0:b.notebookVersion,onSelectVersion:A})]}})]}),o(ee,{value:2},{default:()=>[o(V,{header:"提示词模板管理",class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"配置用于训练的提示词模板"),o("div",{class:"text-sm opacity-80"},"在这里可以编辑和管理用于训练过程中各个阶段的提示词模板，以优化AI的训练效果")]),o(G0,{savedTemplates:t.promptTemplates,"onUpdate:templates":$,onSave:x})]})]}),o(ee,{value:3},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"对题库进行配置"),o("div",{class:"text-sm opacity-80"},"在这里可以管理用于训练或测试的题库数据，配备了基础的数据格式相关功能")]),o(W0,{onProcessedDataImported:d})]}),o(ee,{value:4},{default:()=>[o(V,{header:"SWOT: self-prompt training",toggleable:!0,class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[o(N0)]})]}),o(ee,{value:6},{default:()=>[o(V,{header:"对话历史记录",class:["my-1.5rem! col","bg-zinc-100/75!","dark:bg-zinc-800/75!"]},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"查看和管理与AI模型的对话记录"),o("div",{class:"text-sm opacity-80"},"这里保存了与AI模型的历史对话记录，可以查看和分析之前的交互过程")]),o(co,{class:"w-100%",onSelectChat:U})]})]}),o(ee,{value:5},{default:()=>[o("div",{class:"p-2 mb-3 bg-blue-50 dark:bg-blue-900/30 rounded-sm border-l-4 border-blue-500"},[o("div",{class:"font-medium"},"管理本地存储数据"),o("div",{class:"text-sm opacity-80"},"在这里可以查看和管理系统在本地存储的各种数据，包括清理和备份功能")]),o(b0,{class:"w-100%"})]})]})]}),o(Me,{visible:i.value,"onUpdate:visible":w,title:"导入训练器数据",acceptedFileTypes:"application/json",onFileUploaded:y})])}}),tf=[{path:"/:pathMatch(.*)*",name:"404",component:Hu},{path:"/",redirect:"/train"},{path:"/",name:"app-root",component:r0,children:[{path:"train",name:"app-train",component:rf}]}],af=er({history:or(),routes:tf}),nf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lf=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sf=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function cf(e,r){if(e==="__proto__"||e==="constructor"&&r&&typeof r=="object"&&"prototype"in r){df(e);return}return r}function df(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function uf(e,r={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const a=e.trim();if(a.length<=9)switch(a.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!sf.test(e)){if(r.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(nf.test(e)||lf.test(e)){if(r.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,cf)}return JSON.parse(e)}catch(t){if(r.strict)throw t;return e}}function ff(e,r){if(e==null)return;let a=e;for(let t=0;t<r.length;t++){if(a==null||a[r[t]]==null)return;a=a[r[t]]}return a}function Qe(e,r,a){if(a.length===0)return r;const t=a[0];return a.length>1&&(r=Qe(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,t)?Number.isInteger(Number(a[1]))?[]:{}:e[t],r,Array.prototype.slice.call(a,1))),Number.isInteger(Number(t))&&Array.isArray(e)?e.slice()[t]:Object.assign({},e,{[t]:r})}function Lo(e,r){if(e==null||r.length===0)return e;if(r.length===1){if(e==null)return e;if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(r[0],1);const a={};for(const t in e)a[t]=e[t];return delete a[r[0]],a}if(e[r[0]]==null){if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const a={};for(const t in e)a[t]=e[t];return a}return Qe(e,Lo(e[r[0]],Array.prototype.slice.call(r,1)),[r[0]])}function jo(e,r){return r.map(a=>a.split(".")).map(a=>[a,ff(e,a)]).filter(a=>a[1]!==void 0).reduce((a,t)=>Qe(a,t[1],t[0]),{})}function Jo(e,r){return r.map(a=>a.split(".")).reduce((a,t)=>Lo(a,t),e)}function po(e,{storage:r,serializer:a,key:t,debug:i,pick:l,omit:c,beforeHydrate:n,afterHydrate:s},d,p=!0){try{p&&(n==null||n(d));const f=r.getItem(t);if(f){const u=a.deserialize(f),g=l?jo(u,l):u,x=c?Jo(g,c):g;e.$patch(x)}p&&(s==null||s(d))}catch(f){i&&console.error("[pinia-plugin-persistedstate]",f)}}function mo(e,{storage:r,serializer:a,key:t,debug:i,pick:l,omit:c}){try{const n=l?jo(e,l):e,s=c?Jo(n,c):n,d=a.serialize(s);r.setItem(t,d)}catch(n){i&&console.error("[pinia-plugin-persistedstate]",n)}}function gf(e,r,a){const{pinia:t,store:i,options:{persist:l=a}}=e;if(!l)return;if(!(i.$id in t.state.value)){const s=t._s.get(i.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const n=(Array.isArray(l)?l:l===!0?[{}]:[l]).map(r);i.$hydrate=({runHooks:s=!0}={})=>{n.forEach(d=>{po(i,d,e,s)})},i.$persist=()=>{n.forEach(s=>{mo(i.$state,s)})},n.forEach(s=>{po(i,s,e),i.$subscribe((d,p)=>mo(p,s),{detached:!0})})}function pf(e={}){return function(r){gf(r,a=>({key:(e.key?e.key:t=>t)(a.key??r.store.$id),debug:a.debug??e.debug??!1,serializer:a.serializer??e.serializer??{serialize:t=>JSON.stringify(t),deserialize:t=>uf(t)},storage:a.storage??e.storage??window.localStorage,beforeHydrate:a.beforeHydrate,afterHydrate:a.afterHydrate,pick:a.pick,omit:a.omit}),e.auto??!1)}}var mf=pf();const Qo=rr();Qo.use(mf);const bf={title:"Storage Management",usageCalculating:"Storage Usage: Calculating...",usagePrefix:"Storage Usage: ",notCalculated:"Not calculated",usageDetailsTitle:"Storage Usage Details",refreshTip:"Refresh storage information",calculatingDetails:"Calculating storage space usage...",errorDefault:"Error occurred while fetching storage information",unsupportedAPI:"The current browser does not support the Storage Estimation API, unable to obtain accurate storage size.",totalUsage:"Total Space Used",unknown:"Unknown",totalRecords:"Total Database Records",recordsSuffix:"records",qtBookBackupsTable:"Note History Versions Table",chatRecordsTable:"Chat Records Table",kvsTable:"Key-Value Store Table"},vf={StorageInfoPanel:bf,moduleTitle:"AI Training System"},hf={AITrainingSystem:vf,message:{hello:"Hello, world"}},yf={title:"存储空间管理",usageCalculating:"存储占用: 计算中...",usagePrefix:"存储占用: ",notCalculated:"未计算",usageDetailsTitle:"存储空间使用情况",refreshTip:"刷新存储信息",calculatingDetails:"正在计算存储空间使用情况...",errorDefault:"获取存储信息时发生错误",unsupportedAPI:"当前浏览器不支持存储估算 API，无法获取精确存储大小",totalUsage:"总占用空间",unknown:"未知",totalRecords:"数据库记录总数",recordsSuffix:"条记录",qtBookBackupsTable:"笔记历史版本表",chatRecordsTable:"对话记录表",kvsTable:"键值存储表"},kf={StorageInfoPanel:yf,moduleTitle:"AI 训练系统模块"},xf={AITrainingSystem:kf,message:{hello:"你好，世界"}},Cf=tr({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:hf,zh:xf}}),K=ar(Tr);K.use(vr,{ripple:!0,theme:{preset:Wu,options:{prefix:"p",darkModeSelector:`.${Fe}`,cssLayer:!1}}});K.use(af);K.use(Qo);K.use(hr);K.use(yr);K.use(kr);K.use(Cf);K.directive("tooltip",xo);K.mount("#app");
